!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="/dist/",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(2),o=r(a),i=n(3),u=n(4),s=n(26),l=r(s),c=n(28),f=r(c),p=n(44),d=r(p),v=o["default"].createClass({displayName:"RootComponent",componentWillMount:function(){(0,l["default"])(),window.addXp=function(){arguments.length<=0||void 0===arguments[0]?0:arguments[0];f["default"].dispatch({type:"SET_RESULT_PROMPT_VALUE",payload:{changes:{showResult:!0,safeToPause:!1}}})}},render:function(){return o["default"].createElement(u.Provider,{store:this.props.store},o["default"].createElement(d["default"],null))}});(0,i.render)(o["default"].createElement(v,{store:f["default"]}),document.getElementById("app-root"))},function(e,t){e.exports=React},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.Provider=void 0;var a=n(5),o=r(a),i=n(8),u=r(i);t.Provider=o["default"],t.connect=u["default"]},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){f||(f=!0,"undefined"!=typeof console&&"function"==typeof console.error&&console.error("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/rackt/react-redux/releases/tag/v2.0.0 for the migration instructions."))}t.__esModule=!0,t["default"]=void 0;var s=n(2),l=n(7),c=r(l),f=!1,p=function(e){function t(n,r){a(this,t);var i=o(this,e.call(this,n,r));return i.store=n.store,i}return i(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return s.Children.only(e)},t}(s.Component);t["default"]=p,"production"!==e.env.NODE_ENV&&(p.prototype.componentWillReceiveProps=function(e){var t=this.store,n=e.store;t!==n&&u()}),p.propTypes={store:c["default"].isRequired,children:s.PropTypes.element.isRequired},p.childContextTypes={store:c["default"].isRequired}}).call(t,n(6))},function(e,t){function n(){l=!1,i.length?s=i.concat(s):c=-1,s.length&&r()}function r(){if(!l){var e=setTimeout(n);l=!0;for(var t=s.length;t;){for(i=s,s=[];++c<t;)i&&i[c].run();c=-1,t=s.length}i=null,l=!1,clearTimeout(e)}}function a(e,t){this.fun=e,this.array=t}function o(){}var i,u=e.exports={},s=[],l=!1,c=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new a(e,t)),1!==s.length||l||setTimeout(r,0)},a.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=o,u.addListener=o,u.once=o,u.off=o,u.removeListener=o,u.removeAllListeners=o,u.emit=o,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(2);t["default"]=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.displayName||e.name||"Component"}function s(e,t){return(0,S["default"])((0,_["default"])(e),"`%sToProps` must return an object. Instead received %s.",t?"mapDispatch":"mapState",e),e}function l(t,n,r){function l(e,t,n){var r=b(e,t,n);return(0,S["default"])((0,_["default"])(r),"`mergeProps` must return an object. Instead received %s.",r),r}var p=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],v=Boolean(t),h=t||E,g=(0,_["default"])(n)?(0,m["default"])(n):n||P,b=r||T,w=b!==T,k=p.pure,A=void 0===k?!0:k,j=p.withRef,x=void 0===j?!1:j,I=M++;return function(t){var n=function(e){function n(t,r){a(this,n);var i=o(this,e.call(this,t,r));i.version=I,i.store=t.store||r.store,(0,S["default"])(i.store,'Could not find "store" in either the context or '+('props of "'+i.constructor.displayName+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+i.constructor.displayName+'".'));var u=i.store.getState();return i.state={storeState:u},i.clearCache(),i}return i(n,e),n.prototype.shouldComponentUpdate=function(){return!A||this.haveOwnPropsChanged||this.hasStoreStateChanged},n.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return s(r)},n.prototype.configureFinalMapState=function(e,t){var n=h(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:h,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):s(n)},n.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return s(r,!0)},n.prototype.configureFinalMapDispatch=function(e,t){var n=g(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:g,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):s(n,!0)},n.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return this.stateProps&&(0,y["default"])(e,this.stateProps)?!1:(this.stateProps=e,!0)},n.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return this.dispatchProps&&(0,y["default"])(e,this.dispatchProps)?!1:(this.dispatchProps=e,!0)},n.prototype.updateMergedPropsIfNeeded=function(){var e=l(this.stateProps,this.dispatchProps,this.props);return this.mergedProps&&w&&(0,y["default"])(e,this.mergedProps)?!1:(this.mergedProps=e,!0)},n.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},n.prototype.trySubscribe=function(){v&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},n.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},n.prototype.componentDidMount=function(){this.trySubscribe()},n.prototype.componentWillReceiveProps=function(e){A&&(0,y["default"])(e,this.props)||(this.haveOwnPropsChanged=!0)},n.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},n.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},n.prototype.handleChange=function(){if(this.unsubscribe){var e=this.state.storeState,t=this.store.getState();A&&e===t||(this.hasStoreStateChanged=!0,this.setState({storeState:t}))}},n.prototype.getWrappedInstance=function(){return(0,S["default"])(x,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},n.prototype.render=function(){var e=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.renderedElement;this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1;var a=!0,o=!0;A&&r&&(a=n||e&&this.doStatePropsDependOnOwnProps,o=e&&this.doDispatchPropsDependOnOwnProps);var i=!1,u=!1;a&&(i=this.updateStatePropsIfNeeded()),o&&(u=this.updateDispatchPropsIfNeeded());var s=!0;return s=i||u||e?this.updateMergedPropsIfNeeded():!1,!s&&r?r:(x?this.renderedElement=(0,f.createElement)(t,c({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,f.createElement)(t,this.mergedProps),this.renderedElement)},n}(f.Component);return n.displayName="Connect("+u(t)+")",n.WrappedComponent=t,n.contextTypes={store:d["default"]},n.propTypes={store:d["default"]},"production"!==e.env.NODE_ENV&&(n.prototype.componentWillUpdate=function(){this.version!==I&&(this.version=I,this.trySubscribe(),this.clearCache())}),(0,O["default"])(n,t)}}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.__esModule=!0,t["default"]=l;var f=n(2),p=n(7),d=r(p),v=n(9),y=r(v),h=n(10),m=r(h),g=n(21),_=r(g),b=n(24),O=r(b),w=n(25),S=r(w),E=function(e){return{}},P=function(e){return{dispatch:e}},T=function(e,t,n){return c({},n,e,t)},M=0}).call(t,n(6))},function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,o=0;o<n.length;o++)if(!a.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return function(t){return(0,a.bindActionCreators)(e,t)}}t.__esModule=!0,t["default"]=r;var a=n(11)},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=n(12),i=r(o),u=n(16),s=r(u),l=n(18),c=r(l),f=n(19),p=r(f),d=n(20),v=r(d),y=n(17),h=r(y);"production"!==e.env.NODE_ENV&&"string"==typeof a.name&&"isCrushed"!==a.name&&(0,h["default"])("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),t.createStore=i["default"],t.combineReducers=s["default"],t.bindActionCreators=c["default"],t.applyMiddleware=p["default"],t.compose=v["default"]}).call(t,n(6))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){function r(){v===d&&(v=d.slice())}function o(){return p}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),v.push(e),function(){if(t){t=!1,r();var n=v.indexOf(e);v.splice(n,1)}}}function l(e){if(!(0,i["default"])(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,p=f(p,e)}finally{y=!1}for(var t=d=v,n=0;n<t.length;n++)t[n]();return e}function c(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");f=e,l({type:u.INIT})}if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var f=e,p=t,d=[],v=d,y=!1;return l({type:u.INIT}),{dispatch:l,subscribe:s,getState:o,replaceReducer:c}}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=a;var o=n(13),i=r(o),u=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){function r(e){if(!o(e)||c.call(e)!=i||a(e))return!1;var t=f(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==l}var a=n(14),o=n(15),i="[object Object]",u=Object.prototype,s=Function.prototype.toString,l=s.call(Object),c=u.toString,f=Object.getPrototypeOf;e.exports=r},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return'Reducer "'+e+'" returned undefined handling '+r+". To ignore an action, you must explicitly return the previous state."}function o(e,t,n){var r=Object.keys(t),a=n&&n.type===s.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,c["default"])(e))return"The "+a+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+r.join('", "')+'"');var o=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)});return o.length>0?"Unexpected "+(o.length>1?"keys":"key")+" "+('"'+o.join('", "')+'" found in '+a+". ")+"Expected to find one of the known reducer keys instead: "+('"'+r.join('", "')+'". Unexpected keys will be ignored.'):void 0}function i(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var a="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:a}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function u(t){for(var n=Object.keys(t),r={},u=0;u<n.length;u++){var s=n[u];"function"==typeof t[s]&&(r[s]=t[s])}var l,c=Object.keys(r);try{i(r)}catch(f){l=f}return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];if(l)throw l;if("production"!==e.env.NODE_ENV){var i=o(t,r,n);i&&(0,p["default"])(i)}for(var u=!1,s={},f=0;f<c.length;f++){var d=c[f],v=r[d],y=t[d],h=v(y,n);if("undefined"==typeof h){var m=a(d,n);throw new Error(m)}s[d]=h,u=u||h!==y}return u?s:t}}t.__esModule=!0,t["default"]=u;var s=n(12),l=n(13),c=r(l),f=n(17),p=r(f)}).call(t,n(6))},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),a={},o=0;o<r.length;o++){var i=r[o],u=e[i];"function"==typeof u&&(a[i]=n(u,t))}return a}t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var i=e(n,r,a),s=i.dispatch,l=[],c={getState:i.getState,dispatch:function(e){return s(e)}};return l=t.map(function(e){return e(c)}),s=u["default"].apply(void 0,l)(i.dispatch),o({},i,{dispatch:s})}}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.__esModule=!0,t["default"]=a;var i=n(20),u=r(i)},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(){if(0===t.length)return arguments.length<=0?void 0:arguments[0];var e=t[t.length-1],n=t.slice(0,-1);return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}t.__esModule=!0,t["default"]=n},function(e,t,n){function r(e){if(!o(e)||c.call(e)!=i||a(e))return!1;var t=f(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==l}var a=n(22),o=n(23),i="[object Object]",u=Object.prototype,s=Function.prototype.toString,l=s.call(Object),c=u.toString,f=Object.getPrototypeOf;e.exports=r},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};e.exports=function(e,t){for(var a=Object.getOwnPropertyNames(t),o=0;o<a.length;++o)if(!n[a[o]]&&!r[a[o]])try{e[a[o]]=t[a[o]]}catch(i){}return e}},function(e,t,n){(function(t){"use strict";var n=function(e,n,r,a,o,i,u,s){if("production"!==t.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,a,o,i,u,s],f=0;l=new Error(n.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=n}).call(t,n(6))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),o=r(a);t["default"]=function(){(0,o["default"])(),window.addEventListener("contextmenu",function(e){e.preventDefault()})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),o=r(a);t["default"]=function(){var e,t=[352,528,704,880,1056,1232,1408,1584],n=function r(e){var n=t[t.length-1];if(e=n>=e?e:n,-1!=t.indexOf(e)){var a=7/11*e;return void o["default"].dispatch({type:"SET_VIEWPORT_SIZE",width:e,height:a})}r(e-1)};window.onresize=function(){clearTimeout(e),e=setTimeout(function(){n(window.outerWidth)},100)},n(window.outerWidth)},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(29),o=r(a),i=(0,o["default"])({map:{},message:{messaging:!1,pagingIcon:null,activePage:0,characterIndex:-1,currentMessage:null},people:{},playerData:{name:"Jacob",skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/svJacob-2.svg",level:1,hp:20,maxHp:20,xp:0,coins:10,healthStatPoints:1,attackStatPoints:1,defenseStatPoints:1,speedStatPoints:1,efficiencyStatPoints:1,attacks:["action_attack_basic_001","action_attack_theft_001"],items:["action_item_hp_001"]},battleRequests:{showRequest:!1,requesterName:"Drew",requesterLevel:21,requesterSkin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew.svg"},battleResultPrompt:{showResult:!1,xpGain:9,safeToPause:!0},game:{isPaused:!1,gameArea:"map"},pauseMenu:{currentCursoringList:"pauseRoot",selectedMenuItem:"pauseRoot-stats",showMenuTab:"pauseRoot-stats"},battleUi:{terminalMenuKey:"menuRoot",terminalMenuSelectedIndex:0,playerId:"a",playerTargeting:"b",rolloutIndex:0,rolloutEventStation:"init",textMessage:"The Cat's Pajamas",textMessageDoneRolling:!1,combatantStyles:{},introMessage:null},battle:{isAutoplayMode:!1,seriesWinnerCount:0,seriesBattleLength:1,winners:[],backgroundImage:"some-image-url-or-css-class?",music:"some-mp3-url",submissions:[],queuedSubmissions:[]},rollout:[],combatants:{},combatProcessor:{}});t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(11),i=n(30),u=r(i),s=n(31),l=r(s),c=n(32),f=r(c),p=n(33),d=r(p),v=n(34),y=r(v),h=n(35),m=r(h),g=n(37),_=r(g),b=n(38),O=r(b),w=n(39),S=r(w),E=n(40),P=r(E),T=n(41),M=r(T),k=n(42),A=r(k),j=n(43),x=r(j);t["default"]=function(e){var t=(0,o.combineReducers)(a({},u,d,l,f,y,P,S,_,O,m,M,A,x)),n=(0,o.createStore)(t,e);return n},e.exports=t["default"]},function(e,t){"use strict";function n(e,t){void 0===e&&(e={});var n=function(n){if(!e[t.mover_id])return r({},e);var a=r({},e[t.mover_id],n),o=r({},e);return o[t.mover_id]=a,o};switch(t.type){case"ADD_PERSON":var a=r({},e);return a[t.personId]=t.personData,r({},a);case"START_MOVING":return n({moving:!0});case"SET_NPC_PATH_INDEX":if(!e[t.mover_id])return r({},e);var o=r({},e[t.mover_id]);o.behaviorData.pathIndex=t.pathIndex;var a=r({},e);return a[t.mover_id]=o,a;case"REMOVE_NPCS":var i=r({},e);for(var u in i)u.match(/npc_/)&&(console.log("deleting",u),delete i[u]);return i;case"STOP_MOVING":return n({moving:!1});case"UPDATE_TRANSITION_PROGRESS":return n({transitionProgress:t.progress});case"UPDATE_PLAYER_POSITION":return n({x:t.x,y:t.y});case"UPDATE_DIRECTION":return n({dir:t.direction});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.people=n},function(e,t){"use strict";function n(e,t){switch(void 0===e&&(e={}),t.type){case"PAUSE_GAME":return r({},e,{isPaused:!0});case"UNPAUSE_GAME":return r({},e,{isPaused:!1});case"SHOW_TEXTBOX":return r({},e,{isShowingTextbox:!0});case"REMOVE_TEXTBOX":return r({},e,{isShowingTextbox:!1});case"SET_GAME_AREA":return r({},e,{gameArea:t.payload.gameArea});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.game=n},function(e,t){"use strict";function n(e,t){switch(void 0===e&&(e={}),t.type){case"SET_VIEWPORT_SIZE":return r({},e,{viewportWidth:t.width,viewportHeight:t.height});case"LOAD_MAP":return r({},e,t.map);default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.map=n},function(e,t){"use strict";function n(e,t){switch(void 0===e&&(e={}),t.type){case"SET_MESSAGE":return r({},e,{currentMessage:t.payload});case"START_MESSAGING":return r({},e,{messaging:!0});case"STOP_MESSAGING":return r({},e,{messaging:!1,pagingIcon:null,activePage:0,characterIndex:-1});case"INCREASE_CHARACTER_INDEX":return r({},e,{characterIndex:e.characterIndex+1,endOfPage:!1});case"SET_CHARACTER_INDEX":return r({},e,{characterIndex:t.payload});case"NEXT_MESSAGE_PAGE":return r({},e,{pagingIcon:null,activePage:e.activePage+1});case"END_OF_PAGE":return r({},e,{endOfPage:!0});case"SET_PAGING_ICON":return r({},e,{pagingIcon:t.payload});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.message=n},function(e,t){"use strict";function n(e,t){switch(void 0===e&&(e={}),t.type){case"SET_BATTLE_REQUEST":return{showRequest:!0,requesterId:t.payload.requesterId,requesterName:t.payload.requesterName,requesterLevel:t.payload.requesterLevel,requesterSkin:t.payload.requesterSkin};case"HIDE_BATTLE_REQUEST":case"DECLINE_BATTLE_REQUEST":return r({},e,{showRequest:!1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.battleRequests=n},function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case"MERGE_COMBATANT":return(0,o.editNode)(e,t.payload.key,a({},t.payload.changes));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.combatants=r;var o=n(36)},function(e,t){"use strict";function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return o({},e,t)}function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=o({},e),a=r[t];if(a)for(var i in n)"object"==typeof n[i]&&(Array.isArray(n[i])||(n[i]=o({},a[i],n[i])));return a=o({},a,n),r[t]=a,r}function a(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=o({},e);return n[t]&&delete n[t],n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.setValue=n,t.editNode=r,t.removeNode=a},function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case"SET_PROCESSING_COMBATANTS":return a({},t.payload);case"MERGE_PROCESSED_COMBATANT":return(0,o.editNode)(e,t.payload.key,a({},t.payload.changes));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.combatProcessor=r;var o=n(36)},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){switch(void 0===e&&(e={}),t.type){case"SET_ROLLOUT":return[].concat(n(t.payload.rollout));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rollout=r},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){switch(void 0===e&&(e={}),t.type){case"ADD_BATTLE_SUBMISSION":return o({},e,{submissions:[].concat(r(e.submissions),[t.payload])});case"CLEAR_BATTLE_SUBMISSIONS":return o({},e,{submissions:[]});case"SET_BATTLE_QUEUED_SUBMISSIONS":return o({},e,{queuedSubmissions:t.payload});case"ADD_BATTLE_WINNER":return o({},e,{winners:[].concat(r(e.winners),[t.payload])});case"SET_SERIES_WINNER_COUNT":return o({},e,{seriesWinnerCount:t.payload.seriesWinnerCount});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.battle=a;n(36)},function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case"SET_TERMINAL_MENU_KEY":return a({},e,{terminalMenuKey:t.payload.terminalMenuKey});case"SET_TERMINAL_MENU_INDEX":return a({},e,{terminalMenuSelectedIndex:t.payload.terminalMenuSelectedIndex});case"SET_ROLLOUT_EVENT_STATION":return a({},e,{rolloutEventStation:t.payload.rolloutEventStation});case"SET_TEXT_MESSAGE":return a({},e,{textMessage:t.payload.textMessage});case"SET_TEXT_MESSAGE_DONE_ROLLING":return a({},e,{textMessageDoneRolling:t.payload.textMessageDoneRolling});case"SET_ROLLOUT_INDEX":return a({},e,{rolloutIndex:t.payload.rolloutIndex});case"SET_BATTLE_INTRO_MESSAGE":return a({},e,{introMessage:t.payload.introMessage});case"ADD_STYLE_TO_COMBATANT":var n=a({},e.combatantStyles);return n[t.payload.key]=t.payload.style,a({},e,{combatantStyles:n});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.battleUi=r;n(36)},function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case"SET_PLAYERDATA_VALUE":return(0,a.setValue)(e,t.payload.changes);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.playerData=r;var a=n(36)},function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case"SET_PAUSEMENU_VALUE":return(0,a.setValue)(e,t.payload.changes);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.pauseMenu=r;var a=n(36)},function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case"SET_RESULT_PROMPT_VALUE":return(0,a.setValue)(e,t.payload.changes);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.battleResultPrompt=r;var a=n(36)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=(n(4),n(45)),f=r(c),p=n(46),d=(r(p),n(49)),v=(r(d),n(61)),y=r(v),h=n(134),m=(r(h),n(56)),g=(n(135),n(136)),_=r(g),b=function(e){function t(e){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e);var n=window.location.hash.match(/#useMap=/)?(0,m.getJSON)(window.location.hash.split("#useMap=")[1]):_["default"];(0,m.loadMap)(n)}return o(t,e),i(t,[{key:"render",value:function(){return l["default"].createElement("div",{
className:"ui-wrapper"},l["default"].createElement(y["default"],null),l["default"].createElement(f["default"],null))}}]),t}(l["default"].Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},l=n(2),c=r(l),f=n(4),p=function(e){function t(){a(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).call(this);var e=this;window.showState=function(){console.log(e.props.reduxState)}}o(t,e),u(t,[{key:"render",value:function(){return null}}]);var n=t;return t=(0,f.connect)(function(e,t){return{reduxState:i({},e)}})(t)||t}(c["default"].Component);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(28),i=r(o),u=n(47),s=r(u),l=n(48),c=r(l);t["default"]=function(){var e=a({},s["default"].drew),t=a({},i["default"].getState().playerData);i["default"].dispatch({type:"MERGE_COMBATANT",payload:{key:"a",changes:a({},c["default"],t,{hp:t.maxHp})}}),i["default"].dispatch({type:"MERGE_COMBATANT",payload:{key:"b",changes:a({},c["default"],e,{hp:e.maxHp})}}),i["default"].dispatch({type:"SET_GAME_AREA",payload:{gameArea:"battle"}})},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={drew:{name:"Drew",skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew.svg",level:5,maxHp:30,attackStatPoints:2,defenseStatPoints:1,speedStatPoints:3,attacks:["action_attack_basic_001","action_attack_status_002","action_attack_repetitions_001"]},berg:{name:"Berg",skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-orange.svg",level:8,maxHp:75,attackStatPoints:6,defenseStatPoints:4,speedStatPoints:3,attacks:["action_attack_basic_002","action_attack_status_001","action_attack_repetitions_002"]},punky:{name:"Punky",skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-blonde.svg",level:2,maxHp:26,attackStatPoints:1,defenseStatPoints:1,speedStatPoints:1,attacks:["action_attack_basic_001","action_attack_theft_001","action_attack_repetitions_001"]},jessie:{name:"Jessie",skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/jessie.svg",level:4,maxHp:39,attackStatPoints:1,defenseStatPoints:3,speedStatPoints:2,attacks:["action_attack_theft_001","action_attack_basic_001","action_attack_repetitions_001"]},marie:{name:"Marie",skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/jessie-blue.svg",level:6,maxHp:52,attackStatPoints:3,defenseStatPoints:5,speedStatPoints:4,attacks:["action_attack_theft_002","action_attack_status_001","action_attack_basic_002","action_attack_basic_002"]}};t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={isChallenger:!1,hp:50,maxHp:50,pp:50,maxPp:50,xp:0,level:1,status:"normal",healthStatPoints:0,attackStatPoints:0,defenseStatPoints:0,speedStatPoints:0,efficiencyStatPoints:0,healthModifier:0,attackModifier:0,defenseModifier:0,speedModifier:0,efficiencyModifier:0,accuracyModifier:0,upgrades:[],attacks:["action_attack_basic_001","action_attack_basic_002","action_attack_repetitions_001","action_attack_repetitions_002","action_attack_status_001","action_attack_status_002","action_attack_theft_001","action_attack_theft_002"],items:["action_item_hp_001","action_item_pp_001","action_item_accuracy_001","action_item_clearStatus_lag_001"],targeting:""},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},l=n(2),c=r(l),f=n(4),p=n(50),d=n(53),v=function(e){function t(){a(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),u(t,[{key:"componentDidMount",value:function(){"stationary"==this.props.useBehavior&&p.npcStationaryBehavior.call(this,this.props.id),"roaming"==this.props.useBehavior&&d.npcRoamingBehavior.call(this,this.props.id)}},{key:"componentWillUnmount",value:function(){"stationary"!=this.props.useBehavior&&"roaming"!=this.props.useBehavior||this.clearNpcTimeout()}},{key:"getTranslateValue",value:function(){var e=0,t=0;return"left"==this.props.dir&&(e=-1*this.props.transitionProgress+"px"),"right"==this.props.dir&&(e=this.props.transitionProgress+"px"),"up"==this.props.dir&&(t=-1*this.props.transitionProgress+"px"),"down"==this.props.dir&&(t=this.props.transitionProgress+"px"),e+", "+t+", 0px"}},{key:"getDirectionSpritePosition",value:function(){var e=void 0;"left"==this.props.dir&&(e="0px"),"right"==this.props.dir&&(e="32px"),"up"==this.props.dir&&(e="16px"),"down"==this.props.dir&&(e="48px");var t=this.props.moving?"0":"16px";return e+" "+t}},{key:"getStyles",value:function(){var e=this.props.vpWidth/11,t=this.getTranslateValue();return i({left:this.props.x*e,top:this.props.y*e,width:e,height:e,transform:"translate3d( "+t+" )",WebkitTransform:"translate3d( "+t+" )"},this.getSkinImage())}},{key:"getDirectionSpriteClass",value:function(){var e=this.props.moving?"is-walking":"";return"person-"+this.props.dir+" "+e}},{key:"getSkinImage",value:function(){return null!=this.props.useBehavior?{backgroundImage:"url("+this.props.skin+")"}:{backgroundImage:"url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/svJacob-2.svg)"}}},{key:"render",value:function(){var e=this.getDirectionSpriteClass();return c["default"].createElement("div",{className:"cell player "+e,style:this.getStyles()})}}]);var n=t;return t=(0,f.connect)(function(e,t){var n=e.people[t.id];return n?{x:n.x,y:n.y,dir:n.dir,transitionProgress:n.transitionProgress,moving:n.moving,skin:n.skin,useBehavior:n.useBehavior||null,vpWidth:e.map.viewportWidth}:{}})(t)||t}(c["default"].Component);t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=i["default"].getState().people[e],n=this;n.timeout=null,n.clearNpcTimeout=function(){clearTimeout(n.timeout)},n.rotate=function(){n.timeout=setTimeout(function(){i["default"].getState().game.isShowingTextbox||i["default"].dispatch({type:"UPDATE_DIRECTION",mover_id:e,direction:(0,s.randomFromArray)(t.behaviorData.rotationDirections)}),n.rotate()},(0,u.getRandomInRange)(600,3e3))},n.rotate()}Object.defineProperty(t,"__esModule",{value:!0}),t.npcStationaryBehavior=a;var o=n(28),i=r(o),u=n(51),s=n(52)},function(e,t){"use strict";function n(e,t){return Math.floor(Math.random()*(t-e))+e}function r(e,t){return Math.floor(Math.random()*(t-e+1))+e}function a(){return 0===Math.floor(2*Math.random())}function o(){return r(2,8)}function i(e){return e>=r(1,100)}Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomInt=n,t.getRandomInRange=r,t.coinToss=a,t.baseRoll=o,t.percentChance=i},function(e,t){"use strict";function n(e){return e[Math.floor(Math.random()*e.length)]}Object.defineProperty(t,"__esModule",{value:!0}),t.randomFromArray=n,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=this;t.timeout=null;var n=s["default"].getState().people[e],r=n.behaviorData.isCircular?[].concat(a(n.behaviorData.path)):(0,l.addReversePath)([].concat(a(n.behaviorData.path)));t.clearNpcTimeout=function(){clearTimeout(t.timeout)},t.startMoving=function(){if(s["default"].getState().people[e]){var a=n.behaviorData.pathIndex||0,o=r[a],u={x:s["default"].getState().people[e].x,y:s["default"].getState().people[e].y};s["default"].dispatch({type:"UPDATE_DIRECTION",direction:o,mover_id:e});var l=f["default"].isFree((0,p.getUpdatedX)(o,u.x),(0,p.getUpdatedY)(o,u.y));if(!l||s["default"].getState().game.isShowingTextbox)return s["default"].dispatch({type:"STOP_MOVING",mover_id:e}),s["default"].dispatch({type:"UPDATE_DIRECTION",mover_id:e,direction:(0,p.getOppositeDirection)(s["default"].getState().people.player.dir)}),void(t.timeout=setTimeout(function(){t.startMoving()},1e3));f["default"].reserveCell((0,p.getUpdatedX)(o,u.x),(0,p.getUpdatedY)(o,u.y),e),s["default"].dispatch({type:"START_MOVING",mover_id:e}),(0,v["default"])(e,function(){f["default"].removeReservedCell((0,p.getUpdatedX)(o,u.x),(0,p.getUpdatedY)(o,u.y)),s["default"].dispatch({type:"UPDATE_PLAYER_POSITION",x:(0,p.getUpdatedX)(o,u.x),y:(0,p.getUpdatedY)(o,u.y),mover_id:e}),a=a==r.length-1?0:a+1,s["default"].dispatch({type:"SET_NPC_PATH_INDEX",mover_id:e,pathIndex:a}),"map"==s["default"].getState().game.gameArea&&!function(){var n=function r(){var n=s["default"].getState().people.player,a=s["default"].getState().people[e];return a?void(i(n.x,n.y,a.x,a.y)?(t.clearNpcTimeout(),t.startMoving()):t.timeout=setTimeout(function(){r()},1e3)):!1};n()}()})}},t.startMoving()}function i(e,t,n,r){var a=Math.abs(e-n),o=Math.abs(t-r);return 10>a&&7>o}Object.defineProperty(t,"__esModule",{value:!0}),t.npcRoamingBehavior=o;var u=n(28),s=r(u),l=n(54),c=n(55),f=r(c),p=n(57),d=n(60),v=r(d)},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){var t=e.map(function(e){return"up"==e?"down":"down"==e?"up":"left"==e?"right":"right"==e?"left":void 0}).reverse();return[].concat(n(e),n(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.addReversePath=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(28),i=r(o),u=n(56),s=n(57),l=n(58),c=r(l),f=n(59),p=r(f),d=function(){var e=this;e.reserved={},e.isFree=function(t,n){var r=t+"x"+n,o=a({},i["default"].getState().map.walls);if(0>t||t>=i["default"].getState().map.width)return!1;if(0>n||n==i["default"].getState().map.height)return!1;if("undefined"!=typeof o[r]||"undefined"!=typeof e.reserved[r])return!1;var u=i["default"].getState().people,s=!1;for(var l in u)u[l].x==t&&u[l].y==n&&(s=!0,console.log("TRUE"));return!s},e.reserveCell=function(t,n,r){r||console.warn("LocationService.reserveCell used without an id! This is bad. Fix it."),e.reserved[t+"x"+n]={type:"solid",id:r}},e.removeReservedCell=function(t,n){delete e.reserved[t+"x"+n]},e.checkActions=function(e,t){var n=a({},i["default"].getState().map.footEvents,{}),r=n[e+"x"+t]||null;r&&"map-transition"==r.type&&(console.log("LOAD",p["default"]),(0,u.loadMap)(p["default"])),r&&"battle-zone"==r.type&&(0,c["default"])(r)},e.getInteraction=function(){var t=i["default"].getState().people.player,n=(0,s.getUpdatedX)(t.dir,t.x),r=(0,s.getUpdatedY)(t.dir,t.y),o=i["default"].getState().map.interactiveEvents[n+"x"+r];if(o)return o;var u=i["default"].getState().people;for(var l in u)if(!u[l].moving&&u[l].x==n&&u[l].y==r)return console.log("MATCH",u[l]),a({},u[l].interaction,{npc_id:l});var c=e.reserved[n+"x"+r];return c&&c.id.match(/npc_/)?a({},u[c.id].interaction,{npc_id:c.id}):null}};t["default"]=new d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=JSON.parse(decodeURIComponent(e));return t.people=t.people||{player:{x:0,y:0,dir:"down"}},t}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s["default"].dispatch({type:"REMOVE_NPCS"});for(var t in e.people){var n=t,r=e.people[n],a=i({},r.behaviorData);"roaming"==r.useBehavior&&(a.pathIndex=0),s["default"].dispatch({type:"ADD_PERSON",personId:n,personData:{x:r.x,y:r.y,dir:r.dir,skin:r.skin||null,interaction:r.interaction||null,transitionProgress:0,moving:!1,useBehavior:r.useBehavior,behaviorData:a}})}s["default"].dispatch({type:"LOAD_MAP",map:{width:e.width,height:e.height,backgroundImage:e.backgroundImage,walls:e.walls,footEvents:e.footEvents,interactiveEvents:e.interactiveEvents}})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getJSON=a,t.loadMap=o;var u=n(28),s=r(u)},function(e,t){"use strict";function n(e,t){return"left"==e?t-1:"right"==e?t+1:t}function r(e,t){return"up"==e?t-1:"down"==e?t+1:t}function a(){var e=arguments.length<=0||void 0===arguments[0]?"left":arguments[0];return"left"==e?"right":"right"==e?"left":"up"==e?"down":"down"==e?"up":void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.getUpdatedX=n,t.getUpdatedY=r,t.getOppositeDirection=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(28),i=r(o),u=n(52),s=n(51),l=n(47),c=r(l),f=["berg","drew","drew","punky","punky","punky","punky","jessie","jessie","marie","marie"];t["default"]=function(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(i["default"].getState().battleRequests.showRequest)return!1;if(i["default"].getState().battleResultPrompt.showResult)return!1;if((0,s.percentChance)(66))return!1;var e=(0,u.randomFromArray)(f),t=a({},c["default"][e]);i["default"].dispatch({type:"SET_BATTLE_REQUEST",payload:{requesterId:e,requesterName:t.name,requesterSkin:t.skin,requesterLevel:t.level}})},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={backgroundImage:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/southnorth.svg",height:16,width:9,people:{player:{x:6,y:15,dir:"up"},npc_003:{x:1,y:7,skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew.svg",dir:"down",interaction:{},useBehavior:"roaming",behaviorData:{path:["right","up","up","up"],isCircular:!1}},npc_004:{x:4,y:1,skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-pink.svg",dir:"down",interaction:{},useBehavior:"roaming",behaviorData:{path:["right","right","right","down","down"],isCircular:!1}}},walls:{"3x12":{type:"solid"}},interactiveEvents:{},footEvents:{},npcs:{}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),o=r(a),i=function(e,t){for(var n=0,r=o["default"].getState().map.viewportWidth/11,a=[],i=16,u=0;i-1>=u;u++)a.push(r/i*u);var s=function l(){n<a.length?(o["default"].dispatch({type:"UPDATE_TRANSITION_PROGRESS",progress:a[n],mover_id:e}),n+=1,requestAnimationFrame(l)):(o["default"].dispatch({type:"UPDATE_TRANSITION_PROGRESS",progress:0,mover_id:e}),t())};requestAnimationFrame(s)};t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(62),p=r(f),d=n(85),v=r(d),y=n(49),h=r(y),m=n(87),g=r(m),_=n(89),b=r(_),O=n(90),w=r(O),S=n(93),E=r(S),P=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"getTranslateValue",value:function(){var e=0,t=0;return"left"==this.props.dir&&(e=this.props.transitionProgress+"px"),"right"==this.props.dir&&(e=-1*this.props.transitionProgress+"px"),"up"==this.props.dir&&(t=this.props.transitionProgress+"px"),"down"==this.props.dir&&(t=-1*this.props.transitionProgress+"px"),e+", "+t+", 0px"}},{key:"renderGameArea",value:function(){return"pause"==this.props.gameArea?this.renderPause():"battle"==this.props.gameArea?l["default"].createElement(E["default"],null):"map"==this.props.gameArea?this.renderMap():null}},{key:"renderMap",value:function(){var e=this.props.vpWidth/11,t=this.getTranslateValue(),n={left:this.props.x*-e+5*e,top:this.props.y*-e+3*e,transform:"translate3d( "+t+" )",WebkitTransform:"translate3d( "+t+" )"},r={width:e*this.props.mapWidth},a=[];for(var o in this.props.people)a.push(l["default"].createElement(h["default"],{id:o,key:o}));return l["default"].createElement("div",null,l["default"].createElement("div",{style:n,className:"map"},l["default"].createElement(w["default"],null)," ",l["default"].createElement("img",{className:"mapImage",style:r,src:this.props.backgroundImage}),a))}},{key:"renderPause",value:function(){var e=this.props.vpWidth/11,t=this.getTranslateValue(),n={left:this.props.x*-e+5*e,top:this.props.y*-e+3*e,transform:"translate3d( "+t+" )",WebkitTransform:"translate3d( "+t+" )"},r={width:e*this.props.mapWidth};return l["default"].createElement("div",null,l["default"].createElement("div",{style:n,className:"map"},l["default"].createElement("img",{className:"mapImage",style:r,src:this.props.backgroundImage})),l["default"].createElement(p["default"],null))}},{key:"handleDevBtn",value:function(){window.addXp(5)}},{key:"render",value:function(){var e={width:this.props.vpWidth,height:this.props.vpHeight},t=this.renderGameArea(),n=this.props.isShowingTextbox?l["default"].createElement(v["default"],null):null,r=this.props.showRequest?l["default"].createElement(g["default"],null):null,a=this.props.showResult?l["default"].createElement(b["default"],null):null;return l["default"].createElement("div",{style:e,className:"viewport viewport-"+this.props.vpWidth},t,n,r,a,l["default"].createElement("button",{onClick:this.handleDevBtn.bind(this),style:{position:"absolute",bottom:0,right:0}},"Debug: win a battle"))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{x:e.people.player.x,y:e.people.player.y,dir:e.people.player.dir,transitionProgress:e.people.player.transitionProgress,vpWidth:e.map.viewportWidth,vpHeight:e.map.viewportHeight,mapWidth:e.map.width,backgroundImage:e.map.backgroundImage,people:e.people,isPaused:e.game.isPaused,isShowingTextbox:e.game.isShowingTextbox,showRequest:e.battleRequests.showRequest,showResult:e.battleResultPrompt.showResult,gameArea:e.game.gameArea}})(t)||t}(l["default"].Component);t["default"]=P,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(63),p=r(f),d=n(71),v=r(d),y=n(78),h=r(y),m=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"componentDidMount",value:function(){(0,h["default"])("pauseMenuNamespace")}},{key:"componentWillUnmount",value:function(){$(document).off(".pauseMenuNamespace")}},{key:"render",value:function(){var e={position:"absolute",left:0,top:0,right:0,bottom:0,fontFamily:'"Source Code Pro", monospace'};return l["default"].createElement("div",{style:e},l["default"].createElement(p["default"],null),l["default"].createElement(v["default"],null))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{}})(t)||t}(l["default"].Component);t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(64),p=r(f),d=n(65),v=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"renderTabs",value:function(){var e=this,t=p["default"].getCensoringList("pauseRoot");return t.map(function(t){var n=t.id==e.props.selectedMenuItem?"is-active":"";return l["default"].createElement("div",{key:t.id,className:n+" tab-item"},t.label)})}},{key:"render",value:function(){var e=(0,d.remainingXpUntilNextLevel)();return l["default"].createElement("div",{className:"pause-sidebar"},l["default"].createElement("div",{className:"pause-sidebar-profile media-object"},l["default"].createElement("div",{className:"_ibm"},l["default"].createElement("div",{className:"pause-sidebar-avatar"})),l["default"].createElement("div",{className:"_ibm"},l["default"].createElement("div",null,this.props.name),l["default"].createElement("div",null,"Level ",this.props.level))),l["default"].createElement("div",{className:"pause-sidebar-status"},l["default"].createElement("div",{className:"_spreading-list-item"},l["default"].createElement("div",null,"HP"),l["default"].createElement("div",null,this.props.hp,"/",this.props.maxHp)),l["default"].createElement("div",{className:"_spreading-list-item"},l["default"].createElement("div",null,"XP"),l["default"].createElement("div",null,this.props.xp)),l["default"].createElement("div",{className:"_spreading-list-item"},l["default"].createElement("div",null,"NEXT LVL"),l["default"].createElement("div",null,e)),l["default"].createElement("div",{className:"_spreading-list-item"},l["default"].createElement("div",null,"COINS"),l["default"].createElement("div",null,this.props.coins))),l["default"].createElement("div",{className:"pause-sidebar-tabs"},this.renderTabs()))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{name:e.playerData.name,level:e.playerData.level,hp:e.playerData.hp,maxHp:e.playerData.maxHp,xp:e.playerData.xp,coins:e.playerData.coins,selectedMenuItem:e.pauseMenu.selectedMenuItem}})(t)||t}(l["default"].Component);t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return{id:"pauseAttacks-"+e,attackId:e,name:c["default"][e].name,infoBoxTitle:c["default"][e].name,infoBoxDescription:c["default"][e].description}}function i(e){return{id:"pauseItems-"+e,itemId:e,name:p["default"][e].name,infoBoxTitle:p["default"][e].name,infoBoxDescription:p["default"][e].description}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(65),l=n(68),c=r(l),f=n(70),p=r(f);t["default"]={getCensoringList:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return"pauseRoot"!=e?[].concat(a(this[e])):(0,s.isLevelupEligible)()?this.pauseRoot.filter(function(e){return"pauseRoot-stats"!=e.id}):this.pauseRoot.filter(function(e){return"pauseRoot-levelup"!=e.id})},pauseRoot:[{id:"pauseRoot-levelup",label:"LEVEL UP!",pageTitle:"Level Up"},{id:"pauseRoot-stats",label:"STATS",pageTitle:"Stats & Skills",rightKeyDest:["pauseStatsMenu","pauseStats-health"]},{id:"pauseRoot-laptop",label:"LAPTOP",pageTitle:"Laptop",infoBoxDescription:"Your laptop can be configured with parts and components."},{id:"pauseRoot-attacks",label:"ATTACKS",pageTitle:"Attacks",rightKeyDest:["pauseAttacksMenu","pauseAttacks-action_attack_basic_001"]},{id:"pauseRoot-items",label:"ITEMS",pageTitle:"Items",rightKeyDest:["pauseItemsMenu","pauseItems-action_item_hp_001"]}],pauseStatsMenu:[{id:"pauseStats-health",label:"Health",statId:"healthStatPoints",infoBoxTitle:"Health",infoBoxDescription:"--Some description for health--"},{id:"pauseStats-attack",label:"Attack",statId:"attackStatPoints",infoBoxTitle:"Attack",infoBoxDescription:"--Some description for attack--"},{id:"pauseStats-defense",label:"Defense",statId:"defenseStatPoints",infoBoxTitle:"Defense",infoBoxDescription:"--Some description for defense--"},{id:"pauseStats-speed",label:"Speed",statId:"speedStatPoints",infoBoxTitle:"Speed",infoBoxDescription:"--Some description for speed--"},{id:"pauseStats-efficiency",label:"Efficiency",statId:"efficiencyStatPoints",infoBoxTitle:"Efficiency",infoBoxDescription:"--Some description for eff--"}],pauseLevelUpMenu:[{id:"pauseLevelUp-health",label:"Health",statId:"healthStatPoints",infoBoxTitle:"Health",infoBoxDescription:"--Some same description for health--"},{id:"pauseLevelUp-attack",label:"Attack",statId:"attackStatPoints",infoBoxTitle:"Attack",infoBoxDescription:"--Some same description for attack--"},{id:"pauseLevelUp-defense",label:"Defense",statId:"defenseStatPoints",infoBoxTitle:"Defense",infoBoxDescription:"--Some same description for defense--"},{id:"pauseLevelUp-speed",label:"Speed",statId:"speedStatPoints",infoBoxTitle:"Speed",infoBoxDescription:"--Some same description for speed--"},{id:"pauseLevelUp-efficiency",label:"Efficiency",statId:"efficiencyStatPoints",infoBoxTitle:"Efficiency",infoBoxDescription:"--Some same description for eff--"},{id:"pauseLevelUp-done",label:"Done",infoBoxTitle:null,infoBoxDescription:null,bypassArrows:!0,rowClass:"pause-levelup-done"}],pauseAttacksMenu:[u({},o("action_attack_basic_001"),{levelRequirement:1}),u({},o("action_attack_theft_001"),{levelRequirement:1}),u({},o("action_attack_repetitions_001"),{levelRequirement:2}),u({},o("action_attack_status_002"),{levelRequirement:3}),u({},o("action_attack_basic_002"),{levelRequirement:3}),u({},o("action_attack_status_001"),{levelRequirement:4}),u({},o("action_attack_theft_002"),{levelRequirement:6}),u({},o("action_attack_repetitions_002"),{levelRequirement:7})],pauseItemsMenu:[u({},i("action_item_hp_001")),u({},i("action_item_accuracy_001")),u({},i("action_item_clearStatus_lag_001")),u({},i("action_item_clearStatus_memoryLeak_001")),u({},i("action_item_sticker_attack_001")),u({},i("action_item_sticker_defense_001")),u({},i("action_item_sticker_speed_001"))]},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];switch(e){case 1:return 5;case 2:return 6;case 3:return 8;case 4:return 9;case 5:return 11;case 6:return 12;case 7:return 14;case 8:return 15;case 9:return 17;case 10:return 18;default:return 0}}function o(){var e=y["default"].getState().playerData,t=[e.healthStatPoints,e.attackStatPoints,e.defenseStatPoints,e.speedStatPoints,e.efficiencyStatPoints].reduce(function(e,t){return e+t});return a(e.level+1)-t}function i(){var e=y["default"].getState().playerData,t=m["default"][e.level+1]-e.xp;return t>0?String(t):"--"}function u(){var e=y["default"].getState().playerData;return e.xp>=m["default"][e.level+1]}function s(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];y["default"].dispatch({type:"SET_PLAYERDATA_VALUE",payload:{changes:e}})}function l(e,t,n){if(t+1>n)return!1;if(o()>0){var r={};r[e]=t+1,s(r)}}function c(e,t,n){if(n>t-1)return!1;var r={};r[e]=t-1,s(r)}function f(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s(d({},e))}function p(){var e=y["default"].getState().playerData.level,t=(0,_["default"])(e+1);console.log(t),10>e&&s({level:e+1,maxHp:t,hp:t})}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.skillPointsRemaining=o,t.remainingXpUntilNextLevel=i,t.isLevelupEligible=u,t.incrementStatPoint=l,t.decrementStatPoint=c,t.resetStatPoints=f,t.submitLevelUp=p;var v=n(28),y=r(v),h=n(66),m=r(h),g=n(67),_=r(g)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=[-1,0,16,48,84,130,200,290,402,538,700],e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(28),i=r(o);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=a({},i["default"].getState().playerData),n=2*e,r=Math.round(3*t.healthStatPoints/2);return 18+n+r},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(69),i=r(o);t["default"]={action_attack_basic_000:a({},i["default"],{name:"Insult",description:"When you've got nothing else to show for yourself",affectTargetHpPoints:2,ppCost:0}),action_attack_basic_001:a({},i["default"],{name:"Slice",animation:"shootingStar",description:"Quick zinger",affectTargetHpPoints:6,ppCost:3}),action_attack_basic_002:a({},i["default"],{name:"Preloaded",description:"Extremely fast attack",affectTargetHpPoints:9,speedModifier:6,ppCost:5}),action_attack_repetitions_001:a({},i["default"],{name:"forEach",animation:"forEach1",description:"Hits the opponent 2 to 5 times",repetitions:[2,5],affectTargetHpPoints:4,ppCost:4}),action_attack_repetitions_002:a({},i["default"],{name:"forEach Mk II",animation:"forEach1",description:"Hits the opponent a little harder, 3 to 7 times",repetitions:[3,7],affectTargetHpPoints:5,ppCost:7}),action_attack_theft_001:a({},i["default"],{name:"Curl",animation:"forEach1",description:"Steals one random item from target",theftQuality:"random",theftQuantity:1,targetResistanceNeeded:8,ppCost:8}),action_attack_theft_002:a({},i["default"],{name:"Curl Mk II",description:"Steals two random items from target",theftQuality:"random",theftQuantity:2,targetResistanceNeeded:8,ppCost:10}),action_attack_theft_003:a({},i["default"],{name:"Curl Mk III",description:"Steals two strongest items from target",theftQuality:"best",theftQuantity:2,targetResistanceNeeded:10,ppCost:12}),action_attack_status_001:a({},i["default"],{name:"DDoS",description:"Disables the target for 1 to 3 turns",statusTurnCount:[1,3],affectTargetStatus:"lag",targetResistanceNeeded:15,accuracyModifier:-3,ppCost:7}),action_attack_status_002:a({},i["default"],{name:"Garbage Jammer",description:"Causes the target to suffer a memory leak",affectTargetStatus:"memoryLeak",targetResistanceNeeded:15,accuracyModifier:-3,ppCost:7})},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"",description:"",animation:"tada",ppCost:0,affectTargetHpPoints:0,affectTargetHpPointsByPercent:0,affectTargetAttackPoints:0,affectTargetDefensePoints:0,affectTargetSpeedPoints:0,affectTargetEfficiencyPoints:0,affectTargetAccuracyPoints:0,affectCasterHpPoints:0,affectCasterHpPointsByPercent:0,affectCasterAttackPoints:0,affectCasterDefensePoints:0,affectCasterSpeedPoints:0,affectCasterEfficiencyPoints:0,affectCasterAccuracyPoints:0,itemValue:0,itemMalfunctionChance:0,protectTargetFromStatuses:[],clearTargetStatuses:[],protectCasterFromStatuses:[],clearCasterStatuses:[],affectTargetStatus:"normal",statusTurnCount:[],theftQuantity:0,theftQuality:"random",targetResistanceNeeded:0,repetitions:[],speedModifier:0,accuracyModifier:0,isNaturalStatusEvent:!1,submittedByStatus:null},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(69),i=r(o);t["default"]={action_item_hp_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Mini Battery Pack",description:"Recovers a portable bit of battery life",affectCasterHpPoints:10,itemValue:4}),action_item_pp_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Mini Ram Pack",description:"Recovers a portable bit of accessible memory",affectCasterPpPoints:15,itemValue:4}),action_item_accuracy_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Screen Wipe",description:"Increases accuracy by 5 percent for the whole battle",affectCasterAccuracyPoints:5,itemValue:4}),action_item_accuracy_002:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Screen Spray",description:"Increases accuracy by 10 percent for the whole battle",affectCasterAccuracyPoints:10,itemValue:7}),action_item_accuracy_003:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Retina",description:"Increases accuracy by 25 percent for the whole battle",affectCasterAccuracyPoints:25,itemValue:9}),action_item_clearStatus_lag_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Network Reset Code",description:"Heals lagging",itemValue:10,clearCasterStatuses:["lag"],itemMalfunctionChance:5}),action_item_clearStatus_memoryLeak_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Breakpoint",description:"Stops a memory leak",itemValue:10,clearCasterStatuses:["memoryLeak"]}),action_item_protectStatus_all_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Honeypot",description:"Prevents status-changing attack for 1 use",itemValue:14,itemMalfunctionChance:7,protectCasterFromStatuses:["memoryLeak","lag"]}),action_item_sticker_attack_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Attack Sticker I",description:"Increases base attack stat by 3 points for the battle",itemValue:8,affectCasterAttackPoints:3}),action_item_sticker_defense_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Defense Sticker I",description:"Increases base defense stat by 3 points for the battle",itemValue:8,affectCasterDefensePoints:3}),action_item_sticker_speed_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Speed Sticker I",description:"Increases base speed stat by 3 points for the battle",itemValue:8,affectCasterSpeedPoints:3}),action_item_sticker_efficiency_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Efficiency Sticker I",description:"Increases base efficiency stat by 3 points for the battle",itemValue:8,affectCasterEfficiencyPoints:3})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(64),p=r(f),d=n(72),v=r(d),y=n(73),h=r(y),m=n(74),g=r(m),_=n(75),b=r(_),O=n(76),w=r(O),S=n(77),E=r(S),P=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"renderBody",value:function(){return"pauseRoot-stats"==this.props.showMenuTab?l["default"].createElement(v["default"],null):"pauseRoot-levelup"==this.props.showMenuTab?l["default"].createElement(h["default"],null):"pauseRoot-laptop"==this.props.showMenuTab?l["default"].createElement(g["default"],null):"pauseRoot-attacks"==this.props.showMenuTab?l["default"].createElement(b["default"],null):"pauseRoot-items"==this.props.showMenuTab?l["default"].createElement(w["default"],null):void 0}},{key:"render",value:function(){return l["default"].createElement("div",{className:"pause-content"},l["default"].createElement("div",{className:"pause-content-title"},this.props.title)," ",l["default"].createElement("div",{className:"pause-content-body"},this.renderBody()),l["default"].createElement("div",{className:"pause-content-textbox"},l["default"].createElement("div",null,this.props.infoBoxTitle),l["default"].createElement("div",null,this.props.infoBoxDescription)))}}]);var n=t;return t=(0,c.connect)(function(e,t){var n=p["default"].pauseRoot.filter(function(t){return t.id==e.pauseMenu.showMenuTab})[0],r=p["default"][e.pauseMenu.currentCursoringList].filter(function(t){return t.id==e.pauseMenu.selectedMenuItem})[0];return{title:n?n.pageTitle:null,showMenuTab:e.pauseMenu.showMenuTab,infoBoxTitle:(0,E["default"])(r)[0],infoBoxDescription:(0,E["default"])(r)[1]}})(t)||t}(l["default"].Component);t["default"]=P,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(64),p=r(f),d=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"render",value:function(){var e=this,t=p["default"].pauseStatsMenu.map(function(t){var n=t.statId?e.props[t.statId]:null,r=t.id==e.props.selectedMenuItem?"is-active":"";return l["default"].createElement("div",{key:t.id,className:r+" _spreading-list-item pause-stat-item"},l["default"].createElement("div",null,t.label),l["default"].createElement("div",{className:"pause-stat-value"},n))});return l["default"].createElement("div",null,t)}}]);var n=t;return t=(0,c.connect)(function(e,t){return{selectedMenuItem:e.pauseMenu.selectedMenuItem,healthStatPoints:e.playerData.healthStatPoints,attackStatPoints:e.playerData.attackStatPoints,defenseStatPoints:e.playerData.defenseStatPoints,speedStatPoints:e.playerData.speedStatPoints,efficiencyStatPoints:e.playerData.efficiencyStatPoints}})(t)||t}(l["default"].Component);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(64),p=r(f),d=n(65),v=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"componentWillMount",value:function(){this.initialStatPoints={healthStatPoints:this.props.healthStatPoints,attackStatPoints:this.props.attackStatPoints,defenseStatPoints:this.props.defenseStatPoints,speedStatPoints:this.props.speedStatPoints,efficiencyStatPoints:this.props.efficiencyStatPoints}}},{key:"renderPrompt",value:function(){var e={position:"absolute",left:0,right:0,top:0,bottom:0,background:"rgba(0,0,0,0.9)"},t={position:"absolute",top:"50%",left:"50%",transform:"translate3d(-50%,-50%,0)",background:"#444",padding:"2vw",width:"35vw",textAlign:"center",borderBottom:"1vw solid #333"};return l["default"].createElement("div",{style:e},l["default"].createElement("div",{style:t},"Press ENTER to level up!"))}},{key:"render",value:function(){var e=this,t=p["default"].pauseLevelUpMenu.map(function(t){var n=t.statId?e.props[t.statId]:null,r=t.id==e.props.selectedMenuItem?"is-active":"",a=t.rowClass||"",o=e.props[t.statId]>e.initialStatPoints[t.statId]?"":"hide-arrow",i=(0,d.skillPointsRemaining)()>0?"":"hide-arrow";return l["default"].createElement("div",{key:t.id,className:r+" "+a+" _spreading-list-item pause-stat-item"},l["default"].createElement("div",null,t.label),l["default"].createElement("div",{className:"pause-stat-value"},l["default"].createElement("div",{className:"_ibm pause-levelup-arrow arrow-left "+o}),l["default"].createElement("div",{className:"_ibm pause-levelup-value"},n),l["default"].createElement("div",{className:"_ibm pause-levelup-arrow arrow-right "+i})))}),n="pauseRoot-levelup"==this.props.selectedMenuItem?this.renderPrompt():null,r=(0,d.skillPointsRemaining)(),a=r>0?{opacity:1}:{opacity:.25};return l["default"].createElement("div",{className:"pause-levelup-content"},n,l["default"].createElement("div",{className:"_spreading-list-item pause-stat-item"},l["default"].createElement("div",null,"SKILL POINTS"),l["default"].createElement("div",{className:"pause-stat-value",style:a},"Remaining: ",r)),t)}}]);var n=t;return t=(0,c.connect)(function(e,t){return{selectedMenuItem:e.pauseMenu.selectedMenuItem,healthStatPoints:e.playerData.healthStatPoints,attackStatPoints:e.playerData.attackStatPoints,defenseStatPoints:e.playerData.defenseStatPoints,speedStatPoints:e.playerData.speedStatPoints,efficiencyStatPoints:e.playerData.efficiencyStatPoints}})(t)||t}(l["default"].Component);t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"render",value:function(){return l["default"].createElement("div",null,l["default"].createElement("div",{className:"pause-laptop-container"},l["default"].createElement("div",{className:"pause-laptop-block"}),l["default"].createElement("div",{className:"pause-laptop-block"}),l["default"].createElement("div",{className:"pause-laptop-block"}),l["default"].createElement("div",{className:"pause-laptop-block"})),l["default"].createElement("div",{className:"pause-laptop-helper-text"},"You haven't acquired any laptop parts yet!"))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{}})(t)||t}(l["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(64),p=r(f),d=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"render",value:function(){var e=this,t=p["default"].pauseAttacksMenu.map(function(t){var n=-1!=e.props.playerAttacks.indexOf(t.attackId),r=t.levelRequirement>e.props.playerLevel,a=t.id==e.props.selectedMenuItem;return l["default"].createElement(v,{id:t.id,isCursored:a,checked:n,isMystery:r,label:t.name})});return l["default"].createElement("div",{className:"pause-attack-content-container"},l["default"].createElement("div",null,t),l["default"].createElement("div",null,"Using ",this.props.playerAttacks.length," of 3 attack slots"))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerAttacks:e.playerData.attacks,playerLevel:e.playerData.level,selectedMenuItem:e.pauseMenu.selectedMenuItem}})(t)||t}(l["default"].Component),v=function(e){function t(){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){var e={width:"2vw",height:"2vw",marginRight:"1vw",background:this.props.checked?"#5FA4DE":"#393939"},t=this.props.isMystery?"??????":this.props.label,n=this.props.isCursored?"is-active":"";return l["default"].createElement("div",{className:"pause-attack-item "+n},l["default"].createElement("div",{className:"_ibm",style:e}),l["default"].createElement("div",{className:"_ibm"},t))}}]),t}(l["default"].Component);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(64),p=r(f),d=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"render",value:function(){var e=this,t=p["default"].pauseItemsMenu.map(function(t){var n=-1!=e.props.playerItems.indexOf(t.itemId),r=t.id==e.props.selectedMenuItem;return l["default"].createElement(v,{id:t.id,isCursored:r,checked:n,label:t.name})});return l["default"].createElement("div",{className:"pause-attack-content-container"},l["default"].createElement("div",null,t),l["default"].createElement("div",null,"Using ",this.props.playerItems.length," of 3 item slots"))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerItems:e.playerData.items,selectedMenuItem:e.pauseMenu.selectedMenuItem}})(t)||t}(l["default"].Component),v=function(e){function t(){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){var e={width:"2vw",height:"2vw",marginRight:"1vw",background:this.props.checked?"#50E3C2":"#393939"},t=this.props.isCursored?"is-active":"";return l["default"].createElement("div",{className:"pause-attack-item "+t},l["default"].createElement("div",{className:"_ibm",style:e}),l["default"].createElement("div",{className:"_ibm"},this.props.label))}}]),t}(l["default"].Component);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),o=r(a);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return e.id.match(/pauseAttacks/)&&e.levelRequirement>o["default"].getState().playerData.level?["??????","Gain more XP to unlock this attack"]:[e.infoBoxTitle,e.infoBoxDescription]},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n=t.map(function(e){return e.id}),r=n.indexOf(e);return r<n.length-1?n[r+1]:n[n.length-1]}function o(e,t){var n=t.map(function(e){return e.id}),r=n.indexOf(e);return r>0?n[r-1]:n[0]}function i(){var e=f["default"].getState().pauseMenu,t=v["default"][e.currentCursoringList];return t.filter(function(t){return t.id==e.selectedMenuItem})[0]}function u(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];f["default"].dispatch({type:"SET_PAUSEMENU_VALUE",payload:{changes:l({},e)}})}function s(e,t,n){return"pauseRoot"==e?n:t}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(28),f=r(c),p=n(79),d=n(64),v=r(d),y=n(81),h=r(y),m=n(83),g=r(m),_=n(65),b=n(84),O=new b.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/menu-move.mp3"]}),w=new b.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/submit.mp3"]}),S=new b.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/pause-back.mp3"]});t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t={healthStatPoints:f["default"].getState().playerData.healthStatPoints,attackStatPoints:f["default"].getState().playerData.attackStatPoints,defenseStatPoints:f["default"].getState().playerData.defenseStatPoints,speedStatPoints:f["default"].getState().playerData.speedStatPoints,efficiencyStatPoints:f["default"].getState().playerData.efficiencyStatPoints},n=function(){var e=v["default"].getCensoringList(f["default"].getState().pauseMenu.currentCursoringList),t=o(f["default"].getState().pauseMenu.selectedMenuItem,e);f["default"].getState().pauseMenu.selectedMenuItem!=t&&O.play(),u({selectedMenuItem:t,showMenuTab:s(f["default"].getState().pauseMenu.currentCursoringList,f["default"].getState().pauseMenu.showMenuTab,t)})},r=function(){var e=v["default"].getCensoringList(f["default"].getState().pauseMenu.currentCursoringList),t=a(f["default"].getState().pauseMenu.selectedMenuItem,e);f["default"].getState().pauseMenu.selectedMenuItem!=t&&O.play(),u({selectedMenuItem:t,showMenuTab:s(f["default"].getState().pauseMenu.currentCursoringList,f["default"].getState().pauseMenu.showMenuTab,t)})};(0,p.addKeyboardSinglePress)(38,n,e),(0,p.addKeyboardSinglePress)(40,r,e);var l=function(){var e=f["default"].getState().pauseMenu.currentCursoringList;if("pauseRoot"==e){var t=v["default"].pauseRoot.filter(function(e){return e.id==f["default"].getState().pauseMenu.selectedMenuItem})[0];t.rightKeyDest&&(O.play(),u({currentCursoringList:t.rightKeyDest[0],selectedMenuItem:t.rightKeyDest[1]}))}if("pauseLevelUpMenu"==e){var n=i().statId;n&&(0,_.incrementStatPoint)(n,f["default"].getState().playerData[n],999)}};(0,p.addKeyboardSinglePress)(39,l,e);var c={pauseStatsMenu:"pauseRoot-stats",pauseAttacksMenu:"pauseRoot-attacks",pauseItemsMenu:"pauseRoot-items"},d=function(){var e=f["default"].getState().pauseMenu.currentCursoringList;if("pauseRoot"!=e&&"pauseLevelUpMenu"!=e&&(O.play(),u({currentCursoringList:"pauseRoot",selectedMenuItem:c[e]})),"pauseLevelUpMenu"==e){var n=i().statId;n&&(0,_.decrementStatPoint)(n,f["default"].getState().playerData[n],t[n])}};(0,p.addKeyboardSinglePress)(37,d,e);var y=function(){if("pauseAttacksMenu"==f["default"].getState().pauseMenu.currentCursoringList&&(0,h["default"])(f["default"].getState().pauseMenu.selectedMenuItem),"pauseItemsMenu"==f["default"].getState().pauseMenu.currentCursoringList&&(0,g["default"])(f["default"].getState().pauseMenu.selectedMenuItem),"pauseRoot-levelup"==f["default"].getState().pauseMenu.selectedMenuItem&&u({currentCursoringList:"pauseLevelUpMenu",selectedMenuItem:"pauseLevelUp-health"}),"pauseLevelUp-done"==f["default"].getState().pauseMenu.selectedMenuItem){w.play(),(0,_.submitLevelUp)(),u({showMenuTab:null});var e=v["default"].getCensoringList("pauseRoot"),t=e[0].id,n="pauseRoot-stats"==t?"pauseRoot-stats":"pauseRoot-levelup";u({currentCursoringList:"pauseRoot",selectedMenuItem:t,showMenuTab:n})}};(0,p.addKeyboardSinglePress)(13,y,e);var m=function(){return"pauseLevelUpMenu"==f["default"].getState().pauseMenu.currentCursoringList?(S.play(),(0,_.resetStatPoints)(t),void u({currentCursoringList:"pauseRoot",selectedMenuItem:"pauseRoot-levelup"})):void f["default"].dispatch({type:"SET_GAME_AREA",payload:{gameArea:"map"}})};(0,p.addKeyboardSinglePress)(27,m,e)},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){var r="keydown."+(n||""),a="keyup."+(n||""),o=!0;(0,u["default"])(document).on(r,function(n){switch(n.which){case e:n.preventDefault(),o&&(o=!1,t())}}),(0,u["default"])(document).on(a,function(t){switch(t.which){case e:o=!0}t.preventDefault()})}function o(e){return e?void(0,u["default"])(document).off("."+e):(console.warn("valid namespace string required for `removeKeyboardSinglePress`"),!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.addKeyboardSinglePress=a,t.removeKeyboardSinglePress=o;var i=n(80),u=r(i)},function(e,t){e.exports=jQuery},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l["default"].dispatch({type:"SET_PLAYERDATA_VALUE",payload:{changes:u({},e)}})}function i(e){var t=d["default"].pauseAttacksMenu.filter(function(t){return t.id==e})[0].levelRequirement;return t>l["default"].getState().playerData.level}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(28),l=r(s),c=n(82),f=r(c),p=n(64),d=r(p);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=e.split("pauseAttacks-")[1],n=l["default"].getState().playerData.attacks;if(-1!=n.indexOf(t)){if(n.length<=1)return!1;var r=(0,f["default"])(n,[t]);o({attacks:r})}else{if(n.length>=3||i(e))return!1;var r=[].concat(a(n),[t]);o({attacks:r})}},e.exports=t["default"]},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],r=[].concat(n(e));return t.forEach(function(e){-1!=r.indexOf(e)&&r.splice(r.indexOf(e),1)}),[].concat(n(r))},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s["default"].dispatch({type:"SET_PLAYERDATA_VALUE",payload:{changes:i({},e)}})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(28),s=r(u),l=n(82),c=r(l);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=e.split("pauseItems-")[1],n=s["default"].getState().playerData.items;if(-1!=n.indexOf(t)){var r=(0,c["default"])(n,[t]);o({items:r})}else{if(n.length>=3)return!1;var r=[].concat(a(n),[t]);o({items:r})}},e.exports=t["default"]},function(e,t,n){var r;/*!
	 *  howler.js v1.1.29
	 *  howlerjs.com
	 *
	 *  (c) 2013-2016, James Simpson of GoldFire Studios
	 *  goldfirestudios.com
	 *
	 *  MIT License
	 */
!function(){var a={},o=null,i=!0,u=!1;try{"undefined"!=typeof AudioContext?o=new AudioContext:"undefined"!=typeof webkitAudioContext?o=new webkitAudioContext:i=!1}catch(s){i=!1}if(!i)if("undefined"!=typeof Audio)try{new Audio}catch(s){u=!0}else u=!0;if(i){var l="undefined"==typeof o.createGain?o.createGainNode():o.createGain();l.gain.value=1,l.connect(o.destination)}var c=function(e){this._volume=1,this._muted=!1,this.usingWebAudio=i,this.ctx=o,this.noAudio=u,this._howls=[],this._codecs=e,this.iOSAutoEnable=!0};c.prototype={volume:function(e){var t=this;if(e=parseFloat(e),e>=0&&1>=e){t._volume=e,i&&(l.gain.value=e);for(var n in t._howls)if(t._howls.hasOwnProperty(n)&&t._howls[n]._webAudio===!1)for(var r=0;r<t._howls[n]._audioNode.length;r++)t._howls[n]._audioNode[r].volume=t._howls[n]._volume*t._volume;return t}return i?l.gain.value:t._volume},mute:function(){return this._setMuted(!0),this},unmute:function(){return this._setMuted(!1),this},_setMuted:function(e){var t=this;t._muted=e,i&&(l.gain.value=e?0:t._volume);for(var n in t._howls)if(t._howls.hasOwnProperty(n)&&t._howls[n]._webAudio===!1)for(var r=0;r<t._howls[n]._audioNode.length;r++)t._howls[n]._audioNode[r].muted=e},codecs:function(e){return this._codecs[e]},_enableiOSAudio:function(){var e=this;if(!o||!e._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){e._iOSEnabled=!1;var t=function(){var n=o.createBuffer(1,1,22050),r=o.createBufferSource();r.buffer=n,r.connect(o.destination),"undefined"==typeof r.start?r.noteOn(0):r.start(0),setTimeout(function(){r.playbackState!==r.PLAYING_STATE&&r.playbackState!==r.FINISHED_STATE||(e._iOSEnabled=!0,e.iOSAutoEnable=!1,window.removeEventListener("touchend",t,!1))},0)};return window.addEventListener("touchend",t,!1),e}}};var f=null,p={};u||(f=new Audio,p={mp3:!!f.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!f.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")});var d=new c(p),v=function(e){var t=this;t._autoplay=e.autoplay||!1,t._buffer=e.buffer||!1,t._duration=e.duration||0,t._format=e.format||null,t._loop=e.loop||!1,t._loaded=!1,t._sprite=e.sprite||{},t._src=e.src||"",t._pos3d=e.pos3d||[0,0,-.5],t._volume=void 0!==e.volume?e.volume:1,t._urls=e.urls||[],t._rate=e.rate||1,t._model=e.model||null,t._onload=[e.onload||function(){}],t._onloaderror=[e.onloaderror||function(){}],t._onend=[e.onend||function(){}],t._onpause=[e.onpause||function(){}],t._onplay=[e.onplay||function(){}],t._onendTimer=[],t._webAudio=i&&!t._buffer,t._audioNode=[],t._webAudio&&t._setupAudioNode(),"undefined"!=typeof o&&o&&d.iOSAutoEnable&&d._enableiOSAudio(),d._howls.push(t),t.load()};if(v.prototype={load:function(){var e=this,t=null;if(u)return void e.on("loaderror",new Error("No audio support."));for(var n=0;n<e._urls.length;n++){var r,a;if(e._format)r=e._format;else{if(a=e._urls[n],r=/^data:audio\/([^;,]+);/i.exec(a),r||(r=/\.([^.]+)$/.exec(a.split("?",1)[0])),!r)return void e.on("loaderror",new Error("Could not extract format from passed URLs, please add format parameter."));r=r[1].toLowerCase()}if(p[r]){t=e._urls[n];break}}if(!t)return void e.on("loaderror",new Error("No codec support for selected audio sources."));if(e._src=t,e._webAudio)y(e,t);else{var o=new Audio;o.addEventListener("error",function(){o.error&&4===o.error.code&&(c.noAudio=!0),e.on("loaderror",{type:o.error?o.error.code:0})},!1),e._audioNode.push(o),o.src=t,o._pos=0,o.preload="auto",o.volume=d._muted?0:e._volume*d.volume();var i=function(){e._duration=Math.ceil(10*o.duration)/10,0===Object.getOwnPropertyNames(e._sprite).length&&(e._sprite={_default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e.on("load")),e._autoplay&&e.play(),o.removeEventListener("canplaythrough",i,!1)};o.addEventListener("canplaythrough",i,!1),o.load()}return e},urls:function(e){var t=this;return e?(t.stop(),t._urls="string"==typeof e?[e]:e,t._loaded=!1,t.load(),t):t._urls},play:function(e,t){var n=this;return"function"==typeof e&&(t=e),e&&"function"!=typeof e||(e="_default"),n._loaded?n._sprite[e]?(n._inactiveNode(function(r){r._sprite=e;var a=r._pos>0?r._pos:n._sprite[e][0]/1e3,i=0;n._webAudio?(i=n._sprite[e][1]/1e3-r._pos,r._pos>0&&(a=n._sprite[e][0]/1e3+a)):i=n._sprite[e][1]/1e3-(a-n._sprite[e][0]/1e3);var u,s=!(!n._loop&&!n._sprite[e][2]),l="string"==typeof t?t:Math.round(Date.now()*Math.random())+"";if(function(){var t={id:l,sprite:e,loop:s};u=setTimeout(function(){!n._webAudio&&s&&n.stop(t.id).play(e,t.id),n._webAudio&&!s&&(n._nodeById(t.id).paused=!0,n._nodeById(t.id)._pos=0,n._clearEndTimer(t.id)),n._webAudio||s||n.stop(t.id),n.on("end",l)},i/n._rate*1e3),n._onendTimer.push({timer:u,id:t.id})}(),n._webAudio){var c=n._sprite[e][0]/1e3,f=n._sprite[e][1]/1e3;r.id=l,r.paused=!1,g(n,[s,c,f],l),n._playStart=o.currentTime,r.gain.value=n._volume,"undefined"==typeof r.bufferSource.start?s?r.bufferSource.noteGrainOn(0,a,86400):r.bufferSource.noteGrainOn(0,a,i):s?r.bufferSource.start(0,a,86400):r.bufferSource.start(0,a,i)}else{if(4!==r.readyState&&(r.readyState||!navigator.isCocoonJS))return n._clearEndTimer(l),function(){var a=n,o=e,i=t,u=r,s=function(){a.play(o,i),u.removeEventListener("canplaythrough",s,!1)};u.addEventListener("canplaythrough",s,!1)}(),n;r.readyState=4,r.id=l,r.currentTime=a,r.muted=d._muted||r.muted,r.volume=n._volume*d.volume(),setTimeout(function(){r.play()},0)}return n.on("play"),"function"==typeof t&&t(l),n}),n):("function"==typeof t&&t(),n):(n.on("load",function(){n.play(e,t)}),n)},pause:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.pause(e)}),t;t._clearEndTimer(e);var n=e?t._nodeById(e):t._activeNode();if(n)if(n._pos=t.pos(null,e),t._webAudio){if(!n.bufferSource||n.paused)return t;n.paused=!0,"undefined"==typeof n.bufferSource.stop?n.bufferSource.noteOff(0):n.bufferSource.stop(0)}else n.pause();return t.on("pause"),t},stop:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.stop(e)}),t;t._clearEndTimer(e);var n=e?t._nodeById(e):t._activeNode();if(n)if(n._pos=0,t._webAudio){if(!n.bufferSource||n.paused)return t;n.paused=!0,"undefined"==typeof n.bufferSource.stop?n.bufferSource.noteOff(0):n.bufferSource.stop(0)}else isNaN(n.duration)||(n.pause(),n.currentTime=0);return t},mute:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.mute(e)}),t;var n=e?t._nodeById(e):t._activeNode();return n&&(t._webAudio?n.gain.value=0:n.muted=!0),t},unmute:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.unmute(e)}),t;var n=e?t._nodeById(e):t._activeNode();return n&&(t._webAudio?n.gain.value=t._volume:n.muted=!1),t},volume:function(e,t){var n=this;if(e=parseFloat(e),e>=0&&1>=e){if(n._volume=e,!n._loaded)return n.on("play",function(){n.volume(e,t)}),n;var r=t?n._nodeById(t):n._activeNode();return r&&(n._webAudio?r.gain.value=e:r.volume=e*d.volume()),n}return n._volume},loop:function(e){var t=this;return"boolean"==typeof e?(t._loop=e,t):t._loop},sprite:function(e){var t=this;return"object"==typeof e?(t._sprite=e,t):t._sprite},pos:function(e,t){var n=this;if(!n._loaded)return n.on("load",function(){n.pos(e)}),"number"==typeof e?n:n._pos||0;e=parseFloat(e);var r=t?n._nodeById(t):n._activeNode();if(r)return e>=0?(n.pause(t),r._pos=e,n.play(r._sprite,t),n):n._webAudio?r._pos+(o.currentTime-n._playStart):r.currentTime;if(e>=0)return n;for(var a=0;a<n._audioNode.length;a++)if(n._audioNode[a].paused&&4===n._audioNode[a].readyState)return n._webAudio?n._audioNode[a]._pos:n._audioNode[a].currentTime},pos3d:function(e,t,n,r){var a=this;if(t="undefined"!=typeof t&&t?t:0,n="undefined"!=typeof n&&n?n:-.5,!a._loaded)return a.on("play",function(){a.pos3d(e,t,n,r)}),a;if(!(e>=0||0>e))return a._pos3d;if(a._webAudio){var o=r?a._nodeById(r):a._activeNode();o&&(a._pos3d=[e,t,n],o.panner.setPosition(e,t,n),o.panner.panningModel=a._model||"HRTF")}return a},fade:function(e,t,n,r,a){var o=this,i=Math.abs(e-t),u=e>t?"down":"up",s=i/.01,l=n/s;if(!o._loaded)return o.on("load",function(){o.fade(e,t,n,r,a)}),o;o.volume(e,a);for(var c=1;s>=c;c++)!function(){var e=o._volume+("up"===u?.01:-.01)*c,n=Math.round(1e3*e)/1e3,i=t;setTimeout(function(){o.volume(n,a),n===i&&r&&r()},l*c)}()},fadeIn:function(e,t,n){return this.volume(0).play().fade(0,e,t,n)},fadeOut:function(e,t,n,r){var a=this;return a.fade(a._volume,e,t,function(){n&&n(),a.pause(r),a.on("end")},r)},_nodeById:function(e){for(var t=this,n=t._audioNode[0],r=0;r<t._audioNode.length;r++)if(t._audioNode[r].id===e){n=t._audioNode[r];break}return n},_activeNode:function(){for(var e=this,t=null,n=0;n<e._audioNode.length;n++)if(!e._audioNode[n].paused){t=e._audioNode[n];break}return e._drainPool(),t},_inactiveNode:function(e){for(var t=this,n=null,r=0;r<t._audioNode.length;r++)if(t._audioNode[r].paused&&4===t._audioNode[r].readyState){e(t._audioNode[r]),n=!0;break}if(t._drainPool(),!n){var a;if(t._webAudio)a=t._setupAudioNode(),e(a);else{t.load(),a=t._audioNode[t._audioNode.length-1];var o=navigator.isCocoonJS?"canplaythrough":"loadedmetadata",i=function(){a.removeEventListener(o,i,!1),e(a)};a.addEventListener(o,i,!1)}}},_drainPool:function(){var e,t=this,n=0;for(e=0;e<t._audioNode.length;e++)t._audioNode[e].paused&&n++;for(e=t._audioNode.length-1;e>=0&&!(5>=n);e--)t._audioNode[e].paused&&(t._webAudio&&t._audioNode[e].disconnect(0),n--,t._audioNode.splice(e,1))},_clearEndTimer:function(e){for(var t=this,n=-1,r=0;r<t._onendTimer.length;r++)if(t._onendTimer[r].id===e){n=r;break}var a=t._onendTimer[n];a&&(clearTimeout(a.timer),t._onendTimer.splice(n,1))},_setupAudioNode:function(){var e=this,t=e._audioNode,n=e._audioNode.length;return t[n]="undefined"==typeof o.createGain?o.createGainNode():o.createGain(),t[n].gain.value=e._volume,t[n].paused=!0,t[n]._pos=0,t[n].readyState=4,t[n].connect(l),t[n].panner=o.createPanner(),t[n].panner.panningModel=e._model||"equalpower",t[n].panner.setPosition(e._pos3d[0],e._pos3d[1],e._pos3d[2]),t[n].panner.connect(t[n]),t[n]},on:function(e,t){var n=this,r=n["_on"+e];if("function"==typeof t)r.push(t);else for(var a=0;a<r.length;a++)t?r[a].call(n,t):r[a].call(n);return n},off:function(e,t){var n=this,r=n["_on"+e];if(t){for(var a=0;a<r.length;a++)if(t===r[a]){r.splice(a,1);break}}else n["_on"+e]=[];return n},unload:function(){for(var e=this,t=e._audioNode,n=0;n<e._audioNode.length;n++)t[n].paused||(e.stop(t[n].id),e.on("end",t[n].id)),e._webAudio?t[n].disconnect(0):t[n].src="";for(n=0;n<e._onendTimer.length;n++)clearTimeout(e._onendTimer[n].timer);var r=d._howls.indexOf(e);null!==r&&r>=0&&d._howls.splice(r,1),delete a[e._src],e=null}},i)var y=function(e,t){if(t in a)return e._duration=a[t].duration,void m(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);h(r.buffer,e,t)}else{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){h(i.response,e,t)},i.onerror=function(){e._webAudio&&(e._buffer=!0,e._webAudio=!1,e._audioNode=[],delete e._gainNode,delete a[t],e.load())};try{i.send()}catch(u){i.onerror()}}},h=function(e,t,n){o.decodeAudioData(e,function(e){e&&(a[n]=e,m(t,e))},function(e){t.on("loaderror",e)})},m=function(e,t){e._duration=t?t.duration:e._duration,0===Object.getOwnPropertyNames(e._sprite).length&&(e._sprite={_default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e.on("load")),e._autoplay&&e.play()},g=function(e,t,n){var r=e._nodeById(n);r.bufferSource=o.createBufferSource(),r.bufferSource.buffer=a[e._src],r.bufferSource.connect(r.panner),r.bufferSource.loop=t[0],t[0]&&(r.bufferSource.loopStart=t[1],r.bufferSource.loopEnd=t[1]+t[2]),r.bufferSource.playbackRate.value=e._rate};r=function(){return{Howler:d,Howl:v}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)),t.Howler=d,t.Howl=v,"undefined"!=typeof window&&(window.Howler=d,window.Howl=v)}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(80),f=r(c),p=n(4),d=n(86),v=r(d),y=n(28),h=r(y),m=n(84),g=new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/Blip-0.0_bip_3.1.wav"],volume:.5}),_=(new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/bell-down.wav"]}),new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/bell-up.wav"]}),new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/blip-hi.wav"]}),new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/blip-lo.wav"]}),new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/exclaim-down.wav"]}),new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/exclaim-up.wav"]}),new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/pod-close.wav"],volume:.1})),b=new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/pod-open.wav"],volume:.1}),O=function(e){function t(e){var t=this;a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),console.log("-----------CONSTRUCTOR"),this.characterBank=0,this.totalCharacters=this.props.currentMessage.reduce(function(e,t){return e.length+t.length});var r=32;this.btnSafe=!0,this.btnLock=!0,setTimeout(function(){t.btnLock=!1},500),(0,f["default"])(document).on("keydown.textboxButton",function(e){e.which==r&&t.btnSafe&&!t.btnLock&&(t.btnSafe=!1,t.handleNextPageButton())}).on("keyup",function(e){e.which!=r||t.btnLock||(t.btnSafe=!0)})}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;b.play(),setTimeout(function(){e.props.dispatch({type:"START_MESSAGING"}),setTimeout(function(){e.increaseIndex()},100)},100)}},{key:"componentWillUnmount",value:function(){(0,f["default"])(document).off("keydown.textboxButton")}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.activePage>this.props.activePage&&(this.btnLock=!0,setTimeout(function(){t.increaseIndex(e.activePage),t.btnLock=!1},500))}},{key:"increaseIndex",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];if(h["default"].getState().message.characterIndex>this.totalCharacters)return this.props.dispatch({type:"STOP_MESSAGING"}),this.props.dispatch({type:"REMOVE_TEXTBOX"}),_.play(),!1;if(this.props.characterIndex>=this.props.currentMessage[t].length+this.characterBank)return this.characterBank+=this.props.currentMessage[t].length,this.props.dispatch({type:"END_OF_PAGE"}),void this.props.dispatch({type:"SET_PAGING_ICON",payload:"undefined"==typeof this.props.currentMessage[t+1]?"done":"arrow"});this.props.dispatch({type:"INCREASE_CHARACTER_INDEX"}),g.play();var n=this.props.currentMessage[t][this.props.characterIndex-this.characterBank]||{delayBefore:0};setTimeout(function(){e.increaseIndex(t)},n.delayBefore)}},{key:"handleNextPageButton",value:function(){var e=this;if(this.props.endOfPage){var t=h["default"].getState().message.activePage,n=h["default"].getState().message.currentMessage.length;n-1>t?this.props.dispatch({type:"NEXT_MESSAGE_PAGE"}):(this.btnLock=!0,this.props.dispatch({type:"STOP_MESSAGING"}),setTimeout(function(){e.props.dispatch({type:"REMOVE_TEXTBOX"})},500),_.play())}else this.props.dispatch({type:"SET_CHARACTER_INDEX",payload:this.characterBank+this.props.currentMessage[this.props.activePage].length})}},{key:"renderPagingIcon",value:function(){return this.props.isOpen?"arrow"==this.props.pagingIcon?l["default"].createElement("div",{className:"paging-icon paging-icon-arrow"}):"done"==this.props.pagingIcon?l["default"].createElement("div",{className:"paging-icon paging-icon-square"}):void 0:null}},{key:"render",value:function(){for(var e=this.props.currentMessage,t=[],n=0,r=0;r<=e.length-1;r++)n+=r>0?e[r-1].length:0,t.push(n);var a=this.props.currentMessage.map(function(e,n){var r=t[n];return l["default"].createElement(v["default"],{start:r,content:e,key:n,page:n})}),o=this.props.isOpen?"open":"";return l["default"].createElement("div",null,l["default"].createElement("div",{className:"textbox "+o,onClick:this.handleNextPageButton.bind(this)},a,this.renderPagingIcon()))}}]);var n=t;return t=(0,p.connect)(function(e,t){return{pagingIcon:e.message.pagingIcon,isOpen:e.message.messaging,activePage:e.message.activePage,characterIndex:e.message.characterIndex,currentMessage:e.message.currentMessage,endOfPage:e.message.endOfPage}})(t)||t}(l["default"].Component);t["default"]=O,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props.content.map(function(t,n){var r={visibility:e.props.start+(n+1)<=e.props.characterIndex&&e.props.isOpen?"visible":"hidden"};return l["default"].createElement("span",{style:r,key:n},t.content)}),n=this.props.activePage>this.props.page?"done":"";return l["default"].createElement("div",{className:"textbox-page "+n},l["default"].createElement("div",{className:"textpage-content"},t))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{isOpen:e.message.messaging,activePage:e.message.activePage,characterIndex:e.message.characterIndex}})(t)||t}(l["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(79),p=n(88),d=r(p),v=n(84),y=new v.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/exclaim-up.wav"]}),h=new v.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/exclaim-down.wav"]}),m=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.timeout=null,this.state={time:10}}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;y.play(),this.timeout=setTimeout(function(){e.reduceTime()},1e3),(0,f.addKeyboardSinglePress)(13,function(){(0,d["default"])()},"battle-request-box"),(0,f.addKeyboardSinglePress)(27,function(){clearTimeout(e.timeout),e.setState({time:0}),h.play(),e.props.dispatch({type:"DECLINE_BATTLE_REQUEST"})},"battle-request-box")}},{key:"componentWillUnmount",value:function(){(0,f.removeKeyboardSinglePress)("battle-request-box"),clearTimeout(this.timeout)}},{key:"reduceTime",value:function(){var e=this;e.setState({time:e.state.time-1},function(){e.state.time>0?e.timeout=setTimeout(function(){e.reduceTime()},1e3):(h.play(),e.props.dispatch({type:"DECLINE_BATTLE_REQUEST"}))})}},{key:"render",value:function(){if(this.state.time<=0)return!1;var e={position:"absolute",right:"1vw",top:"1vw",padding:"1vw",fontSize:"3vw",fontFamily:"monospace",width:"46vw",background:"#333",color:"#fff"},t={background:"url("+this.props.battleRequests.requesterSkin+"), linear-gradient(-330deg, #58a, #ff0090)",width:"6vw",height:"6vw","float":"left",marginRight:"1vw",backgroundPosition:"300% 100%",backgroundSize:"400%",borderRadius:"50%"};return l["default"].createElement("div",{style:e},l["default"].createElement("div",null,"Battle Request",l["default"].createElement("div",{style:{"float":"right"}},this.state.time)),l["default"].createElement("div",null," ",l["default"].createElement("div",{style:t}),this.props.battleRequests.requesterName,l["default"].createElement("span",null,"(Level ",this.props.battleRequests.requesterLevel,")")),l["default"].createElement("div",null,l["default"].createElement("div",null,"ENTER to accept"),l["default"].createElement("div",null,"ESC to decline")))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{battleRequests:e.battleRequests}})(t)||t}(l["default"].Component);t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(28),i=r(o),u=n(47),s=r(u),l=n(48),c=r(l);t["default"]=function(){var e=a({},s["default"][i["default"].getState().battleRequests.requesterId]),t=a({},i["default"].getState().playerData);i["default"].dispatch({type:"HIDE_BATTLE_REQUEST"}),i["default"].dispatch({type:"MERGE_COMBATANT",payload:{key:"a",changes:a({},c["default"],t,{hp:t.maxHp})}}),i["default"].dispatch({type:"MERGE_COMBATANT",payload:{key:"b",changes:a({},c["default"],e,{hp:e.maxHp})}}),i["default"].dispatch({type:"SET_GAME_AREA",payload:{gameArea:"battle"}})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},l=n(2),c=r(l),f=n(4),p=(n(84),n(66)),d=r(p),v=function(e){function t(){a(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.timeout=null,this.state={avatarToLeft:!1,showResultText:!1,showXpBar:!1,showXpGain:!1,showLevelUp:!1}}o(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.initialXp=this.props.playerXp,this.timeout=setTimeout(function(){e.setState({avatarToLeft:!0},function(){e.showText()})},1e3)}},{key:"showText",value:function(){var e=this;this.timeout=setTimeout(function(){e.setState({showResultText:!0},function(){e.showXpBar()})},1300)}},{key:"showXpBar",value:function(){var e=this;this.timeout=setTimeout(function(){e.setState({showXpBar:!0},function(){e.showGain()})},1700)}},{key:"showGain",value:function(){var e=this;this.timeout=setTimeout(function(){e.setState({showXpGain:!0},function(){var t=e.props.playerXp+e.props.xpGain;e.props.dispatch({type:"SET_PLAYERDATA_VALUE",payload:{changes:{xp:t}}}),t>=d["default"][e.props.playerLevel+1]?e.showLevelUp():e.triggerUnmount(4e3)})},1e3)}},{key:"showLevelUp",value:function(){var e=this;this.props.dispatch({type:"SET_PAUSEMENU_VALUE",payload:{changes:{currentCursoringList:"pauseRoot",selectedMenuItem:"pauseRoot-levelup",showMenuTab:"pauseRoot-levelup"}}}),this.props.dispatch({type:"SET_RESULT_PROMPT_VALUE",payload:{changes:{safeToPause:!0}}}),this.timeout=setTimeout(function(){e.setState({showLevelUp:!0},function(){e.triggerUnmount(5e3)})},1500)}},{key:"triggerUnmount",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];setTimeout(function(){e.props.dispatch({type:"SET_RESULT_PROMPT_VALUE",payload:{changes:{showResult:!1,safeToPause:!0}}})},t)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"renderLevelUp",value:function(){var e={fontSize:"5.3vw",marginTop:"0.7vw",textAlign:"center"},t={textAlign:"center",fontSize:"2vw",marginTop:"0.6vw"};return c["default"].createElement("div",{style:e},"LEVEL UP",c["default"].createElement("div",{style:t},"Press ESC"))}},{key:"renderXpBar",value:function(){var e={position:"absolute",left:"1vw",right:"1vw",bottom:"1vw",height:"2vw",background:"#585757"},t=d["default"][this.props.playerLevel+1]-d["default"][this.props.playerLevel],n=this.initialXp-d["default"][this.props.playerLevel]+(this.state.showXpGain?this.props.xpGain:0),r=n/t*100;r=100>r?r:100;var a={position:"absolute",left:0,bottom:0,top:0,width:r+"%",transition:"width 1s",background:"linear-gradient(-180deg, #50E3C2 0%, #77F0D5 38%, #49CFB1 100%)"},o={color:"#fff",fontSize:"1.7vw",position:"absolute",top:"-2.4vw"},u=i({},o,{left:0}),s=i({},o,{right:0}),l={color:"#50E3C2"},f={fontSize:"3vw",position:"absolute",left:"47%",top:"33%",transform:"translate3d(-50%,0,0)"};return c["default"].createElement("div",null,c["default"].createElement("div",{style:f},c["default"].createElement("span",{style:l},"+",this.props.xpGain)," XP"),c["default"].createElement("div",{style:e},c["default"].createElement("div",{style:a}),c["default"].createElement("div",{style:u},"Level ",this.props.playerLevel),c["default"].createElement("div",{style:s},"Level ",this.props.playerLevel+1)))}},{key:"renderResult",value:function(){var e={background:"url("+this.props.battleRequests.requesterSkin+"), linear-gradient(-330deg, #58a, #ff0090)",width:"6vw",height:"6vw",marginRight:"1vw",backgroundPosition:"300% 100%",position:"absolute",transition:"left 0.8s",left:this.state.avatarToLeft?"17%":"50%",top:"55%",backgroundSize:"400%",borderRadius:"50%",transform:"translate3d(-50%,-50%,0)"},t={fontSize:"4.9vw",color:"#fff",position:"absolute",left:"30%",top:"53%",transform:"translate3d(0,-50%,0)",visibility:this.state.showResultText?"visible":"hidden"};return c["default"].createElement("div",null,c["default"].createElement("div",{style:e}),c["default"].createElement("div",{style:t},"VICTORY"))}},{key:"renderBody",value:function(){return this.state.showLevelUp?this.renderLevelUp():this.state.showXpBar?this.renderXpBar():this.renderResult()}},{key:"render",value:function(){var e={position:"absolute",right:"1vw",top:"1vw",padding:"1vw",fontSize:"2.6vw",fontFamily:"monospace",width:"34vw",height:"14vw",background:"#333",color:"#fff",borderBottom:"0.8vw solid #222"};return c["default"].createElement("div",{style:e},c["default"].createElement("div",{style:{textAlign:"center"}},"Battle Results"),this.renderBody())}}]);var n=t;return t=(0,f.connect)(function(e,t){return{battleRequests:e.battleRequests,playerXp:e.playerData.xp,playerLevel:e.playerData.level,showLevelUp:!1,xpGain:e.battleResultPrompt.xpGain}})(t)||t}(c["default"].Component);t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(55),p=r(f),d=n(60),v=r(d),y=n(91),h=r(y),m=n(28),g=r(m),_=n(79),b=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;new h["default"];var t=function(){if(g["default"].getState().battleRequests.showRequest)return!1;if(g["default"].getState().battleResultPrompt.showResult){if(!g["default"].getState().battleResultPrompt.safeToPause)return!1;g["default"].dispatch({type:"SET_RESULT_PROMPT_VALUE",payload:{changes:{showResult:!1}}})}g["default"].dispatch({type:"SET_GAME_AREA",payload:{gameArea:"pause"}})};(0,_.addKeyboardSinglePress)(27,t,"pause-btn"),this.keyQueue=[];var n=function(e){return 37==e?"left":39==e?"right":38==e?"up":40==e?"down":65==e?"left":68==e?"right":87==e?"up":83==e?"down":void 0};$(document).on("keydown.player-movement",function(t){37!=t.which&&38!=t.which&&39!=t.which&&40!=t.which&&65!=t.which&&68!=t.which&&83!=t.which&&87!=t.which||e.addKey(n(t.which))}).on("keyup.player-movement",function(t){37!=t.which&&38!=t.which&&39!=t.which&&40!=t.which&&65!=t.which&&68!=t.which&&83!=t.which&&87!=t.which||e.releaseKey(n(t.which));
}),this.addKey=this.addKey.bind(this),this.releaseKey=this.releaseKey.bind(this)}},{key:"componentWillUnmount",value:function(){console.log("UNMOUNT"),this.keyQueue=[],$(document).off(".player-movement"),$(document).off(".action-button-controller"),(0,_.removeKeyboardSinglePress)("pause-btn")}},{key:"addKey",value:function(e){-1==this.keyQueue.indexOf(e)&&this.keyQueue.unshift(e),this.props.moving||this.startMoving(this.keyQueue[0])}},{key:"releaseKey",value:function(e){var t=this;-1!=this.keyQueue.indexOf(e)?this.keyQueue.splice(this.keyQueue.indexOf(e),1):setTimeout(function(){t.releaseKey(e)},20),this.keyQueue.length&&!this.props.moving&&this.startMoving(this.keyQueue[0])}},{key:"getUpdatedX",value:function(e){return"left"==e?this.props.playerX-1:"right"==e?this.props.playerX+1:this.props.playerX}},{key:"getUpdatedY",value:function(e){return"up"==e?this.props.playerY-1:"down"==e?this.props.playerY+1:this.props.playerY}},{key:"startMoving",value:function(e){var t=this;return g["default"].getState().game.isPaused?!1:g["default"].getState().message.messaging?!1:(this.props.dispatch({type:"UPDATE_DIRECTION",direction:e,mover_id:"player"}),p["default"].isFree(this.getUpdatedX(e),this.getUpdatedY(e))?(p["default"].reserveCell(this.getUpdatedX(e),this.getUpdatedY(e),"player"),this.props.dispatch({type:"START_MOVING",mover_id:"player"}),void(0,v["default"])("player",function(){p["default"].removeReservedCell(t.props.playerX,t.props.playerY),t.props.dispatch({type:"UPDATE_PLAYER_POSITION",x:t.getUpdatedX(e),y:t.getUpdatedY(e),mover_id:"player"}),p["default"].checkActions(t.props.playerX,t.props.playerY),t.keyQueue.length?t.startMoving(t.keyQueue[0]):t.stopMoving()})):void this.stopMoving())}},{key:"stopMoving",value:function(){this.props.dispatch({type:"STOP_MOVING",mover_id:"player"})}},{key:"handleDPadPress",value:function(e){var t=this,n=function r(){t.props.moving?(console.log("setTimeout"),setTimeout(function(){r()},10)):(t.props.dispatch({type:"UPDATE_DIRECTION",direction:e,mover_id:"player"}),t.addKey(e))};n()}},{key:"handleDPadRelease",value:function(e){this.releaseKey(e)}},{key:"render",value:function(){return null}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerX:e.people.player.x,playerY:e.people.player.y,playerDirection:e.people.player.dir,moving:e.people.player.moving}})(t)||t}(l["default"].Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){function e(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=s["default"].getState().people.player.dir;return-1!=e.indexOf(t)}var t=this;t.btnSafe=!0;var n=32;(0,i["default"])(document).on("keydown.action-button-controller",function(e){e.which==n&&t.btnSafe&&(t.btnSafe=!1,t.handleActionButton())}).on("keyup.action-button-controller",function(e){e.which==n&&(t.btnSafe=!0)}),t.handleActionButton=function(){if("map"==s["default"].getState().game.gameArea){if(s["default"].getState().game.isPaused)return void console.log("action button during pause state");if(s["default"].getState().game.isShowingTextbox)return!1;console.log("action button");var t=f["default"].getInteraction();if(t&&("dialog"==t.type||"readable"==t.type)){"dialog"==t.type&&console.warn("interaction type is `dialog`. change to `readable`"),t.npc_id&&"stationary"==s["default"].getState().people[t.npc_id].useBehavior&&s["default"].dispatch({type:"UPDATE_DIRECTION",mover_id:t.npc_id,direction:(0,p.getOppositeDirection)(s["default"].getState().people.player.dir)});var n=t.dialog||t.content;t.content&&console.warn("`content` used instead of `dialog`. Clean it up."),t.restrictedDirections&&(e(t.restrictedDirections)||(n=t.restrictionErrorDialog||t.restrictionErrorContent),t.restrictionErrorContent&&console.warn("`restrictionErrorContent` used instead of `restrictionErrorDialog`. Clean it up."));var r=n.map(function(e){return(0,l.convertText)(e)});s["default"].dispatch({type:"SET_MESSAGE",payload:r}),s["default"].dispatch({type:"SHOW_TEXTBOX"})}}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var o=n(80),i=r(o),u=n(28),s=r(u),l=n(92),c=n(55),f=r(c),p=n(57);e.exports=t["default"]},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){var t=[];return e.forEach(function(e,r){if(e.match(/@@pause_/)){var a=e.match(/\d+/g)[0];t=[].concat(n(t),[{content:" ",delayBefore:a}])}else!function(){var r=70;e.match(/^\[LIGHTNING\]/i)&&(e=e.replace("[LIGHTNING]",""),r=10),e.match(/^\[FAST\]/i)&&(e=e.replace("[FAST]",""),r=35),e.match(/^\[SLOW\]/i)&&(e=e.replace("[SLOW]",""),r=140),e.match(/^\[CRAWL\]/i)&&(e=e.replace("[CRAWL]",""),r=360);var a=e.split("").map(function(e){return{content:e,delayBefore:" "!=e?r:0}});t=[].concat(n(t),n(a))}()}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.convertText=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(94),p=r(f),d=n(95),v=r(d),y=n(96),h=(r(y),n(99),n(100)),m=r(h),g=n(117),_=r(g),b=n(120),O=r(b),w=n(128),S=r(w),E=n(133),P=r(E),T=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.state={intro:!0}}o(t,e),i(t,[{key:"componentWillMount",value:function(){(0,v["default"])(),(0,p["default"])()}}]),i(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch({type:"SET_BATTLE_INTRO_MESSAGE",payload:{introMessage:[(0,P["default"])()]}}),setTimeout(function(){e.setState({intro:!1})},200)}},{key:"renderCurrentAnimation",value:function(){var e=this.props.rollout[this.props.rolloutIndex];if(!e)return null;var t=this.props.rollout[this.props.rolloutIndex];return"animation"==this.props.rolloutEventStation?S["default"][e.animation].call(this,t):null}},{key:"render",value:function(){return l["default"].createElement("main",{className:"battle-frame"},l["default"].createElement("div",{className:"battle-container"},l["default"].createElement("div",{className:"battle-arena"},l["default"].createElement(m["default"],{forId:"a",isPlayer:!0,intro:this.state.intro}),l["default"].createElement(_["default"],{forId:"a",isPlayer:!0,intro:this.state.intro}),l["default"].createElement(m["default"],{forId:"b",isPlayer:!1,intro:this.state.intro}),l["default"].createElement(_["default"],{forId:"b",isPlayer:!1,intro:this.state.intro}),this.renderCurrentAnimation()),l["default"].createElement(O["default"],null)))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerId:e.battleUi.playerId,rollout:e.rollout,combatants:e.combatants,rolloutIndex:e.battleUi.rolloutIndex,rolloutEventStation:e.battleUi.rolloutEventStation}})(t)||t}(l["default"].Component);T.propTypes={},T.defaultProps={};t["default"]=T,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(28),i=r(o),u=n(48);r(u);t["default"]=function(){[{id:"a"},{id:"b",isChallenger:!0,items:["action_item_hp_001","action_item_clearStatus_lag_001","action_item_pp_001"]}].map(function(e){return a({},e)}).forEach(function(e){i["default"].dispatch({type:"MERGE_COMBATANT",payload:{key:e.id,changes:e}})})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),o=r(a);t["default"]=function(){[{type:"CLEAR_BATTLE_SUBMISSIONS"},{type:"SET_ROLLOUT",payload:{rollout:[]}},{type:"SET_ROLLOUT_INDEX",payload:{rolloutIndex:0}},{type:"SET_TEXT_MESSAGE",payload:{textMessage:null}},{type:"ADD_STYLE_TO_COMBATANT",payload:{key:"a",combatantStyles:{}}},{type:"ADD_STYLE_TO_COMBATANT",payload:{key:"b",combatantStyles:{}}},{type:"SET_ROLLOUT_EVENT_STATION",payload:{rolloutEventStation:"init"}}].forEach(function(e){o["default"].dispatch(e)})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(97),p=r(f),d=n(98),v=r(d),y=function(e){function t(){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){var e=this;if(!this.props.combatant)return null;var t={display:"inline-block",verticalAlign:"middle",width:20,height:20,marginRight:10,borderRadius:3,background:this.props.color};this.props.winners.filter(function(t){return t==e.props.id}).length;return l["default"].createElement("div",null,l["default"].createElement("div",null,l["default"].createElement("span",{style:t}),this.props.combatant.name),l["default"].createElement(p["default"],{forId:this.props.id,displayName:"Attack",statName:"attackStatPoints"}),l["default"].createElement(p["default"],{forId:this.props.id,displayName:"Defense",statName:"defenseStatPoints"}),l["default"].createElement(p["default"],{forId:this.props.id,displayName:"Speed",statName:"speedStatPoints"}),l["default"].createElement(p["default"],{forId:this.props.id,displayName:"Efficiency",statName:"efficiencyStatPoints"}),l["default"].createElement("div",null,"Skin: ",l["default"].createElement(v["default"],{forId:this.props.id})))}}]),t}(l["default"].Component);t["default"]=(0,c.connect)(function(e,t){return{combatant:e.combatants[t.id],winners:e.battle.winners}})(y),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=function(e){function t(){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"handleTick",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t={};t[this.props.statName]=this.props.value+e,this.props.dispatch({type:"MERGE_COMBATANT",payload:{key:this.props.forId,changes:t}})}},{key:"render",value:function(){var e;return l["default"].createElement("div",null,l["default"].createElement("span",{style:{display:"inline-block",width:70}},this.props.displayName),l["default"].createElement("button",{onClick:(e=this.handleTick).bind.call(e,this,-1)},"-"),l["default"].createElement("span",{style:{display:"inline-block",width:30,textAlign:"center"}},this.props.value),l["default"].createElement("button",{onClick:(e=this.handleTick).bind.call(e,this,1)},"+"))}}]),t}(l["default"].Component);t["default"]=(0,c.connect)(function(e,t){return{value:e.combatants[t.forId][t.statName]}})(f),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"handleChange",value:function(){this.props.dispatch({type:"MERGE_COMBATANT",payload:{key:this.props.forId,changes:{skin:this.refs.select.value}}})}},{key:"render",value:function(){return l["default"].createElement("select",{value:this.props.skin,ref:"select",onChange:this.handleChange.bind(this)},l["default"].createElement("option",{value:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/svJacob-2.svg"},"Jacob"),l["default"].createElement("option",{value:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew.svg"},"Drew"),l["default"].createElement("option",{value:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-blonde.svg"},"Drew (Blonde)"),l["default"].createElement("option",{value:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-pink.svg"},"Drew (Pink)"),l["default"].createElement("option",{value:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-orange.svg"},"Drew (Orange)"),l["default"].createElement("option",{value:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/jessie.svg"},"Jessie"),l["default"].createElement("option",{value:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/jessie-blue.svg"},"Jessie (Blue)"))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{skin:e.combatants[t.forId].skin}})(t)||t}(l["default"].Component);f.propTypes={},f.defaultProps={},t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){e||console.warn("no value for setStation"),v["default"].dispatch({type:"SET_ROLLOUT_EVENT_STATION",payload:{rolloutEventStation:e}})}function o(e){v["default"].dispatch({type:"SET_TEXT_MESSAGE",payload:{textMessage:e}})}function i(){a("init");var e=v["default"].getState().combatants,t=Object.keys(e).filter(function(t){return e[t].hp<=0});0==t.length?(v["default"].dispatch({type:"SET_ROLLOUT_INDEX",payload:{rolloutIndex:0}}),v["default"].dispatch({type:"SET_ROLLOUT",payload:{rollout:[]}}),v["default"].dispatch({type:"CLEAR_BATTLE_SUBMISSIONS"})):(a("death"),u(t[0]))}function u(e){var t=v["default"].getState().battleUi.rolloutEventStation;if("death"==t){v["default"].dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:e,style:{animation:"die 2s forwards"}}});var n=v["default"].getState().combatants[e];o(null),o(n.name+" has run out of battery life!"),a("afterDeath")}}function s(){o(null);var e=v["default"].getState().battleUi.rolloutIndex;return"undefined"==typeof v["default"].getState().rollout[e+1]?(i(),!1):(v["default"].dispatch({type:"SET_ROLLOUT_INDEX",payload:{rolloutIndex:e+1}}),a("init"),void c())}function l(){var e=v["default"].getState().combatants,t=Object.keys(e).filter(function(t){return e[t].hp>0})[0],n=e[t];n||console.warn("no winner found"),v["default"].dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:t,style:{animation:"celebrate 2s infinite"}}}),t==v["default"].getState().battleUi.playerId?console.log("PLAYER WON! HAPPY MUSIC"):console.log("PLAYER LOST! SAD MUSIC"),a("battleOver"),o(null),o("[FAST]"+n.name+" is the winner!")}function c(){var e=v["default"].getState().battleUi.rolloutEventStation;if("battleOver"==e){var t=function(){v["default"].dispatch({type:"SET_GAME_AREA",payload:{gameArea:"map"}}),(0,y.removeKeyboardSinglePress)("exitBattle")};return void(0,y.addKeyboardSinglePress)(13,t,"exitBattle")}if("afterDeath"==e)return void setTimeout(function(){l()},1e3);var n=v["default"].getState().rollout[v["default"].getState().battleUi.rolloutIndex];if(!n.messages)return console.warn("The original caster might be dead, or the turn was cancelled"),void s();if("init"==e)return n.messages.before?(a("before"),void o(n.messages.before)):void a("animation");if("before"==e&&v["default"].getState().battleUi.textMessageDoneRolling){a("beforeConfirmation");var r=function(){(0,y.removeKeyboardSinglePress)("beforeConfirmation"),c()};return void(0,y.addKeyboardSinglePress)(13,r,"beforeConfirmation")}if("beforeConfirmation"==e)return n.cancelAnimation?(a("actions"),void c()):void a("animation");if("animation"==e)return a("actions"),void c();if("actions"==e){if(p(n.combatantActions),n.showTargetBlinking)return void a("blinking");o(null),o(n.messages.after),n.messages.after?(a("after"),o(n.messages.after),c()):s()}if("blinking"==e&&(o(null),o(n.messages.after),n.messages.after?(a("after"),o(n.messages.after),c()):s()),"after"==e&&v["default"].getState().battleUi.textMessageDoneRolling){a("afterConfirmation");var r=function(){(0,y.removeKeyboardSinglePress)("afterConfirmation"),c()};return void(0,y.addKeyboardSinglePress)(13,r,"afterConfirmation")}"afterConfirmation"==e&&s()}function f(){console.warn("old incrementrolloutstation being fired")}function p(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];e.forEach(function(e){v["default"].dispatch(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.incrementRolloutStation2=c,t.incrementRolloutStation=f;var d=n(28),v=r(d),y=n(79)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},l=n(2),c=r(l),f=n(4),p=n(101),d=n(52),v=r(d),y=function(e){function t(){a(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),u(t,[{key:"submitRandomAttack",value:function(){var e=(0,v["default"])(this.props.combatant.attacks),t="a"==this.props.forId?"b":"a";(0,p.makeSubmission)(e,this.props.forId,t)}},{key:"componentDidMount",value:function(){this.props.isPlayer||this.submitRandomAttack()}},{key:"componentWillUpdate",value:function(e){this.props.isPlayer||0!=e.submissions.length||this.submitRandomAttack()}},{key:"render",value:function(){var e=this.props.isPlayer?"battle-player":"battle-enemy",t=this.props.intro?"is-introing":"",n=this.props.combatantStyles[this.props.forId]?this.props.combatantStyles[this.props.forId]:null,r=i({backgroundImage:"url("+this.props.combatant.skin+")"},n);return c["default"].createElement("div",{style:r,className:e+" "+t})}}]);var n=t;return t=(0,f.connect)(function(e,t){return{combatant:e.combatants[t.forId],submissions:e.battle.submissions,combatantStyles:e.battleUi.combatantStyles}})(t)||t}(c["default"].Component);y.propTypes={},y.defaultProps={},t["default"]=y,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){c["default"].dispatch({type:"SET_SERIES_WINNER_COUNT",payload:{seriesWinnerCount:0}});var e=[],t=c["default"].subscribe(function(){var n=e;e=c["default"].getState().battle.winners,n.length<e.length&&(console.warn("winners has gone up!",e),c["default"].dispatch({type:"SET_SERIES_WINNER_COUNT",payload:{seriesWinnerCount:c["default"].getState().battle.seriesWinnerCount+1}}),c["default"].getState().battle.seriesWinnerCount<c["default"].getState().battle.seriesBattleLength?(console.log("starting new battle"),i()):(console.log("unsubscribing"),t()))});i()}function i(){c["default"].dispatch({type:"SET_BATTLE_QUEUED_SUBMISSIONS",payload:[]}),S(),console.log("reset"),u(),console.log("autoSubmitNewTurns")}function u(){var e=c["default"].getState().combatants;if(!Object.keys(e).length)return void console.warn("No combatants");for(var t in e){var n=[].concat(a(e[t].attacks),a(e[t].items)),r=(0,p["default"])(n),o=/item_/.test(r)?null:(0,p["default"])((0,v["default"])(t));s(r,t,o)}}function s(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=new h["default"](c["default"].getState().combatants[t]),a=g["default"][e].speedModifier,o={action_id:e,caster_id:t,target_id:n,speedRoll:r.getSpeedRoll(a),casterPostTurnAddSubmission:"memoryLeak"==r.status?"memoryLeak":null,isFromQueue:!1};c["default"].dispatch({type:"ADD_BATTLE_SUBMISSION",payload:o});var i=c["default"].getState();i.battle.submissions.length==Object.keys(i.combatants).length&&(0,b["default"])()}Object.defineProperty(t,"__esModule",{value:!0}),t.startBattleSeries=o,t.autoSubmitTurns=u,t.makeSubmission=s;var l=n(28),c=r(l),f=n(52),p=r(f),d=n(102),v=r(d),y=n(103),h=r(y),m=n(104),g=r(m),_=n(106),b=r(_),O=n(116),w=r(O),S=function(){var e={hp:50,pp:50,status:"normal",accuracyModifier:0,attackModifier:0,defenseModifier:0,speedModifier:0,efficiencyModifier:0,items:["action_item_hp_001","action_item_accuracy_001","action_item_sticker_attack_001","action_item_sticker_defense_001","action_item_sticker_speed_001","action_item_sticker_efficiency_001","action_item_clearStatus_lag_001","action_item_clearStatus_memoryLeak_001"]};(0,w["default"])(e),c["default"].dispatch({type:"SET_ROLLOUT",payload:{rollout:[]}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),o=r(a);t["default"]=function(e){var t=o["default"].getState().combatants;return Object.keys(t).filter(function(n){return n!=e&&t[n].hp>0})},e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(51);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return"object"!=typeof e&&console.warn("Combatant model defined incorrectly. Expected object, got",typeof e),r({},e,{accuracyRoll:90+e.accuracyModifier,attackRoll:(0,a.baseRoll)()+e.attackStatPoints+e.attackModifier,defenseRoll:(0,a.baseRoll)()+e.defenseStatPoints+e.defenseModifier,efficiencyRating:e.efficiencyStatPoints+e.efficiencyModifier,getSpeedRoll:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return(0,a.baseRoll)()+e.speedStatPoints+e.speedModifier+t},isDead:function(){return e.hp<=0},isAlive:function(){return e.hp>0}})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(68),i=r(o),u=n(70),s=r(u),l=n(105),c=r(l);t["default"]=a({},i["default"],s["default"],c["default"]),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(69),i=r(o);t["default"]={action_naturaleffect_memoryLeak_001:a({},i["default"],{isNaturalStatusEvent:!0,accuracyModifier:999,affectCasterHpPointsByPercent:-.07,submittedByStatus:"memoryLeak"}),action_naturaleffect_lagExpire:a({},i["default"],{isNaturalStatusEvent:!0,accuracyModifier:999,clearCasterStatuses:["lag"],submittedByStatus:"lag"})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(28),u=r(i),s=n(107),l=r(s),c=n(108),f=n(109),p=r(f),d=n(112),v=r(d),y=n(115),h=r(y),m=n(101);t["default"]=function(){var e=o({},u["default"].getState().combatants);u["default"].dispatch({type:"SET_PROCESSING_COMBATANTS",payload:e});var t=[].concat(a((0,c.extractQueuedSubmissions)(u["default"].getState().battle.queuedSubmissions)),a(u["default"].getState().battle.submissions)).map(function(e){return o({},e,{id:(0,h["default"])("submission")})});u["default"].dispatch({type:"SET_BATTLE_QUEUED_SUBMISSIONS",payload:(0,c.removeQueueSlot)(u["default"].getState().battle.queuedSubmissions)});var n=(0,l["default"])(t),r=[].concat(a(n));n.forEach(function(e){if(e.casterPostTurnAddSubmission){var t=r.map(function(e){return e.id}).indexOf(e.id);r.splice(t+1,0,{id:(0,h["default"])("submission_natural"),action_id:"action_naturaleffect_memoryLeak_001",caster_id:e.caster_id,casterPostTurnAddSubmission:null,isFromQueue:!1})}});var i=[];r.forEach(function(e){var t=(0,p["default"])(e);t.processorActions.forEach(function(e){u["default"].dispatch(e)}),i.push(new v["default"](t))}),u["default"].dispatch({type:"SET_ROLLOUT",payload:{rollout:i}}),u["default"].dispatch({type:"SET_TERMINAL_MENU_KEY",payload:{terminalMenuKey:"menuRoot"}}),u["default"].dispatch({type:"SET_TERMINAL_MENU_INDEX",payload:{terminalMenuSelectedIndex:0}}),u["default"].getState().battle.isAutoplayMode&&i.forEach(function(e){e.messages&&e.messages.before&&console.log(e.messages.before),e.combatantActions.forEach(function(e){u["default"].dispatch(e)}),e.messages&&e.messages.after&&console.log(e.messages.after),console.log("-------------------------------------------")}),u["default"].getState().battle.isAutoplayMode&&u["default"].dispatch({type:"CLEAR_BATTLE_SUBMISSIONS"});var s=u["default"].getState().combatants,f=Object.keys(s).filter(function(e){return s[e].hp>0});Object.keys(s).filter(function(e){return s[e].hp<=0});u["default"].getState().battle.isAutoplayMode&&(f.length>1?setTimeout(function(){u["default"].dispatch({type:"SET_ROLLOUT",payload:{rollout:[]}}),(0,m.autoSubmitTurns)()},4):(u["default"].dispatch({type:"ADD_BATTLE_WINNER",payload:f[0]||null}),console.warn("WINNER IS",f)))},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(51);t["default"]=function(e){var t=[].concat(r(e));return t.sort(function(e,t){var n=e.speedRoll,r=t.speedRoll;return n==r&&(n=(0,a.coinToss)()?n+1:n-1),r>n?-1:n>r?1:0}).reverse()},e.exports=t["default"]},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){void 0===e&&(e=[]);var r=arguments.length<=2||void 0===arguments[2]?1:arguments[2];if(1>r)return console.warn("turnsToWait must be 1 or more "),[];for(var a=[],o=0;r-1>=o;o++)e[o]&&e[o].length?a.push([].concat(n(e[o]))):a.push([]);var i=[].concat(a);return i[r-1]=[].concat(n(i[r-1]),[t]),i}function a(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return e.length?e[0]:[]}function o(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return e.filter(function(e,t){return t>0})}Object.defineProperty(t,"__esModule",{value:!0}),t.addQueuedSubmissions=r,t.extractQueuedSubmissions=a,t.removeQueueSlot=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(28),u=r(i),s=n(104),l=r(s),c=n(103),f=r(c),p=n(51),d=n(110),v=n(82),y=r(v),h=n(108);t["default"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.caster_id?new f["default"](u["default"].getState().combatProcessor[e.caster_id]):null,r=e.target_id?new f["default"](u["default"].getState().combatProcessor[e.target_id]):null,i=l["default"][e.action_id],s={didUseItem:!1,caster_id:e.caster_id,target_id:e.target_id,action_id:e.action_id},c="number"==typeof t.attackRoll?t.attackRoll:n.attackRoll,v="number"==typeof t.defenseRoll?t.defenseRoll:r?r.defenseRoll:0;if(n.isDead())return{processorActions:[],trivia:o({},s,{cancelAnimation:!0,
eventExit:"dead"})};if("lag"==n.status&&!i.itemValue&&!i.isNaturalStatusEvent)return{processorActions:[],trivia:o({},s,{eventExit:"cancelled:lag",overrideAnimation:"lag-out"})};var m=u["default"].getState().combatProcessor,g=Object.keys(m).filter(function(e){return m[e].hp>0});if(1==g.length)return{processorActions:[],trivia:o({},s,{eventExit:"cancelled:everybody-else-is-dead"})};if("lag"!=n.status&&!i.itemValue&&i.isNaturalStatusEvent&&-1!=i.clearCasterStatuses.indexOf("lag"))return{processorActions:[],trivia:o({},s,{cancelAnimation:!0,eventExit:"lagexpire::irrelevant"})};var _=t.accuracyRoll||n.accuracyRoll;if(s.accuracyRoll=_,(0,p.percentChance)(100-_-i.accuracyModifier))return{processorActions:[],trivia:o({},s,{eventExit:"miss",accuracyRoll:_,cancelAnimation:!0})};if(r&&i.targetResistanceNeeded>0&&v>=i.targetResistanceNeeded)return{processorActions:[],trivia:o({},s,{cancelAnimation:!0,eventExit:"resisted",defenseRoll:v})};if(r&&"normal"!=r.status&&"normal"!=i.affectTargetStatus)return{processorActions:[],trivia:o({},s,{cancelAnimation:!0,eventExit:"resisted::irrelevant"})};if(r&&i.theftQuantity>0&&0==r.items.length)return{processorActions:[],trivia:o({},s,{cancelAnimation:!0,eventExit:"resisted::noitems"})};var b=i.repetitions.length?(0,p.getRandomInRange)(i.repetitions[0],i.repetitions[1]):1,O=0;s.repetitions=b;for(var w=1;b>=w;w++){var S=i.affectTargetHpPoints+c-v;O=S>0?O+S:O}if(i.affectTargetHpPoints>0&&0>=O)return console.log("The Turn is -> target blocked the attack"),{processorActions:[],trivia:o({},s,{cancelAnimation:!0,eventExit:"blocked"})};var E={},P={};if(i.ppCost>0&&(E.pp=n.pp-i.ppCost),i.affectTargetHpPoints>0&&(P.hp=r.hp-O>0?r.hp-O:0,s.showTargetBlinking=!0),"normal"!=i.affectTargetStatus&&(P.status=i.affectTargetStatus,s.causedStatus=i.affectTargetStatus,i.statusTurnCount.length&&"lag"==s.causedStatus)){var T=(0,p.getRandomInRange)(i.statusTurnCount[0],i.statusTurnCount[1]),M=u["default"].getState().battle.queuedSubmissions,k={caster_id:e.target_id,target_id:null,speedRoll:9999,action_id:"action_naturaleffect_lagExpire"},A=(0,h.addQueuedSubmissions)(M,k,T);u["default"].dispatch({type:"SET_BATTLE_QUEUED_SUBMISSIONS",payload:A})}if(i.theftQuantity>0){var j=(0,d.getRandomItems)(r.items,i.theftQuantity);s.stolenItems=j,P.items=(0,y["default"])(r.items,j),E.items=[].concat(a(n.items),a(j))}if(i.isNaturalStatusEvent){if(0!=i.affectCasterHpPointsByPercent){var x=Math.ceil(n.maxHp*i.affectCasterHpPointsByPercent);E.hp=n.hp+x>0?n.hp+x:0,s.submittedByStatus=i.submittedByStatus,s.hpLost=0>x?-1*x:x,0==E.hp&&console.warn(e.caster_id+" is dead by memory leak!")}i.clearCasterStatuses.length&&-1!=i.clearCasterStatuses.indexOf(n.status)&&(E.status="normal",s.submittedByStatus=n.status)}if(i.itemValue){if(s.didUseItem=!0,E.items=(0,y["default"])(n.items,[e.action_id]),i.affectCasterHpPoints>0){var I=n.hp+i.affectCasterHpPoints,N=I<n.maxHp?I:n.maxHp;E.hp=N,s.hpRecovered=N-n.hp}if(i.affectCasterPpPoints>0){var I=n.pp+i.affectCasterPpPoints,R=I<n.maxPp?I:n.maxPp;E.pp=R,s.ppRecovered=R-n.pp}if(i.clearCasterStatuses.length){if(-1==i.clearCasterStatuses.indexOf(n.status))return{processorActions:[{type:"MERGE_PROCESSED_COMBATANT",payload:{key:e.caster_id,changes:E}}],trivia:o({},s,{eventExit:"itemfail::wrongstatus",defenseRoll:v})};E.status="normal",s.statusWas=n.status}var C=function(e,t,r){if(i[e]>0){var a="affectCasterEfficiencyPoints"!=e?n.efficiencyRating:0;E[t]=n[t]+a+i[e];var o={};o.statName=r,o.increasedBy=a+i[e],s.statIncreases=[o]}};[{actionPropertyName:"affectCasterAccuracyPoints",casterModifier:"accuracyModifier",statName:"accuracy"},{actionPropertyName:"affectCasterAttackPoints",casterModifier:"attackModifier",statName:"attack"},{actionPropertyName:"affectCasterDefensePoints",casterModifier:"defenseModifier",statName:"defense"},{actionPropertyName:"affectCasterSpeedPoints",casterModifier:"speedModifier",statName:"speed"},{actionPropertyName:"affectCasterEfficiencyPoints",casterModifier:"efficiencyModifier",statName:"efficiency"}].forEach(function(e){C(e.actionPropertyName,e.casterModifier,e.statName)})}var D=[{type:"MERGE_PROCESSED_COMBATANT",payload:{key:e.caster_id,changes:E}}];return e.target_id&&D.push({type:"MERGE_PROCESSED_COMBATANT",payload:{key:e.target_id,changes:P}}),{processorActions:D,trivia:o({},s)}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=e.map(function(e){return{id:e,value:l["default"][e].itemValue}}).sort(function(e,t){return e.value-t.value}).reverse().map(function(e){return e.id});return[].concat(a(n)).slice(0,t)}function i(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=e.map(function(e){return{id:e,value:l["default"][e].itemValue}}).sort(function(e,t){return e.value-t.value}).map(function(e){return e.id});return[].concat(a(n)).slice(0,t)}function u(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=(0,f["default"])(e);return n.slice(0,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.getBestItems=o,t.getWorstItems=i,t.getRandomItems=u;var s=n(104),l=r(s),c=n(111),f=r(c)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){for(var t,n,r=e.length;r;t=Math.floor(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return e.map(function(e){return o({},e,{type:e.type.replace("_PROCESSED","")})})}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(104),u=r(i),s=n(113),l=r(s);t["default"]=function(e){var t=u["default"][e.trivia.action_id].animation;return t||console.warn("No animation available for",e.trivia.action_id),{caster_id:e.trivia.caster_id,target_id:e.trivia.target_id,animation:t,repetitions:e.trivia.repetitions||null,showTargetBlinking:e.trivia.showTargetBlinking||!1,cancelAnimation:e.trivia.cancelAnimation||!1,combatantActions:a(e.processorActions),messages:(0,l["default"])(e.trivia)}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),o=r(a),i=n(104),u=r(i),s=n(103),l=r(s),c=n(114),f=r(c);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.caster_id?new l["default"](o["default"].getState().combatProcessor[e.caster_id]):null,n=e.target_id?new l["default"](o["default"].getState().combatProcessor[e.target_id]):null,r=u["default"][e.action_id],a=[t.name+" used ","@@pause_300","[FAST]"+r.name+"!"],i=null;if(e.repetitions>1&&(a=[t.name+" used ","@@pause_400","[FAST]"+r.name+"!"],i="It hit "+e.repetitions+" times!"),"miss"==e.eventExit&&(i=["[FAST]...but it missed!"]),"blocked"==e.eventExit&&(i=n.name+" blocked the attack!"),"resisted"==e.eventExit&&(i=["...but "+n.name+" resisted!"]),"resisted::irrelevant"==e.eventExit&&(i=["...but it didn't work..."]),"cancelled:lag"==e.eventExit)return{before:t.name+" is lagging too much to attack!",after:null};if("dead"==e.eventExit)return null;if("death"==e.submittedByStatus)return{before:null,after:t.name+" is out of battery life!"};if("cancelled:everybody-else-is-dead"==e.eventExit)return null;if("lagexpire::irrelevant"==e.eventExit)return null;if("memoryLeak"==e.causedStatus&&(i=["[FAST]"+n.name+" has a memory leak!"]),"lag"==e.causedStatus&&(i=[n.name+" is lagging out!"]),"memoryLeak"==e.submittedByStatus&&(a=null,i=t.name+" is hurt by the memory leak!"),"action_naturaleffect_lagExpire"==e.action_id&&(a=null,i=t.name+"'s lagging has ended!"),e.stolenItems&&e.stolenItems.length){var s=e.stolenItems.map(function(e){return u["default"][e].name}),c=(0,f["default"])(s);i=["[FAST]"+t.name+" stole "+c+" from "+n.name+"!"]}switch(e.didUseItem&&(a=t.name+" used a "+r.name,/_sticker_/.test(e.action_id)&&(a=t.name+" slapped on a "+r.name),"itemfail::wrongstatus"==e.eventExit&&(i="...but it didn't do anything!"),e.statusWas&&("lag"==e.statusWas&&(i=t.name+" is no longer lagging!"),"memoryLeak"==e.statusWas&&(i=t.name+" fixed the memory leak!")),e.hpRecovered&&(i=t.name+" recovered "+e.hpRecovered+" hp!"),e.statIncreases&&(i="accuracy"==e.statIncreases[0].statName?t.name+"'s accuracy increased by "+e.statIncreases[0].increasedBy+"%":t.name+"'s "+e.statIncreases[0].statName+" increased!")),e.action_id){default:return{before:a,after:i}}},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=[];e.forEach(function(e,n){var r=t.filter(function(t){return t.name==e});0==r.length?t.push({name:e,quantity:1}):t.forEach(function(t){t.name==e&&(t.quantity=t.quantity+1)})});var n="";return t.map(function(e,t){var n=e.quantity>1?"s":"";return e.quantity+" "+e.name+n}).forEach(function(e,r){n+=e,r==t.length-2&&(t.length>2&&(n+=","),n+=" and "),r<t.length-2&&(n+=", ")}),n},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){e=e||"",t=t||10;for(var n="",r="0123456789",a=0;t>a;a++)n+=r.charAt(Math.floor(Math.random()*r.length));return e+"_"+n},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(28),i=r(o),u=n(48),s=r(u);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];[{name:"a"},{name:"b"}].map(function(t){var n=e?e:s["default"];return a({},n,t)}).forEach(function(e){i["default"].dispatch({type:"MERGE_COMBATANT",payload:{key:e.name,changes:e}})})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},l=n(2),c=r(l),f=n(4),p=n(118),d=n(99),v=n(119),y=r(v),h=n(84),m=new h.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/baBuhm.mp3"]}),g=function(e){function t(e){a(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.state={displayHp:e.combatant.hp,isVisible:!1}}o(t,e),u(t,[{key:"componentWillUpdate",value:function(e){var t=this;if(e.intro==this.props.intro||e.intro||setTimeout(function(){t.setState({isVisible:!0})},1100),e.combatant.hp!=this.props.combatant.hp){var n=this.props.combatant.hp-e.combatant.hp;n>0&&m.play(),this.initHPChangeSequence(n,this.props.combatant.hp)}}},{key:"setStyleOnCombatant",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:this.props.forId,style:i({},e)}})}},{key:"initHPChangeSequence",value:function(e,t){var n=this,r=100,a=0,o=function i(){r>a?(a+=1,n.setState({displayHp:(0,p.easeOutQuad)(a,t,-e,r)}),window.requestAnimationFrame(i)):n.handleCompleteSequence()};n.setStyleOnCombatant({animation:"blink 0.3s steps(2, start) infinite"}),window.requestAnimationFrame(o)}},{key:"handleCompleteSequence",value:function(){this.setStyleOnCombatant({}),(0,d.incrementRolloutStation2)()}},{key:"render",value:function(){var e=this.props.isPlayer?"battle-scoreboard-player":"battle-scoreboard-enemy",t=Math.round(this.state.displayHp),n=t/this.props.combatant.maxHp*100,r={transition:"opacity 0.3s",opacity:this.state.isVisible?1:0};return c["default"].createElement("div",{className:e,style:r},c["default"].createElement("div",null,this.props.combatant.name," (L",this.props.combatant.level,")"),c["default"].createElement("div",null,"HP: ",t," / ",this.props.combatant.maxHp),c["default"].createElement(y["default"],{percent:n}),c["default"].createElement("div",null,"Status: ",this.props.combatant.status),c["default"].createElement("div",null,"Items: ",this.props.combatant.items.length))}}]);var n=t;return t=(0,f.connect)(function(e,t){return{combatant:e.combatants[t.forId]}})(t)||t}(c["default"].Component);t["default"]=g,e.exports=t["default"]},function(e,t){"use strict";function n(e,t,n,r){return-n*(e/=r)*(e-2)+t}Object.defineProperty(t,"__esModule",{value:!0}),t.easeOutQuad=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"getFillColor",value:function(){var e="linear-gradient(-180deg, #23E500 0%, #78EB69 38%, #0FC700 100%)",t="linear-gradient(-180deg, #E5E200 0%, #EBE669 38%, #C7BC00 100%)",n="linear-gradient(-180deg, #E50000 0%, #EB6969 38%, #C70000 100%)";return this.props.percent<=20?n:this.props.percent<=50?t:e}},{key:"render",value:function(){var e=2,t=11,n={width:110,marginTop:7,marginBottom:7,height:t,borderBottom:e+"px solid #444",background:"#555",position:"relative"},r={width:this.props.percent+"%",height:t-e,position:"absolute",top:0,bottom:0,background:this.getFillColor(),left:0};return l["default"].createElement("div",{style:n},l["default"].createElement("div",{style:r}))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{}})(t)||t}(l["default"].Component);f.propTypes={percent:l["default"].PropTypes.number.isRequired},f.defaultProps={},t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(121),p=r(f),d=n(123),v=r(d),y=n(127),h=r(y),m=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"getTerminalContent",value:function(){return this.props.introMessage?l["default"].createElement(h["default"],null):this.props.rollout.length?l["default"].createElement(v["default"],{rollout:this.props.rollout}):l["default"].createElement(p["default"],null)}},{key:"render",value:function(){var e=this.getTerminalContent();return l["default"].createElement("div",{className:"message-board"},l["default"].createElement("div",{className:"terminal-header"},l["default"].createElement("div",{className:"terminal-header-color-circle red"}),l["default"].createElement("div",{className:"terminal-header-color-circle green"})),l["default"].createElement("div",{className:"terminal-body"},e))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{rollout:e.rollout,introMessage:e.battleUi.introMessage}})(t)||t}(l["default"].Component);m.propTypes={},m.defaultProps={},t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(84),p=n(101),d=n(122),v=r(d),y=n(79),h=new f.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/menu-move.mp3"]}),m=new f.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/submit.mp3"]}),g=function(e){function t(e){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.terminalViewData=(0,v["default"])(e.playerId)}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.props.terminalMenuSelectedIndex>0&&(h.play(),e.props.dispatch({type:"SET_TERMINAL_MENU_INDEX",payload:{terminalMenuSelectedIndex:e.props.terminalMenuSelectedIndex-1}}))},n=function(){var t=e.terminalViewData[e.props.terminalMenuKey].items.length-1;e.props.terminalMenuSelectedIndex<t&&(h.play(),e.props.dispatch({type:"SET_TERMINAL_MENU_INDEX",payload:{terminalMenuSelectedIndex:e.props.terminalMenuSelectedIndex+1}}))},r=function(){var t=e.terminalViewData[e.props.terminalMenuKey].items[e.props.terminalMenuSelectedIndex].nextView||null;if(!t){var n=e.terminalViewData[e.props.terminalMenuKey].items[e.props.terminalMenuSelectedIndex].actionId;return void(n?(m.play(),(0,p.makeSubmission)(n,e.props.playerId,e.props.playerTargeting)):console.warn("no actionId for enter key"))}e.props.dispatch({type:"SET_TERMINAL_MENU_KEY",payload:{terminalMenuKey:t}}),e.props.dispatch({type:"SET_TERMINAL_MENU_INDEX",payload:{terminalMenuSelectedIndex:0}})};(0,y.addKeyboardSinglePress)(13,r,"submission-menu"),(0,y.addKeyboardSinglePress)(38,t,"submission-menu"),(0,y.addKeyboardSinglePress)(40,n,"submission-menu")}},{key:"componentWillUnmount",value:function(){(0,y.removeKeyboardSinglePress)("submission-menu")}},{key:"render",value:function(){var e=this,t=this.terminalViewData,n=t[this.props.terminalMenuKey],r=n.items.map(function(t,n){var r=n==e.props.terminalMenuSelectedIndex?"terminal-item-active":null,a=t.quantity>1?"(x"+t.quantity+")":null,o="number"==typeof t.ppCost?""+t.ppCost:null;return l["default"].createElement("tr",{className:"terminal-item "+r,key:n},l["default"].createElement("td",{className:"command-title"},t.label),l["default"].createElement("td",{className:"command-price-quantity"},a,o),l["default"].createElement("td",{className:"command-description"},t.description))});return l["default"].createElement("div",null,l["default"].createElement("div",null,n.title),l["default"].createElement("table",{className:"terminal-items-list"},l["default"].createElement("tbody",null,r)))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{terminalMenuKey:e.battleUi.terminalMenuKey,terminalMenuSelectedIndex:e.battleUi.terminalMenuSelectedIndex,playerId:e.battleUi.playerId,playerTargeting:e.battleUi.playerTargeting,combatant:e.combatants[e.battleUi.playerId]}})(t)||t}(l["default"].Component);g.propTypes={},g.defaultProps={},t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=[];return e.forEach(function(n){var r=t.filter(function(e){return e.actionId==n}).length>0,a=e.filter(function(e){return e==n}).length;if(!r){var o=c["default"][n];t.push({label:o.name,description:o.description,quantity:a,actionId:n})}}),t}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(28),s=r(u),l=n(104),c=r(l),f=[{label:"Attack...",description:null,nextView:"menuAttacks"},{label:"Items...",description:null,nextView:"menuItems"}],p={label:"(back)",isBackControl:!0,nextView:"menuRoot"};t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=s["default"].getState().combatants[e];t||console.warn("player combatant not found in `getSubmissionMenuData`");var n=s["default"].getState().playerData.attacks.map(function(e){var t=c["default"][e];return{label:t.name,ppCost:t.ppCost,description:t.description,actionId:e}}),r=o(t.items);return{menuRoot:{title:"Commands",items:f},menuAttacks:{title:"Commands > Attacks",items:[].concat(a(n),[i({},p)])},menuItems:{title:"Commands > Items",items:[].concat(a(r),[i({},p)])}}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(28),f=r(c),p=n(4),d=n(99),v=n(124),y=r(v),h=n(125),m=r(h),g=n(126),_=r(g),b=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=f["default"].getState().rollout[f["default"].getState().battleUi.rolloutIndex];(0,d.incrementRolloutStation2)(e)}},{key:"render",value:function(){var e=this.props.textMessage,t=Array.isArray(e)?e:[e],n=e?l["default"].createElement(y["default"],{content:(0,m["default"])(t)}):null;return l["default"].createElement("div",null,n,l["default"].createElement(_["default"],null))}}]);var n=t;return t=(0,p.connect)(function(e,t){return{textMessage:e.battleUi.textMessage}})(t)||t}(l["default"].Component);b.propTypes={rollout:l["default"].PropTypes.array.isRequired},t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(84),p=(n(79),n(99)),d=new f.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/Blip-0.0_bip_3.1.wav"],volume:.5}),v=function(e){function t(e){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.timeout=null,this.state={characterIndex:0}}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch({type:"SET_TEXT_MESSAGE_DONE_ROLLING",payload:{textMessageDoneRolling:!1}}),this.initTimeout=setTimeout(function(){e.initMessaging()},100)}},{key:"handleDone",value:function(){this.props.dispatch({type:"SET_TEXT_MESSAGE_DONE_ROLLING",payload:{textMessageDoneRolling:!0}}),this.props.onDone?this.props.onDone():(0,p.incrementRolloutStation2)()}},{key:"initMessaging",value:function(){function e(){d.play(),t.setState({characterIndex:t.state.characterIndex+1},function(){var n=t.props.content[t.state.characterIndex]||{delayBefore:0};t.state.characterIndex<t.props.content.length?t.timeout=setTimeout(e,n.delayBefore):t.handleDone()})}var t=this;e()}},{key:"render",value:function(){var e=this,t=this.props.content.map(function(t,n){var r={visibility:n<e.state.characterIndex?"visible":"hidden"};return l["default"].createElement("span",{style:r,key:n},t.content)});return l["default"].createElement("div",null,t)}}]);var n=t;return t=(0,c.connect)(function(e,t){return{}})(t)||t}(l["default"].Component);t["default"]=v,e.exports=t["default"]},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=[];return e.forEach(function(e,r){if(e.match(/@@pause_/)){var a=e.match(/\d+/g)[0];t=[].concat(n(t),[{content:" ",delayBefore:a}])}else!function(){var r=70;e.match(/^\[LIGHTNING\]/i)&&(e=e.replace("[LIGHTNING]",""),r=10),e.match(/^\[FAST\]/i)&&(e=e.replace("[FAST]",""),r=35),e.match(/^\[SLOW\]/i)&&(e=e.replace("[SLOW]",""),r=140),e.match(/^\[CRAWL\]/i)&&(e=e.replace("[CRAWL]",""),r=360);var a=e.split("").map(function(e){return{content:e,delayBefore:" "!=e?r:0}});t=[].concat(n(t),n(a))}()}),t},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"render",value:function(){if(0==/Confirmation/.test(this.props.rolloutEventStation))return null;var e={position:"absolute",width:10,height:10,background:"#fff",right:10,bottom:10,animation:"blink 0.7s steps(2, start) infinite"};return l["default"].createElement("div",{style:e})}}]);var n=t;return t=(0,c.connect)(function(e,t){return{rolloutEventStation:e.battleUi.rolloutEventStation}})(t)||t}(l["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(124),p=r(f),d=n(125),v=r(d),y=n(126),h=r(y),m=n(79),g=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),
this.state={show:!1}}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({show:!0})},900)}},{key:"introDoneCallback",value:function(){this.props.dispatch({type:"SET_ROLLOUT_EVENT_STATION",payload:{rolloutEventStation:"introConfirmation"}});var e=this,t=function(){e.props.dispatch({type:"SET_BATTLE_INTRO_MESSAGE",payload:{introMessage:null}}),e.props.dispatch({type:"SET_ROLLOUT_EVENT_STATION",payload:{rolloutEventStation:"init"}}),(0,m.removeKeyboardSinglePress)("introMessage")};(0,m.addKeyboardSinglePress)(13,t,"introMessage")}},{key:"render",value:function(){return this.state.show&&this.props.introMessage?l["default"].createElement("div",null,l["default"].createElement(p["default"],{onDone:this.introDoneCallback.bind(this),content:(0,v["default"])(this.props.introMessage)}),l["default"].createElement(h["default"],null)):null}}]);var n=t;return t=(0,c.connect)(function(e,t){return{introMessage:e.battleUi.introMessage}})(t)||t}(l["default"].Component);t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(129),u=r(i),s=n(130),l=r(s),c=n(131),f=r(c),p=n(132),d=r(p);t["default"]={tada:function(e){return o["default"].createElement(u["default"],{event:e})},slideOutDown:function(e){return o["default"].createElement(l["default"],{event:e})},shootingStar:function(e){return o["default"].createElement(f["default"],{event:e})},forEach1:function(e){return o["default"].createElement(d["default"],{event:e})}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(99),p=function(e){function t(e){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.caster_id=this.props.event.caster_id||null}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:this.caster_id,style:{animation:"tada 1s infinite"}}}),setTimeout(function(){e.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:e.caster_id,style:{}}}),setTimeout(function(){(0,f.incrementRolloutStation2)()},200)},1002)}},{key:"render",value:function(){return l["default"].createElement("div",{style:{position:"absolute"}})}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerId:e.battleUi.playerId}})(t)||t}(l["default"].Component);p.propTypes={},p.defaultProps={},t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(99),p=function(e){function t(e){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.caster_id=this.props.event.caster_id||null}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:this.caster_id,style:{animation:"slideOutDown 1s infinite"}}}),setTimeout(function(){(0,f.incrementRolloutStation2)(),e.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:e.caster_id,style:{}}})},1002)}},{key:"render",value:function(){return null}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerId:e.battleUi.playerId}})(t)||t}(l["default"].Component);p.propTypes={},p.defaultProps={},t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(99),p=function(e){function t(e){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.useReverse=this.props.event.caster_id!=this.props.playerId,this.target_id=this.props.event.target_id||null,this.state={isDone:!1}}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;console.warn("shootingStar - set to shake"),this.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:this.target_id,style:{animation:"shake 1s infinite linear"}}}),setTimeout(function(){e.setState({isDone:!0}),(0,f.incrementRolloutStation2)(),console.warn("shootingStar - remove shake")},990)}},{key:"render",value:function(){if(this.state.isDone)return null;var e=this.useReverse?"reverse":"",t={position:"absolute",animation:"projectile 1s ease-in "+e+", rise 1s ease-in "+e+", spin 1s linear infinite"};return l["default"].createElement("div",{style:t},l["default"].createElement("img",{style:d,src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/star.png"}))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerId:e.battleUi.playerId}})(t)||t}(l["default"].Component),d={display:"block",width:"100%"};p.propTypes={},p.defaultProps={},t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),f=n(99),p=n(84),d=new p.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/iterator.mp3"]}),v=function(e){function t(e){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.caster_id=this.props.event.caster_id||null}o(t,e),i(t,[{key:"componentDidMount",value:function(){function e(){d.play(),n-=1,t.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:t.caster_id,style:{animation:"tada 0.5s infinite"}}}),setTimeout(function(){t.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:t.caster_id,style:{}}}),n>0?e():(0,f.incrementRolloutStation2)()},500)}var t=this,n=t.props.event.repetitions;e()}},{key:"render",value:function(){return l["default"].createElement("div",{style:{position:"absolute"}})}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerId:e.battleUi.playerId}})(t)||t}(l["default"].Component);t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),o=r(a);t["default"]=function(){var e=o["default"].getState().combatants,t=Object.keys(e).filter(function(t){return e[t].isChallenger})[0],n=Object.keys(e).filter(function(t){return!e[t].isChallenger})[0];return"[FAST]"+e[t].name+" challenges "+e[n].name+" to a HACK BATTLE"},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){var e=this;e.btnSafe=!0;var t=13;(0,i["default"])(document).on("keydown",function(n){n.which==t&&e.btnSafe&&(e.btnSafe=!1)}).on("keyup",function(n){n.which==t&&(e.btnSafe=!0)}),e.handlePauseButton=function(){return s["default"].getState().game.isShowingTextbox?void 0:(console.log("pause button"),s["default"].getState().game.isPaused?void s["default"].dispatch({type:"UNPAUSE_GAME"}):void s["default"].dispatch({type:"PAUSE_GAME"}))}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var o=n(80),i=r(o),u=n(28),s=r(u);e.exports=t["default"]},function(e,t){"use strict";function n(e){for(var t=window.location.search.substring(1),n=t.split("&"),r=0;r<n.length;r++){var a=n[r].split("=");if(a[0]==e)return a[1]}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryVariable=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={backgroundImage:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/dangerMap.svg",width:16,height:16,walls:{"8x2":{type:"solid"}},interactiveEvents:{"8x2":{type:"readable",dialog:[["How to do Stuff: ","@@pause_1000","The Complete Guide"],["[FAST]This is page2"]],restrictedDirections:null},"7x1":{type:"readable",dialog:[["Whoa you found me"]],restrictedDirections:["up"],restrictionErrorDialog:[["Hey punk, you can't read the sign from here."]]}},footEvents:{"6x0":{type:"map-transition",map:"someMapToLoad"},"8x6":{type:"battle-zone",levelRange:[3,5]},"9x6":{type:"battle-zone",levelRange:[3,5]},"10x6":{type:"battle-zone",levelRange:[3,5]},"11x6":{type:"battle-zone",levelRange:[3,5]}},people:{player:{x:7,y:5,dir:"down"},npc_001:{x:3,y:3,skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-orange.svg",dir:"down",interaction:{type:"dialog",content:[["I'm too busy for this conversation!"],["[LIGHTNING]Scram!"]]},useBehavior:"roaming",behaviorData:{path:["left","left","left","up","up","up"],isCircular:!1}},npc_002:{x:8,y:3,dir:"down",skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/jessie.svg",interaction:{type:"dialog",content:[["Did that guy yell at you?"],["[SLOW]Yeah...","@@pause_700@@","He yelled at me, too."]]},useBehavior:"stationary",behaviorData:{rotationDirections:["left","up","right"],doesRotate:!0}}}},e.exports=t["default"]}]);