!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="/dist/",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(2),o=r(a),i=n(3),u=n(4),s=n(25),l=r(s),c=n(27),p=r(c),f=n(44),d=r(f),v=o["default"].createClass({displayName:"RootComponent",componentWillMount:function(){(0,l["default"])(),window.addXp=function(){arguments.length<=0||void 0===arguments[0]?0:arguments[0];p["default"].dispatch({type:"SET_RESULT_PROMPT_VALUE",payload:{changes:{showResult:!0,safeToPause:!1}}})}},render:function(){return o["default"].createElement(u.Provider,{store:this.props.store},o["default"].createElement(d["default"],null))}});(0,i.render)(o["default"].createElement(v,{store:p["default"]}),document.getElementById("app-root"))},function(e,t){e.exports=React},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.Provider=void 0;var a=n(5),o=r(a),i=n(7),u=r(i);t.Provider=o["default"],t.connect=u["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t["default"]=void 0;var u=n(2),s=n(6),l=r(s),c=function(e){function t(n,r){a(this,t);var i=o(this,e.call(this,n,r));return i.store=n.store,i}return i(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return u.Children.only(e)},t}(u.Component);t["default"]=c,c.propTypes={store:l["default"].isRequired,children:u.PropTypes.element.isRequired},c.childContextTypes={store:l["default"].isRequired}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(2);t["default"]=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.displayName||e.name||"Component"}function s(e,t){return(0,E["default"])((0,b["default"])(e),"`%sToProps` must return an object. Instead received %s.",t?"mapDispatch":"mapState",e),e}function l(e,t,n){function r(e,t,n){var r=g(e,t,n);return(0,E["default"])((0,b["default"])(r),"`mergeProps` must return an object. Instead received %s.",r),r}var l=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],f=Boolean(e),v=e||S,y=(0,b["default"])(t)?(0,m["default"])(t):t||P,g=n||T,_=g!==T,O=l.pure,M=void 0===O?!0:O,x=l.withRef,A=void 0===x?!1:x,j=k++;return function(e){var t=function(t){function n(e,r){a(this,n);var i=o(this,t.call(this,e,r));i.version=j,i.store=e.store||r.store,(0,E["default"])(i.store,'Could not find "store" in either the context or '+('props of "'+i.constructor.displayName+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+i.constructor.displayName+'".'));var u=i.store.getState();return i.state={storeState:u},i.clearCache(),i}return i(n,t),n.prototype.shouldComponentUpdate=function(){return!M||this.haveOwnPropsChanged||this.hasStoreStateChanged},n.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return s(r)},n.prototype.configureFinalMapState=function(e,t){var n=v(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:v,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):s(n)},n.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return s(r,!0)},n.prototype.configureFinalMapDispatch=function(e,t){var n=y(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:y,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):s(n,!0)},n.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return this.stateProps&&(0,h["default"])(e,this.stateProps)?!1:(this.stateProps=e,!0)},n.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return this.dispatchProps&&(0,h["default"])(e,this.dispatchProps)?!1:(this.dispatchProps=e,!0)},n.prototype.updateMergedPropsIfNeeded=function(){var e=r(this.stateProps,this.dispatchProps,this.props);return this.mergedProps&&_&&(0,h["default"])(e,this.mergedProps)?!1:(this.mergedProps=e,!0)},n.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},n.prototype.trySubscribe=function(){f&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},n.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},n.prototype.componentDidMount=function(){this.trySubscribe()},n.prototype.componentWillReceiveProps=function(e){M&&(0,h["default"])(e,this.props)||(this.haveOwnPropsChanged=!0)},n.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},n.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},n.prototype.handleChange=function(){if(this.unsubscribe){var e=this.state.storeState,t=this.store.getState();M&&e===t||(this.hasStoreStateChanged=!0,this.setState({storeState:t}))}},n.prototype.getWrappedInstance=function(){return(0,E["default"])(A,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},n.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.renderedElement;this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1;var a=!0,o=!0;M&&r&&(a=n||t&&this.doStatePropsDependOnOwnProps,o=t&&this.doDispatchPropsDependOnOwnProps);var i=!1,u=!1;a&&(i=this.updateStatePropsIfNeeded()),o&&(u=this.updateDispatchPropsIfNeeded());var s=!0;return s=i||u||t?this.updateMergedPropsIfNeeded():!1,!s&&r?r:(A?this.renderedElement=(0,p.createElement)(e,c({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,p.createElement)(e,this.mergedProps),this.renderedElement)},n}(p.Component);return t.displayName="Connect("+u(e)+")",t.WrappedComponent=e,t.contextTypes={store:d["default"]},t.propTypes={store:d["default"]},(0,w["default"])(t,e)}}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.__esModule=!0,t["default"]=l;var p=n(2),f=n(6),d=r(f),v=n(8),h=r(v),y=n(9),m=r(y),g=n(20),b=r(g),_=n(23),w=r(_),O=n(24),E=r(O),S=function(e){return{}},P=function(e){return{dispatch:e}},T=function(e,t,n){return c({},n,e,t)},k=0},function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,o=0;o<n.length;o++)if(!a.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return function(t){return(0,a.bindActionCreators)(e,t)}}t.__esModule=!0,t["default"]=r;var a=n(10)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var a=n(11),o=r(a),i=n(15),u=r(i),s=n(17),l=r(s),c=n(18),p=r(c),f=n(19),d=r(f),v=n(16);r(v);t.createStore=o["default"],t.combineReducers=u["default"],t.bindActionCreators=l["default"],t.applyMiddleware=p["default"],t.compose=d["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){function r(){v===d&&(v=d.slice())}function o(){return f}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),v.push(e),function(){if(t){t=!1,r();var n=v.indexOf(e);v.splice(n,1)}}}function l(e){if(!(0,i["default"])(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,f=p(f,e)}finally{h=!1}for(var t=d=v,n=0;n<t.length;n++)t[n]();return e}function c(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");p=e,l({type:u.INIT})}if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var p=e,f=t,d=[],v=d,h=!1;return l({type:u.INIT}),{dispatch:l,subscribe:s,getState:o,replaceReducer:c}}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=a;var o=n(12),i=r(o),u=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){function r(e){if(!o(e)||c.call(e)!=i||a(e))return!1;var t=p(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==l}var a=n(13),o=n(14),i="[object Object]",u=Object.prototype,s=Function.prototype.toString,l=s.call(Object),c=u.toString,p=Object.getPrototypeOf;e.exports=r},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return'Reducer "'+e+'" returned undefined handling '+r+". To ignore an action, you must explicitly return the previous state."}function o(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:u.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var a="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:a}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function i(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var u,s=Object.keys(n);try{o(n)}catch(l){u=l}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(u)throw u;for(var r=!1,o={},i=0;i<s.length;i++){var l=s[i],c=n[l],p=e[l],f=c(p,t);if("undefined"==typeof f){var d=a(l,t);throw new Error(d)}o[l]=f,r=r||f!==p}return r?o:e}}t.__esModule=!0,t["default"]=i;var u=n(11),s=n(12),l=(r(s),n(16));r(l)},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),a={},o=0;o<r.length;o++){var i=r[o],u=e[i];"function"==typeof u&&(a[i]=n(u,t))}return a}t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var i=e(n,r,a),s=i.dispatch,l=[],c={getState:i.getState,dispatch:function(e){return s(e)}};return l=t.map(function(e){return e(c)}),s=u["default"].apply(void 0,l)(i.dispatch),o({},i,{dispatch:s})}}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.__esModule=!0,t["default"]=a;var i=n(19),u=r(i)},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(){if(0===t.length)return arguments.length<=0?void 0:arguments[0];var e=t[t.length-1],n=t.slice(0,-1);return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}t.__esModule=!0,t["default"]=n},function(e,t,n){function r(e){if(!o(e)||c.call(e)!=i||a(e))return!1;var t=p(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==l}var a=n(21),o=n(22),i="[object Object]",u=Object.prototype,s=Function.prototype.toString,l=s.call(Object),c=u.toString,p=Object.getPrototypeOf;e.exports=r},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};e.exports=function(e,t){for(var a=Object.getOwnPropertyNames(t),o=0;o<a.length;++o)if(!n[a[o]]&&!r[a[o]])try{e[a[o]]=t[a[o]]}catch(i){}return e}},function(e,t,n){"use strict";var r=function(e,t,n,r,a,o,i,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,o,i,u],c=0;s=new Error(t.replace(/%s/g,function(){return l[c++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(26),o=r(a);t["default"]=function(){(0,o["default"])(),window.addEventListener("contextmenu",function(e){e.preventDefault()})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),o=r(a);t["default"]=function(){var e,t=[352,528,704,880,1056,1232,1408,1584],n=function r(e){var n=t[t.length-1];e=n>=e?e:n;var a=t.indexOf(e);if(-1!=a){var i=7/11*e;return $(window).height()<i&&a>0&&(e=t[a-1],i=7/11*e),void o["default"].dispatch({type:"SET_VIEWPORT_SIZE",width:e,height:i})}e>11?r(e-1):console.warn("couldnt set viewport width :(")};window.onresize=function(){clearTimeout(e),e=setTimeout(function(){n($(window).width())},50)},n($(window).width())},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(28),i=r(o),u=n(43),s=r(u),l=(0,i["default"])({map:{},message:{messaging:!1,pagingIcon:null,activePage:0,characterIndex:-1,currentMessage:null},people:{},playerData:a({},s["default"]),battleRequests:{showRequest:!1,requesterName:"Drew",requesterLevel:21,requesterSkin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew.svg"},battleResultPrompt:{showResult:!1,xpGain:29,safeToPause:!0},game:{isAllowingMusic:!1,transitionOverlayOpacity:0,showOnboardingPopup:!1,isPaused:!1,gameArea:"map"},pauseMenu:{currentCursoringList:"pauseRoot",selectedMenuItem:"pauseRoot-stats",showMenuTab:"pauseRoot-stats",newAttackBadge:!1},battleUi:{terminalMenuKey:"menuRoot",terminalMenuSelectedIndex:0,playerId:"a",playerTargeting:"b",rolloutIndex:0,rolloutEventStation:"init",textMessage:"The Cat's Pajamas",textMessageDoneRolling:!1,combatantStyles:{},introMessage:null},battle:{isAutoplayMode:!1,seriesWinnerCount:0,seriesBattleLength:1,winners:[],backgroundImage:"some-image-url-or-css-class?",music:"some-mp3-url",submissions:[],queuedSubmissions:[]},rollout:[],combatants:{},combatProcessor:{}});t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(10),i=n(29),u=r(i),s=n(30),l=r(s),c=n(32),p=r(c),f=n(33),d=r(f),v=n(34),h=r(v),y=n(35),m=r(y),g=n(36),b=r(g),_=n(37),w=r(_),O=n(38),E=r(O),S=n(39),P=r(S),T=n(40),k=r(T),M=n(41),x=r(M),A=n(42),j=r(A);t["default"]=function(e){var t=(0,o.combineReducers)(a({},u,d,l,p,h,P,E,b,w,m,k,x,j)),n=(0,o.createStore)(t,e);return n},e.exports=t["default"]},function(e,t){"use strict";function n(e,t){void 0===e&&(e={});var n=function(n){if(!e[t.mover_id])return r({},e);var a=r({},e[t.mover_id],n),o=r({},e);return o[t.mover_id]=a,o};switch(t.type){case"ADD_PERSON":var a=r({},e);return a[t.personId]=t.personData,r({},a);case"START_MOVING":return n({moving:!0});case"SET_NPC_PATH_INDEX":if(!e[t.mover_id])return r({},e);var o=r({},e[t.mover_id]);o.behaviorData.pathIndex=t.pathIndex;var a=r({},e);return a[t.mover_id]=o,a;case"REMOVE_NPCS":var i=r({},e);for(var u in i)u.match(/npc_/)&&(console.log("deleting",u),delete i[u]);return i;case"STOP_MOVING":return n({moving:!1});case"UPDATE_TRANSITION_PROGRESS":return n({transitionProgress:t.progress});case"UPDATE_PLAYER_POSITION":return n({x:t.x,y:t.y});case"UPDATE_DIRECTION":return n({dir:t.direction});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.people=n},function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case"PAUSE_GAME":return a({},e,{isPaused:!0});case"UNPAUSE_GAME":return a({},e,{isPaused:!1});case"SHOW_TEXTBOX":return a({},e,{isShowingTextbox:!0});case"REMOVE_TEXTBOX":return a({},e,{isShowingTextbox:!1});case"SET_GAME_AREA":return a({},e,{gameArea:t.payload.gameArea});case"SET_TRANSITION_OVERLAY_OPACITY":return a({},e,{transitionOverlayOpacity:t.payload.transitionOverlayOpacity});case"SET_ONBOARDING_POPUP":return a({},e,{showOnboardingPopup:t.payload.showOnboardingPopup});case"SET_GAME_VALUE":return(0,o.setValue)(e,t.payload.changes);default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.game=r;var o=n(31)},function(e,t){"use strict";function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return o({},e,t)}function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=o({},e),a=r[t];if(a)for(var i in n)"object"==typeof n[i]&&(Array.isArray(n[i])||(n[i]=o({},a[i],n[i])));return a=o({},a,n),r[t]=a,r}function a(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=o({},e);return n[t]&&delete n[t],n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.setValue=n,t.editNode=r,t.removeNode=a},function(e,t){"use strict";function n(e,t){switch(void 0===e&&(e={}),t.type){case"SET_VIEWPORT_SIZE":return r({},e,{viewportWidth:t.width,viewportHeight:t.height});case"LOAD_MAP":return r({},e,t.map);default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.map=n},function(e,t){"use strict";function n(e,t){switch(void 0===e&&(e={}),t.type){case"SET_MESSAGE":return r({},e,{currentMessage:t.payload});case"START_MESSAGING":return r({},e,{messaging:!0});case"STOP_MESSAGING":return r({},e,{messaging:!1,pagingIcon:null,activePage:0,characterIndex:-1});case"INCREASE_CHARACTER_INDEX":return r({},e,{characterIndex:e.characterIndex+1,endOfPage:!1});case"SET_CHARACTER_INDEX":return r({},e,{characterIndex:t.payload});case"NEXT_MESSAGE_PAGE":return r({},e,{pagingIcon:null,activePage:e.activePage+1});case"END_OF_PAGE":return r({},e,{endOfPage:!0});case"SET_PAGING_ICON":return r({},e,{pagingIcon:t.payload});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.message=n},function(e,t){"use strict";function n(e,t){switch(void 0===e&&(e={}),t.type){case"SET_BATTLE_REQUEST":return{showRequest:!0,requesterId:t.payload.requesterId,requesterName:t.payload.requesterName,requesterLevel:t.payload.requesterLevel,requesterSkin:t.payload.requesterSkin};case"HIDE_BATTLE_REQUEST":case"DECLINE_BATTLE_REQUEST":return r({},e,{showRequest:!1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.battleRequests=n},function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case"MERGE_COMBATANT":return(0,o.editNode)(e,t.payload.key,a({},t.payload.changes));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.combatants=r;var o=n(31)},function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case"SET_PROCESSING_COMBATANTS":return a({},t.payload);case"MERGE_PROCESSED_COMBATANT":return(0,o.editNode)(e,t.payload.key,a({},t.payload.changes));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.combatProcessor=r;var o=n(31)},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){switch(void 0===e&&(e={}),t.type){case"SET_ROLLOUT":return[].concat(n(t.payload.rollout));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rollout=r},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){switch(void 0===e&&(e={}),t.type){case"ADD_BATTLE_SUBMISSION":return o({},e,{submissions:[].concat(r(e.submissions),[t.payload])});case"CLEAR_BATTLE_SUBMISSIONS":return o({},e,{submissions:[]});case"SET_BATTLE_QUEUED_SUBMISSIONS":return o({},e,{queuedSubmissions:t.payload});case"ADD_BATTLE_WINNER":return o({},e,{winners:[].concat(r(e.winners),[t.payload])});case"SET_SERIES_WINNER_COUNT":return o({},e,{seriesWinnerCount:t.payload.seriesWinnerCount});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.battle=a;n(31)},function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case"SET_TERMINAL_MENU_KEY":return a({},e,{terminalMenuKey:t.payload.terminalMenuKey});case"SET_TERMINAL_MENU_INDEX":return a({},e,{terminalMenuSelectedIndex:t.payload.terminalMenuSelectedIndex});case"SET_ROLLOUT_EVENT_STATION":return a({},e,{rolloutEventStation:t.payload.rolloutEventStation});case"SET_TEXT_MESSAGE":return a({},e,{textMessage:t.payload.textMessage});case"SET_TEXT_MESSAGE_DONE_ROLLING":return a({},e,{textMessageDoneRolling:t.payload.textMessageDoneRolling});case"SET_ROLLOUT_INDEX":return a({},e,{rolloutIndex:t.payload.rolloutIndex});case"SET_BATTLE_INTRO_MESSAGE":return a({},e,{introMessage:t.payload.introMessage});case"ADD_STYLE_TO_COMBATANT":var n=a({},e.combatantStyles);return n[t.payload.key]=t.payload.style,a({},e,{combatantStyles:n});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.battleUi=r;n(31)},function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case"SET_PLAYERDATA_VALUE":return(0,a.setValue)(e,t.payload.changes);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.playerData=r;var a=n(31)},function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case"SET_PAUSEMENU_VALUE":return(0,a.setValue)(e,t.payload.changes);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.pauseMenu=r;var a=n(31)},function(e,t,n){"use strict";function r(e,t){switch(void 0===e&&(e={}),t.type){case"SET_RESULT_PROMPT_VALUE":return(0,a.setValue)(e,t.payload.changes);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.battleResultPrompt=r;var a=n(31)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"Jacob",skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/svJacob-2.svg",level:1,hp:25,maxHp:25,pp:50,maxPp:50,xp:0,coins:10,healthStatPoints:3,attackStatPoints:3,defenseStatPoints:3,speedStatPoints:3,efficiencyStatPoints:3,attacks:["action_attack_basic_001","action_attack_theft_001"],items:["action_item_hp_001"]},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=(n(4),n(45)),p=r(c),f=n(46),d=r(f),v=n(47),h=(r(v),n(50)),y=(r(h),n(66)),m=r(y),g=n(151),b=(r(g),n(57)),_=(n(152),n(63)),w=r(_),O=n(62),E=(r(O),n(153)),S=r(E),P=function(e){function t(e){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),$(function(){p["default"].attach(document.body)});var n=window.location.hash.match(/#useMap=/)?(0,b.getJSON)(window.location.hash.split("#useMap=")[1]):w["default"];(0,b.loadMap)(n)}return o(t,e),i(t,[{key:"render",value:function(){return l["default"].createElement("div",{className:"ui-wrapper"},l["default"].createElement(S["default"],null),l["default"].createElement(m["default"],null),l["default"].createElement(d["default"],null))}}]),t}(l["default"].Component);t["default"]=P,e.exports=t["default"]},function(e,t,n){var r;!function(){"use strict";/**
		 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
		 *
		 * @codingstandard ftlabs-jsv2
		 * @copyright The Financial Times Limited [All Rights Reserved]
		 * @license MIT License (see LICENSE.txt)
		 */
function a(e,t){function n(e,t){return function(){return e.apply(t,arguments)}}var r;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!a.notNeeded(e)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],u=this,s=0,l=o.length;l>s;s++)u[o[s]]=n(u[o[s]],u);i&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var a=Node.prototype.removeEventListener;"click"===t?a.call(e,t,n.hijacked||n,r):a.call(e,t,n,r)},e.addEventListener=function(t,n,r){var a=Node.prototype.addEventListener;"click"===t?a.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):a.call(e,t,n,r)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(e){r(e)},!1),e.onclick=null)}}var o=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!o,u=/iP(ad|hone|od)/.test(navigator.userAgent)&&!o,s=u&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=u&&/OS [6-7]_\d/.test(navigator.userAgent),c=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(u&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},a.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},a.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},a.prototype.determineEventType=function(e){return i&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(e){var t;u&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},a.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},a.prototype.onTouchStart=function(e){var t,n,r;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],u){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!s){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},a.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},a.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},a.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(e){var t,n,r,a,o,c=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(o=e.changedTouches[0],c=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=c.tagName.toLowerCase(),"label"===r){if(t=this.findControl(c)){if(this.focus(c),i)return!1;c=t}}else if(this.needsFocus(c))return e.timeStamp-n>100||u&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,e),u&&"select"===r||(this.targetElement=null,e.preventDefault()),!1);return u&&!s&&(a=c.fastClickScrollParent,a&&a.fastClickLastScrollTop!==a.scrollTop)?!0:(this.needsClick(c)||(e.preventDefault(),this.sendClick(c,e)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},a.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},a.prototype.destroy=function(){var e=this.layer;i&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(e){var t,n,r,a;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(c&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(a=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],a>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction)},a.attach=function(e,t){return new a(e,t)},r=function(){return a}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},l=n(2),c=r(l),p=n(4),f=function(e){function t(){a(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).call(this);var e=this;window.showState=function(){console.log(e.props.reduxState)}}o(t,e),u(t,[{key:"render",value:function(){return null}}]);var n=t;return t=(0,p.connect)(function(e,t){return{reduxState:i({},e)}})(t)||t}(c["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(27),i=r(o),u=n(48),s=r(u),l=n(49),c=r(l);t["default"]=function(){var e=a({},s["default"].drew),t=a({},i["default"].getState().playerData);i["default"].dispatch({type:"MERGE_COMBATANT",payload:{key:"a",changes:a({},c["default"],t,{hp:t.maxHp})}}),i["default"].dispatch({type:"MERGE_COMBATANT",payload:{key:"b",changes:a({},c["default"],e,{hp:e.maxHp})}}),i["default"].dispatch({type:"SET_GAME_AREA",payload:{gameArea:"battle"}})},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={drew:{name:"Drew",skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew.svg",level:5,maxHp:30,attackStatPoints:2,defenseStatPoints:1,speedStatPoints:3,efficiencyStatPoints:1,attacks:["action_attack_basic_001","action_attack_status_002","action_attack_repetitions_001"]},berg:{name:"Berg",skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-orange.svg",level:8,maxHp:75,attackStatPoints:6,defenseStatPoints:4,speedStatPoints:3,efficiencyStatPoints:2,attacks:["action_attack_basic_002","action_attack_status_001","action_attack_repetitions_002"]},punky:{name:"Punky",skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-blonde.svg",level:2,maxHp:26,attackStatPoints:1,defenseStatPoints:0,speedStatPoints:0,efficiencyStatPoints:3,attacks:["action_attack_basic_001","action_attack_theft_001","action_attack_repetitions_001"]},jessie:{name:"Jessie",skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/jessie.svg",level:4,maxHp:39,attackStatPoints:1,defenseStatPoints:3,speedStatPoints:2,efficiencyStatPoints:1,attacks:["action_attack_theft_001","action_attack_basic_001","action_attack_repetitions_001"]},marie:{name:"Marie",skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/jessie-blue.svg",level:6,maxHp:52,attackStatPoints:3,defenseStatPoints:5,speedStatPoints:4,efficiencyStatPoints:1,attacks:["action_attack_theft_002","action_attack_status_001","action_attack_basic_002","action_attack_basic_002"]}};t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={isChallenger:!1,hp:50,maxHp:50,pp:50,maxPp:50,xp:0,level:1,status:"normal",healthStatPoints:0,attackStatPoints:0,defenseStatPoints:0,speedStatPoints:0,efficiencyStatPoints:0,healthModifier:0,attackModifier:0,defenseModifier:0,speedModifier:0,efficiencyModifier:0,accuracyModifier:0,upgrades:[],attacks:["action_attack_basic_001","action_attack_basic_002","action_attack_repetitions_001","action_attack_repetitions_002","action_attack_status_001","action_attack_status_002","action_attack_theft_001","action_attack_theft_002"],items:["action_item_hp_001","action_item_pp_001","action_item_accuracy_001","action_item_clearStatus_lag_001"],targeting:""},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},l=n(2),c=r(l),p=n(4),f=n(51),d=n(54),v=function(e){function t(){a(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),u(t,[{key:"componentDidMount",value:function(){"stationary"==this.props.useBehavior&&f.npcStationaryBehavior.call(this,this.props.id),"roaming"==this.props.useBehavior&&d.npcRoamingBehavior.call(this,this.props.id)}},{key:"componentWillUnmount",value:function(){"stationary"!=this.props.useBehavior&&"roaming"!=this.props.useBehavior||this.clearNpcTimeout()}},{key:"getTranslateValue",value:function(){var e=0,t=0;return"left"==this.props.dir&&(e=-1*this.props.transitionProgress+"px"),"right"==this.props.dir&&(e=this.props.transitionProgress+"px"),"up"==this.props.dir&&(t=-1*this.props.transitionProgress+"px"),"down"==this.props.dir&&(t=this.props.transitionProgress+"px"),e+", "+t+", 0px"}},{key:"getDirectionSpritePosition",value:function(){var e=void 0;"left"==this.props.dir&&(e="0px"),"right"==this.props.dir&&(e="32px"),"up"==this.props.dir&&(e="16px"),"down"==this.props.dir&&(e="48px");var t=this.props.moving?"0":"16px";return e+" "+t}},{key:"getStyles",value:function(){var e=this.props.vpWidth/11,t=this.getTranslateValue();return i({left:this.props.x*e,top:this.props.y*e,width:e,height:e,transform:"translate3d( "+t+" )",WebkitTransform:"translate3d( "+t+" )"},this.getSkinImage())}},{key:"getDirectionSpriteClass",value:function(){var e=this.props.moving?"is-walking":"";return"person-"+this.props.dir+" "+e}},{key:"getSkinImage",value:function(){return null!=this.props.useBehavior?{backgroundImage:"url("+this.props.skin+")"}:{backgroundImage:"url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/svJacob-2.svg)"}}},{key:"render",value:function(){var e=this.getDirectionSpriteClass(),t="player"==this.props.id?"":"js-no-dpad-on-touch";return c["default"].createElement("div",{className:"cell player "+t+" "+e,style:this.getStyles()})}}]);var n=t;return t=(0,p.connect)(function(e,t){var n=e.people[t.id];return n?{x:n.x,y:n.y,dir:n.dir,transitionProgress:n.transitionProgress,moving:n.moving,skin:n.skin,useBehavior:n.useBehavior||null,vpWidth:e.map.viewportWidth}:{}})(t)||t}(c["default"].Component);t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=i["default"].getState().people[e],n=this;n.timeout=null,n.clearNpcTimeout=function(){clearTimeout(n.timeout)},n.rotate=function(){n.timeout=setTimeout(function(){i["default"].getState().game.isShowingTextbox||i["default"].dispatch({type:"UPDATE_DIRECTION",mover_id:e,direction:(0,s.randomFromArray)(t.behaviorData.rotationDirections)}),n.rotate()},(0,u.getRandomInRange)(600,3e3))},n.rotate()}Object.defineProperty(t,"__esModule",{value:!0}),t.npcStationaryBehavior=a;var o=n(27),i=r(o),u=n(52),s=n(53)},function(e,t){"use strict";function n(e,t){return Math.floor(Math.random()*(t-e))+e}function r(e,t){return Math.floor(Math.random()*(t-e+1))+e}function a(){return 0===Math.floor(2*Math.random())}function o(){return r(2,8)}function i(e){return e>=r(1,100)}Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomInt=n,t.getRandomInRange=r,t.coinToss=a,t.baseRoll=o,t.percentChance=i},function(e,t){"use strict";function n(e){return e[Math.floor(Math.random()*e.length)]}Object.defineProperty(t,"__esModule",{value:!0}),t.randomFromArray=n,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=this;t.timeout=null;var n=s["default"].getState().people[e],r=n.behaviorData.isCircular?[].concat(a(n.behaviorData.path)):(0,l.addReversePath)([].concat(a(n.behaviorData.path)));t.clearNpcTimeout=function(){clearTimeout(t.timeout)},t.startMoving=function(){if(s["default"].getState().people[e]){var a=n.behaviorData.pathIndex||0,o=r[a],u={x:s["default"].getState().people[e].x,y:s["default"].getState().people[e].y};s["default"].dispatch({type:"UPDATE_DIRECTION",direction:o,mover_id:e});var l=p["default"].isFree((0,f.getUpdatedX)(o,u.x),(0,f.getUpdatedY)(o,u.y));if(!l||s["default"].getState().game.isShowingTextbox)return s["default"].dispatch({type:"STOP_MOVING",mover_id:e}),s["default"].dispatch({type:"UPDATE_DIRECTION",mover_id:e,direction:(0,f.getOppositeDirection)(s["default"].getState().people.player.dir)}),void(t.timeout=setTimeout(function(){t.startMoving()},1e3));p["default"].reserveCell((0,f.getUpdatedX)(o,u.x),(0,f.getUpdatedY)(o,u.y),e),s["default"].dispatch({type:"START_MOVING",mover_id:e}),(0,v["default"])(e,function(){p["default"].removeReservedCell((0,f.getUpdatedX)(o,u.x),(0,f.getUpdatedY)(o,u.y)),s["default"].dispatch({type:"UPDATE_PLAYER_POSITION",x:(0,f.getUpdatedX)(o,u.x),y:(0,f.getUpdatedY)(o,u.y),mover_id:e}),a=a==r.length-1?0:a+1,s["default"].dispatch({type:"SET_NPC_PATH_INDEX",mover_id:e,pathIndex:a}),"map"==s["default"].getState().game.gameArea&&!function(){var n=function r(){var n=s["default"].getState().people.player,a=s["default"].getState().people[e];return a?void(i(n.x,n.y,a.x,a.y)?(t.clearNpcTimeout(),t.startMoving()):t.timeout=setTimeout(function(){r()},1e3)):!1};n()}()})}},t.startMoving()}function i(e,t,n,r){var a=Math.abs(e-n),o=Math.abs(t-r);return 10>a&&7>o}Object.defineProperty(t,"__esModule",{value:!0}),t.npcRoamingBehavior=o;var u=n(27),s=r(u),l=n(55),c=n(56),p=r(c),f=n(58),d=n(65),v=r(d)},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){var t=e.map(function(e){return"up"==e?"down":"down"==e?"up":"left"==e?"right":"right"==e?"left":void 0}).reverse();return[].concat(n(e),n(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.addReversePath=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(27),i=r(o),u=n(57),s=n(58),l=n(59),c=r(l),p=n(61),f=r(p),d=function(){var e=this;e.reserved={},e.isFree=function(t,n){var r=t+"x"+n,o=a({},i["default"].getState().map.walls);if(0>t||t>=i["default"].getState().map.width)return!1;if(0>n||n==i["default"].getState().map.height)return!1;if("undefined"!=typeof o[r]||"undefined"!=typeof e.reserved[r])return!1;var u=i["default"].getState().people,s=!1;for(var l in u)u[l].x==t&&u[l].y==n&&(s=!0);return!s},e.reserveCell=function(t,n,r){r||console.warn("LocationService.reserveCell used without an id! This is bad. Fix it."),e.reserved[t+"x"+n]={type:"solid",id:r}},e.removeReservedCell=function(t,n){delete e.reserved[t+"x"+n]},e.checkActions=function(t,n){var r=a({},i["default"].getState().map.footEvents,{}),o=r[t+"x"+n]||null;if(o&&"map-transition"==o.type){var s=i["default"].getState().people.player.dir;if(s==o.playerDirection){if(!f["default"][o.mapName])return console.warn("mapName known"),!1;e.reserved={},(0,u.loadMap)(f["default"][o.mapName],o.useCoords)}}o&&"battle-zone"==o.type&&(0,c["default"])(o)},e.getInteraction=function(){var t=i["default"].getState().people.player,n=(0,s.getUpdatedX)(t.dir,t.x),r=(0,s.getUpdatedY)(t.dir,t.y),o=i["default"].getState().map.interactiveEvents[n+"x"+r];if(o)return o;var u=i["default"].getState().people;for(var l in u)if(!u[l].moving&&u[l].x==n&&u[l].y==r)return console.log("MATCH",u[l]),a({},u[l].interaction,{npc_id:l});var c=e.reserved[n+"x"+r];return c&&c.id.match(/npc_/)?a({},u[c.id].interaction,{npc_id:c.id}):null}};t["default"]=new d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=JSON.parse(decodeURIComponent(e));return t.people=t.people||{player:{x:0,y:0,dir:"down"}},t}function o(e,t){void 0===e&&(e={}),s["default"].dispatch({type:"REMOVE_NPCS"});for(var n in e.people){var r=n,a=e.people[r],o=i({},a.behaviorData);"roaming"==a.useBehavior&&(o.pathIndex=0),"player"==r&&t&&(a.x=t[0],a.y=t[1]),s["default"].dispatch({type:"ADD_PERSON",personId:r,personData:{x:a.x,y:a.y,dir:a.dir,skin:a.skin||null,interaction:a.interaction||null,transitionProgress:0,moving:!1,useBehavior:a.useBehavior,behaviorData:o}})}s["default"].dispatch({type:"LOAD_MAP",map:{musicTrackId:e.musicTrackId,width:e.width,height:e.height,backgroundImage:e.backgroundImage,walls:e.walls,footEvents:e.footEvents,interactiveEvents:e.interactiveEvents}})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getJSON=a,t.loadMap=o;var u=n(27),s=r(u)},function(e,t){"use strict";function n(e,t){return"left"==e?t-1:"right"==e?t+1:t}function r(e,t){return"up"==e?t-1:"down"==e?t+1:t}function a(){var e=arguments.length<=0||void 0===arguments[0]?"left":arguments[0];return"left"==e?"right":"right"==e?"left":"up"==e?"down":"down"==e?"up":void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.getUpdatedX=n,t.getUpdatedY=r,t.getOppositeDirection=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return 1==e?["punky"]:3>e?["berg","drew","punky","punky","punky","punky","jessie","jessie","jessie","marie"]:["berg","drew","drew","punky","punky","punky","jessie","jessie","marie","marie"]}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(27),u=r(i),s=n(53),l=n(52),c=n(60),p=r(c),f=n(48),d=r(f);t["default"]=function(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(u["default"].getState().battleRequests.showRequest)return!1;if(u["default"].getState().battleResultPrompt.showResult)return!1;if(u["default"].getState().game.showOnboardingPopup)return!1;if((0,l.percentChance)(66))return!1;var e=a(u["default"].getState().playerData.level),t=(0,s.randomFromArray)(e),n=o({},d["default"][t]);u["default"].dispatch({type:"SET_BATTLE_REQUEST",payload:{requesterId:t,requesterName:n.name,requesterSkin:n.skin,requesterLevel:n.level}});var r=(0,p["default"])(n);u["default"].dispatch({type:"SET_RESULT_PROMPT_VALUE",payload:{changes:{xpGain:r}}})},e.exports=t["default"]},function(e,t){"use strict";function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.level,n=e.attackStatPoints,r=e.defenseStatPoints,a=e.speedStatPoints,o=e.efficiencyStatPoints,i=5*t,u=2*(n+r+a+o);return i+u}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(62),o=r(a),i=n(63),u=r(i),s=n(64),l=r(s);t["default"]={alphaCoffee:o["default"],alphaStreet:u["default"],devColorStreet:l["default"]},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={musicTrackId:"coffeeShop",backgroundImage:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/263408/031516_southNorth.svg",width:"9",height:"9",walls:{"0x0":{id:"wall_86084bd7"},"0x2":{id:"wall_42c62507"},"0x3":{id:"wall_d55dafg0"},"0x5":{id:"wall_1g28ga65"},"0x6":{id:"wall_4332d8b2"},"1x0":{id:"wall_5aegfb4a"},"1x8":{id:"wall_7c1gab42"},"2x0":{id:"wall_d03f3gc3"},"2x5":{id:"wall_fe209496"},"2x6":{id:"wall_6bffeg0e"},"2x8":{id:"wall_7f21fcc2"},"3x0":{id:"wall_41044903"},"3x1":{id:"wall_9e42a914"},"3x2":{id:"wall_07b02fdd"},"3x3":{id:"wall_fromInteractive_3x3"},"3x5":{id:"wall_6e2e28fe"},"3x6":{id:"wall_cb1ba6fc"},"3x8":{id:"wall_a5d63666"},"4x0":{id:"wall_8e5gbb5g"},"4x3":{id:"wall_a9b00a2f"},"5x0":{id:"wall_ga6cf587"},"5x3":{id:"wall_ef35af9e"},"6x0":{id:"wall_3683380c"},"6x3":{id:"wall_f586509c"},"6x5":{id:"wall_b4gg3gdc"},"6x6":{id:"wall_249741b6"},"7x0":{id:"wall_7bbfcae5"},"7x1":{id:"wall_5b4fb09c"},"7x2":{id:"wall_fromInteractive_7x2"},"7x3":{id:"wall_c466c71g"},"7x5":{id:"wall_451abc57"},"7x6":{id:"wall_66182f05"},"8x0":{id:"wall_c5e17c74"}},people:{player:{dir:"up",x:5,y:8},npc_6c91g149:{x:1,y:6,skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew.svg",dir:"down",useBehavior:"stationary",behaviorData:{rotationDirections:["left","right","up","down"],doesRotate:!0},interaction:{type:"dialog",content:[["I hear there's a guy in a suit who's willing to pay for developers' good ideas."],["Gee,","@@pause_600@@","you think it's true?"]]}},npc_9950fe06:{x:6,y:2,skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/jessie.svg",dir:"down",useBehavior:"stationary",behaviorData:{rotationDirections:["right"],doesRotate:!0},interaction:{type:"dialog",content:[["Hey man, how are ya?"]]}},npc_fdf0a8a3:{x:0,y:1,skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-pink.svg",dir:"down",useBehavior:"stationary",behaviorData:{rotationDirections:["left","right"],doesRotate:!0},interaction:{type:"dialog",content:[["I'm saving up my coins for a Mechanical Keyboard."],["A better keyboard increases code accuracy."]]}},npc_fefa9770:{x:8,y:8,skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/jessie-blue.svg",dir:"down",useBehavior:"stationary",behaviorData:{rotationDirections:["left","right"],doesRotate:!0},interaction:{type:"dialog",content:[["Berg is really tough..."],[" I'll need a lot of XP to beat him."]]}}},interactiveEvents:{"3x3":{dialog:[["Almond milk costs extra"]],isSolid:!0,restrictedDirections:["right","up"],restrictionErrorDialog:[["Hey punk, you can't read the sign from here."]],type:"readable"},"7x2":{dialog:[["Erm","[SLOW]...","@@pause_800@@"," Our espresso machine has a 500 error."],["How about you go hack with some people and come back later?"]],isSolid:!0,restrictedDirections:["left"],restrictionErrorDialog:[["Hey punk, you can't read the sign from here."]],type:"readable"}},footEvents:{"5x8":{type:"map-transition",playerDirection:"down",useCoords:[10,8],mapName:"alphaStreet"},"6x8":{type:"map-transition",playerDirection:"down",useCoords:[10,8],mapName:"alphaStreet"},"5x5":{type:"battle-zone"},"4x5":{type:"battle-zone"},"5x6":{type:"battle-zone"},"4x6":{type:"battle-zone"},"2x2":{type:"battle-zone"},"1x2":{type:"battle-zone"},"2x3":{type:"battle-zone"},"1x3":{type:"battle-zone"},"0x7":{type:"battle-zone"},"1x7":{type:"battle-zone"}}},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={musicTrackId:"walkingOutside",backgroundImage:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/263408/theRedButton.svg",width:"28",height:"20",walls:{"10x12":{id:"wall_b74165f4"},"10x6":{id:"wall_1a3ebdd8"},"11x12":{id:"wall_c4ge7d5g"},"11x5":{id:"wall_4g122202"},"11x6":{id:"wall_dggcdcc7"},"11x7":{id:"wall_d4eeb7b8"},"12x12":{id:"wall_930g3456"},"12x5":{id:"wall_f341842b"},"13x12":{id:"wall_f4ea78fd"},"13x5":{id:"wall_g477b2ea"},"14x12":{id:"wall_3308301a"},"14x5":{id:"wall_735e3087"},"15x12":{id:"wall_38998a11"},"15x5":{id:"wall_d1geg193"},"16x12":{id:"wall_d1c9d9fg"},"16x5":{id:"wall_4a647604"},"16x6":{id:"wall_1ef0f05f"},"16x7":{id:"wall_c2b17922"},"17x12":{id:"wall_357fd89e"},"17x7":{id:"wall_eeb29e28"},"18x12":{id:"wall_1g2018cd"},"18x7":{id:"wall_2e2fa57e"},"19x12":{id:"wall_90g46359"},"19x7":{id:"wall_a90008eg"},"20x12":{id:"wall_55dc31db"},"20x7":{id:"wall_9ef8ff57"},"21x10":{id:"wall_47d136fe"},"21x11":{id:"wall_69g1e448"},"21x12":{id:"wall_agge6e7g"},"21x7":{id:"wall_68780e1a"},"21x8":{id:"wall_c6a9728e"},"21x9":{id:"wall_91bb88a3"},"5x10":{id:"wall_b9de6ecg"},"5x11":{id:"wall_9e5864a7"},"5x12":{id:"wall_a232dg04"},"5x7":{id:"wall_300c8eg2"},"5x8":{id:"wall_d7a47614"},"5x9":{id:"wall_6711635c"},"6x12":{id:"wall_b0ga54c8"},"6x7":{id:"wall_fromInteractive_6x7"},"7x12":{id:"wall_f7a070a2"},"7x7":{id:"wall_f16cgd9b"},"8x12":{id:"wall_86g9f06e"},"8x7":{id:"wall_bg3724a0"},"9x12":{id:"wall_49800a99"},"9x7":{id:"wall_fromInteractive_9x7"}},people:{player:{dir:"down",x:12,y:10},npc_0ab65234:{x:12,y:8,skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/jessie.svg",dir:"down",useBehavior:"stationary",behaviorData:{rotationDirections:["left","right"],doesRotate:!0},interaction:{type:"dialog",content:[["Hey, Jacob!"],["Learned any new terminal commands lately?","@@pause_700"," You can choose your attacks from the Pause Menu."],["If you train hard enough, I'm sure you'll become even stronger than Berg!"]]}},npc_c5fa960d:{x:8,y:10,skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-blonde.svg",dir:"down",useBehavior:"stationary",behaviorData:{rotationDirections:["left","right"],doesRotate:!0},interaction:{type:"dialog",content:[["Have you been to SouthNorth before?"],["That's the coffee shop straight ahead. ","@@pause_500","Developers are always hanging out there."]]}},npc_e524266a:{x:19,y:8,skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-orange.svg",dir:"down",useBehavior:"roaming",behaviorData:{path:["down","down","down","right","up","up","up"],isCircular:!1},interaction:{type:"dialog",content:[["I'm Berg. ","@@pause_400","I don't know what you want, but I'm way too busy for this conversation."],["Why don't you take that beard for a walk and ","[FAST]get outta my face!"]]}},npc_444de679:{x:15,y:6,skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-pink.svg",dir:"down",useBehavior:"stationary",behaviorData:{rotationDirections:["down"],doesRotate:!0},interaction:{type:"dialog",content:[["This road is closed for the Art Fair!"]]}}},interactiveEvents:{"6x7":{dialog:[["WE'RE NOT OPEN"]],isSolid:!0,restrictedDirections:["up"],restrictionErrorDialog:[["Hey punk, you can't read the sign from here."]],type:"readable"}},footEvents:{"10x7":{type:"map-transition",playerDirection:"up",useCoords:[5,8],mapName:"alphaCoffee"},"7x11":{type:"battle-zone"},"7x10":{type:"battle-zone"},"7x9":{type:"battle-zone"},"7x8":{type:"battle-zone"},"16x11":{type:"battle-zone"},"16x10":{type:"battle-zone"},"16x9":{type:"battle-zone"},"16x8":{type:"battle-zone"},"13x7":{type:"battle-zone"},"12x6":{type:"battle-zone"},"14x6":{type:"battle-zone"}}},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={
musicTrackId:"walkingOutside",backgroundImage:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/dangerMap.svg",width:16,height:16,walls:{"8x2":{type:"solid"}},interactiveEvents:{"8x2":{type:"readable",dialog:[["How to do Stuff: ","@@pause_1000","The Complete Guide"],["[FAST]This is page2"]],restrictedDirections:null},"7x1":{type:"readable",dialog:[["Whoa you found me"]],restrictedDirections:["up"],restrictionErrorDialog:[["Hey punk, you can't read the sign from here."]]}},footEvents:{"6x0":{type:"map-transition",playerDirection:"up",useCoords:[5,8],mapName:"alphaCoffee"},"7x0":{type:"map-transition",playerDirection:"up",useCoords:[6,8],mapName:"alphaCoffee"},"8x6":{type:"battle-zone",levelRange:[3,5]},"9x6":{type:"battle-zone",levelRange:[3,5]},"10x6":{type:"battle-zone",levelRange:[3,5]},"11x6":{type:"battle-zone",levelRange:[3,5]}},people:{player:{x:7,y:5,dir:"down"},npc_001:{x:3,y:3,skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-orange.svg",dir:"down",interaction:{type:"dialog",content:[["I'm too busy for this conversation!"],["[LIGHTNING]Scram!"]]},useBehavior:"roaming",behaviorData:{path:["left","left","left","up","up","up"],isCircular:!1}},npc_002:{x:8,y:3,dir:"down",skin:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/jessie.svg",interaction:{type:"dialog",content:[["Did that guy yell at you?"],["[SLOW]Yeah...","@@pause_700@@","He yelled at me, too."]]},useBehavior:"stationary",behaviorData:{rotationDirections:["left","up","right"],doesRotate:!0}}}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),o=r(a),i=function(e,t){for(var n=0,r=o["default"].getState().map.viewportWidth/11,a=[],i=16,u=0;i-1>=u;u++)a.push(r/i*u);var s=function l(){n<a.length?(o["default"].dispatch({type:"UPDATE_TRANSITION_PROGRESS",progress:a[n],mover_id:e}),n+=1,requestAnimationFrame(l)):(o["default"].dispatch({type:"UPDATE_TRANSITION_PROGRESS",progress:0,mover_id:e}),t())};requestAnimationFrame(s)};t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(67),f=r(p),d=n(93),v=r(d),h=n(50),y=r(h),m=n(96),g=r(m),b=n(98),_=r(b),w=n(99),O=r(w),E=n(103),S=r(E),P=n(105),T=r(P),k=n(147),M=r(k),x=n(148),A=r(x),j=n(149),C=r(j),I=n(146),N=r(I),D=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"componentDidMount",value:function(){"map"==this.props.gameArea&&this.props.isAllowingMusic&&N["default"].playTrack(this.props.mapMusicTrackId)}},{key:"componentWillUpdate",value:function(e){return"map"==e.gameArea&&"map"!=this.props.gameArea&&"pause"!=this.props.gameArea?void(this.props.isAllowingMusic&&N["default"].playTrack(this.props.mapMusicTrackId)):e.mapMusicTrackId!=this.props.mapMusicTrackId?(e.mapMusicTrackId||console.warn("music track not defined in new map"),console.log("change the music track!",e.mapMusicTrackId),void(this.props.isAllowingMusic&&N["default"].playTrack(e.mapMusicTrackId))):void 0}},{key:"getTranslateValue",value:function(){var e=0,t=0;return"left"==this.props.dir&&(e=this.props.transitionProgress+"px"),"right"==this.props.dir&&(e=-1*this.props.transitionProgress+"px"),"up"==this.props.dir&&(t=this.props.transitionProgress+"px"),"down"==this.props.dir&&(t=-1*this.props.transitionProgress+"px"),e+", "+t+", 0px"}},{key:"renderGameArea",value:function(){return"title"==this.props.gameArea?l["default"].createElement(C["default"],null):"pause"==this.props.gameArea?this.renderPause():"battle"==this.props.gameArea?l["default"].createElement(T["default"],null):"map"==this.props.gameArea?this.renderMap():null}},{key:"renderMap",value:function(){var e=this.props.vpWidth/11,t=this.getTranslateValue(),n={left:this.props.x*-e+5*e,top:this.props.y*-e+3*e,transform:"translate3d( "+t+" )",WebkitTransform:"translate3d( "+t+" )"},r={width:e*this.props.mapWidth},a=[];for(var o in this.props.people)a.push(l["default"].createElement(y["default"],{id:o,key:o}));return l["default"].createElement("div",null,l["default"].createElement("div",{style:n,className:"map"},l["default"].createElement(O["default"],null)," ",l["default"].createElement("img",{className:"mapImage",style:r,src:this.props.backgroundImage}),a))}},{key:"renderPause",value:function(){var e=this.props.vpWidth/11,t=this.getTranslateValue(),n={left:this.props.x*-e+5*e,top:this.props.y*-e+3*e,transform:"translate3d( "+t+" )",WebkitTransform:"translate3d( "+t+" )"},r={width:e*this.props.mapWidth};return l["default"].createElement("div",null,l["default"].createElement("div",{style:n,className:"map"},l["default"].createElement("img",{className:"mapImage",style:r,src:this.props.backgroundImage})),l["default"].createElement(f["default"],null))}},{key:"handleDevBtn",value:function(){window.addXp(5)}},{key:"renderTransitionOverlay",value:function(){if("map"!=this.props.gameArea)return!1;var e={opacity:this.props.transitionOverlayOpacity};return l["default"].createElement("div",{className:"transition-overlay",style:e})}},{key:"render",value:function(){var e={width:this.props.vpWidth,height:this.props.vpHeight},t=this.renderGameArea(),n=this.props.isShowingTextbox?l["default"].createElement(v["default"],null):null,r=this.props.showRequest?l["default"].createElement(g["default"],null):null,a=this.props.showResult?l["default"].createElement(_["default"],null):null,o="map"==this.props.gameArea?l["default"].createElement(M["default"],null):null,i="map"==this.props.gameArea||"pause"==this.props.gameArea?l["default"].createElement(A["default"],null):null;return l["default"].createElement("div",{style:e,className:"viewport viewport-"+this.props.vpWidth},this.renderTransitionOverlay(),t,n,r,a,o,i,l["default"].createElement(S["default"],null))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{x:e.people.player.x,y:e.people.player.y,dir:e.people.player.dir,transitionProgress:e.people.player.transitionProgress,vpWidth:e.map.viewportWidth,vpHeight:e.map.viewportHeight,mapWidth:e.map.width,backgroundImage:e.map.backgroundImage,people:e.people,isPaused:e.game.isPaused,isShowingTextbox:e.game.isShowingTextbox,showRequest:e.battleRequests.showRequest,showResult:e.battleResultPrompt.showResult,gameArea:e.game.gameArea,transitionOverlayOpacity:e.game.transitionOverlayOpacity,mapMusicTrackId:e.map.musicTrackId,isAllowingMusic:e.game.isAllowingMusic}})(t)||t}(l["default"].Component);t["default"]=D,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(68),f=r(p),d=n(79),v=r(d),h=n(90),y=r(h),m=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"componentDidMount",value:function(){(0,y["default"])("pauseMenuNamespace")}},{key:"componentWillUnmount",value:function(){$(document).off(".pauseMenuNamespace")}},{key:"render",value:function(){var e={position:"absolute",left:0,top:0,right:0,bottom:0,fontFamily:'"Source Code Pro", monospace'};return l["default"].createElement("div",{style:e},l["default"].createElement(f["default"],null),l["default"].createElement(v["default"],null))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{}})(t)||t}(l["default"].Component);t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(69),f=n(76),d=r(f),v=n(77),h=r(v),y=n(78),m=r(y),g=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"renderLevelUpButton",value:function(){var e=(0,p.remainingXpUntilNextLevel)()>0?this.props.xp+"/"+(0,p.nextLevelXpGoal)():"--";return(0,p.isLevelupEligible)()?l["default"].createElement(m["default"],null):l["default"].createElement("div",{className:"_spreading-list-item"},l["default"].createElement("div",null,"XP"),l["default"].createElement("div",null,e))}},{key:"render",value:function(){return l["default"].createElement("div",{className:"pause-sidebar"},l["default"].createElement("div",{className:"pause-sidebar-profile media-object"},l["default"].createElement("div",{className:"_ibm"},l["default"].createElement("div",{className:"pause-sidebar-avatar"})),l["default"].createElement("div",{className:"_ibm"},l["default"].createElement("div",null,this.props.name),l["default"].createElement("div",null,"Level ",this.props.level))),l["default"].createElement("div",{className:"pause-sidebar-status"},l["default"].createElement("div",{className:"_spreading-list-item"},l["default"].createElement("div",null,"HP"),l["default"].createElement("div",null,this.props.hp,"/",this.props.maxHp)),l["default"].createElement("div",{className:"_spreading-list-item"},l["default"].createElement("div",null,"PP"),l["default"].createElement("div",null,this.props.pp,"/",this.props.maxPp)),this.renderLevelUpButton(),l["default"].createElement("div",{className:"_spreading-list-item"},l["default"].createElement("div",null,"COINS"),l["default"].createElement("div",null,this.props.coins))),l["default"].createElement("div",{className:"pause-save-load-container pause-menu-button-group"},l["default"].createElement(d["default"],null),l["default"].createElement(h["default"],null)))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{name:e.playerData.name,level:e.playerData.level,hp:e.playerData.hp,maxHp:e.playerData.maxHp,pp:e.playerData.pp,maxPp:e.playerData.maxPp,xp:e.playerData.xp,coins:e.playerData.coins,selectedMenuItem:e.pauseMenu.selectedMenuItem,newAttackBadge:e.pauseMenu.newAttackBadge}})(t)||t}(l["default"].Component);t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];switch(e){case 1:return 15;case 2:return 16;case 3:return 18;case 4:return 19;case 5:return 21;case 6:return 22;case 7:return 24;case 8:return 25;case 9:return 27;case 10:return 28;default:return 0}}function o(){var e=y["default"].getState().playerData,t=[e.healthStatPoints,e.attackStatPoints,e.defenseStatPoints,e.speedStatPoints,e.efficiencyStatPoints].reduce(function(e,t){return e+t});return a(e.level+1)-t}function i(){var e=y["default"].getState().playerData,t=e.level<=9?e.level+1:10;return g["default"][t]}function u(){var e=y["default"].getState().playerData,t=g["default"][e.level+1]-e.xp;return t>0?t:0}function s(){var e=y["default"].getState().playerData;return e.xp>=g["default"][e.level+1]}function l(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];y["default"].dispatch({type:"SET_PLAYERDATA_VALUE",payload:{changes:e}})}function c(e,t,n){if(t+1>n)return!1;if(o()>0){var r={};r[e]=t+1,l(r)}}function p(e,t,n){if(n>t-1)return!1;var r={};r[e]=t-1,l(r)}function f(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l(v({},e))}function d(){var e=y["default"].getState().playerData.level,t=(0,_["default"])(e+1);10>e&&l({level:e+1,maxHp:t,hp:t});var n=O["default"].pauseAttacksMenu.map(function(e){return e.levelRequirement});-1!=n.indexOf(e+1)&&y["default"].dispatch({type:"SET_PAUSEMENU_VALUE",payload:{changes:{newAttackBadge:!0}}})}Object.defineProperty(t,"__esModule",{value:!0});var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.skillPointsRemaining=o,t.nextLevelXpGoal=i,t.remainingXpUntilNextLevel=u,t.isLevelupEligible=s,t.incrementStatPoint=c,t.decrementStatPoint=p,t.resetStatPoints=f,t.submitLevelUp=d;var h=n(27),y=r(h),m=n(70),g=r(m),b=n(71),_=r(b),w=n(72),O=r(w)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=[-1,0,16,48,84,130,200,290,402,538,700],e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(27),i=r(o);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=a({},i["default"].getState().playerData),n=3*e,r=Math.round(3*t.healthStatPoints/2);return 17+n+r},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return{id:"pauseAttacks-"+e,attackId:e,name:f["default"][e].name,infoBoxTitle:f["default"][e].name,infoBoxDescription:f["default"][e].description}}function i(e){return{id:"pauseItems-"+e,itemId:e,name:v["default"][e].name,infoBoxTitle:v["default"][e].name,infoBoxDescription:v["default"][e].description}}function u(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=e.filter(function(e){return e.id==t});return n.length?n[0]:null}function s(e,t){if(void 0===e&&(e=""),"pauseRoot"==e){var n=function(){var e=([].concat(a(t.pauseRoot)),(0,c.isLevelupEligible)()?["pauseSidebarMenu","pauseSidebarMenu-levelup"]:["pauseSidebarMenu","pauseSidebarMenu-save"]);return{v:t.pauseRoot.map(function(t){return"pauseRoot-stats"==t.id?l({},t,{leftKeyDest:e}):t})}}();if("object"==typeof n)return n.v}return"pauseSidebarMenu"!=e||(0,c.isLevelupEligible)()?[].concat(a(t[e])):t[e].filter(function(e){return"pauseSidebarMenu-levelup"!=e.id})}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getMenuNode=u,t.getCensoringList=s;var c=n(69),p=n(73),f=r(p),d=n(75),v=r(d),h={pauseRoot:[{id:"pauseRoot-stats",label:"STATS",isVerticalMovement:!1,isHorizontalMovement:!0,downKeyDest:["pauseStatsMenu","pauseStats-health"]},{id:"pauseRoot-laptop",label:"LAPTOP",isVerticalMovement:!1,isHorizontalMovement:!0,infoBoxDescription:"Your laptop can be configured with parts and components."},{id:"pauseRoot-attacks",label:"ATTACKS",isVerticalMovement:!1,isHorizontalMovement:!0,downKeyDest:["pauseAttacksMenu","pauseAttacks-action_attack_basic_001"]},{id:"pauseRoot-items",label:"ITEMS",isVerticalMovement:!1,isHorizontalMovement:!0,downKeyDest:["pauseItemsMenu","pauseItems-action_item_hp_001"]}],pauseSidebarMenu:[{id:"pauseSidebarMenu-levelup",isVerticalMovement:!0,isHorizontalMovement:!1,rightKeyDest:["pauseRoot","pauseRoot-stats"]},{id:"pauseSidebarMenu-save",isVerticalMovement:!0,isHorizontalMovement:!1,rightKeyDest:["pauseRoot","pauseRoot-stats"]},{id:"pauseSidebarMenu-load",isVerticalMovement:!0,isHorizontalMovement:!1,rightKeyDest:["pauseRoot","pauseRoot-stats"]}],pauseStatsMenu:[{id:"pauseStats-health",label:"Health",statId:"healthStatPoints",infoBoxTitle:"Health",infoBoxDescription:"Increases maximum battery health points (HP). Battles are lost when HP is depleted",upKeyDest:["pauseRoot","pauseRoot-stats"]},{id:"pauseStats-attack",label:"Attack",statId:"attackStatPoints",infoBoxTitle:"Attack",infoBoxDescription:"Increases damage caused by outgoing commands"},{id:"pauseStats-defense",label:"Defense",statId:"defenseStatPoints",infoBoxTitle:"Defense",infoBoxDescription:"Reduces incoming damage. Can potentially thwart enemy attacks"},{id:"pauseStats-speed",label:"Speed",statId:"speedStatPoints",infoBoxTitle:"Speed",infoBoxDescription:"Determines which combatant will strike first"},{id:"pauseStats-efficiency",label:"Efficiency",statId:"efficiencyStatPoints",infoBoxTitle:"Efficiency",infoBoxDescription:"Increases benefits of items and reduces cost of high value attacks"}],pauseLevelUpMenu:[{id:"pauseLevelUp-health",label:"Health",statId:"healthStatPoints",infoBoxTitle:"Health",infoBoxDescription:"Increases maximum battery health points (HP). Battles are lost when HP is depleted"},{id:"pauseLevelUp-attack",label:"Attack",statId:"attackStatPoints",infoBoxTitle:"Attack",infoBoxDescription:"Increases damage caused by outgoing commands"},{id:"pauseLevelUp-defense",label:"Defense",statId:"defenseStatPoints",infoBoxTitle:"Defense",infoBoxDescription:"Reduces incoming damage. Can potentially thwart enemy attacks"},{id:"pauseLevelUp-speed",label:"Speed",statId:"speedStatPoints",infoBoxTitle:"Speed",infoBoxDescription:"Determines which combatant will strike first"},{id:"pauseLevelUp-efficiency",label:"Efficiency",statId:"efficiencyStatPoints",infoBoxTitle:"Efficiency",infoBoxDescription:"Increases benefits of items and reduces cost of high value attacks"},{id:"pauseLevelUp-done",label:"Done",infoBoxTitle:null,infoBoxDescription:null,bypassArrows:!0,rowClass:"pause-levelup-done"}],pauseAttacksMenu:[l({},o("action_attack_basic_001"),{levelRequirement:1,upKeyDest:["pauseRoot","pauseRoot-attacks"]}),l({},o("action_attack_theft_001"),{levelRequirement:1}),l({},o("action_attack_repetitions_001"),{levelRequirement:2}),l({},o("action_attack_status_002"),{levelRequirement:3}),l({},o("action_attack_basic_002"),{levelRequirement:3}),l({},o("action_attack_status_001"),{levelRequirement:4}),l({},o("action_attack_theft_002"),{levelRequirement:6}),l({},o("action_attack_repetitions_002"),{levelRequirement:7})],pauseItemsMenu:[l({},i("action_item_hp_001"),{upKeyDest:["pauseRoot","pauseRoot-items"]}),l({},i("action_item_accuracy_001")),l({},i("action_item_clearStatus_lag_001")),l({},i("action_item_clearStatus_memoryLeak_001")),l({},i("action_item_sticker_attack_001")),l({},i("action_item_sticker_defense_001")),l({},i("action_item_sticker_speed_001"))]};t["default"]=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(74),i=r(o);t["default"]={action_attack_basic_000:a({},i["default"],{name:"Insult",description:"When you've got nothing else to show for yourself",affectTargetHpPoints:2,ppCost:0}),action_attack_basic_001:a({},i["default"],{name:"Slice",animation:"shootingStar",description:"Quick zinger",affectTargetHpPoints:5,ppCost:3}),action_attack_basic_002:a({},i["default"],{name:"Preloaded",description:"Extremely fast attack",affectTargetHpPoints:9,speedModifier:6,ppCost:5}),action_attack_repetitions_001:a({},i["default"],{name:"forEach",animation:"forEach1",description:"Hits the opponent 2 to 4 times",repetitions:[2,4],affectTargetHpPoints:3,ppCost:4}),action_attack_repetitions_002:a({},i["default"],{name:"forEach Mk II",animation:"forEach1",description:"Hits the opponent a little harder, 3 to 7 times",repetitions:[3,7],affectTargetHpPoints:5,ppCost:7}),action_attack_theft_001:a({},i["default"],{name:"Curl",animation:"forEach1",description:"Steals one random item from target",theftQuality:"random",theftQuantity:1,targetResistanceNeeded:8,ppCost:8}),action_attack_theft_002:a({},i["default"],{name:"Curl Mk II",description:"Steals two random items from target",theftQuality:"random",theftQuantity:2,targetResistanceNeeded:8,ppCost:10}),action_attack_theft_003:a({},i["default"],{name:"Curl Mk III",description:"Steals two strongest items from target",theftQuality:"best",theftQuantity:2,targetResistanceNeeded:10,ppCost:12}),action_attack_status_001:a({},i["default"],{name:"DDoS",description:"Disables the target for 1 to 3 turns",statusTurnCount:[1,3],affectTargetStatus:"lag",targetResistanceNeeded:15,accuracyModifier:-3,ppCost:7}),action_attack_status_002:a({},i["default"],{name:"Garbage Jammer",description:"Causes the target to suffer a memory leak",affectTargetStatus:"memoryLeak",targetResistanceNeeded:15,accuracyModifier:-3,ppCost:7})},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"",description:"",animation:"tada",ppCost:0,affectTargetHpPoints:0,affectTargetHpPointsByPercent:0,affectTargetAttackPoints:0,affectTargetDefensePoints:0,affectTargetSpeedPoints:0,affectTargetEfficiencyPoints:0,affectTargetAccuracyPoints:0,affectCasterHpPoints:0,affectCasterHpPointsByPercent:0,affectCasterAttackPoints:0,affectCasterDefensePoints:0,affectCasterSpeedPoints:0,affectCasterEfficiencyPoints:0,affectCasterAccuracyPoints:0,itemValue:0,itemMalfunctionChance:0,protectTargetFromStatuses:[],clearTargetStatuses:[],protectCasterFromStatuses:[],clearCasterStatuses:[],affectTargetStatus:"normal",statusTurnCount:[],theftQuantity:0,theftQuality:"random",targetResistanceNeeded:0,repetitions:[],speedModifier:0,accuracyModifier:0,isNaturalStatusEvent:!1,submittedByStatus:null},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(74),i=r(o);t["default"]={action_item_hp_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Mini Battery Pack",description:"Recovers a portable bit of battery life",affectCasterHpPoints:10,itemValue:4}),action_item_pp_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Mini Ram Pack",description:"Recovers a portable bit of accessible memory",affectCasterPpPoints:15,itemValue:4}),action_item_accuracy_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Screen Wipe",description:"Increases accuracy by 5 percent for the whole battle",affectCasterAccuracyPoints:5,itemValue:4}),action_item_accuracy_002:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Screen Spray",description:"Increases accuracy by 10 percent for the whole battle",affectCasterAccuracyPoints:10,itemValue:7}),action_item_accuracy_003:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Retina",description:"Increases accuracy by 25 percent for the whole battle",affectCasterAccuracyPoints:25,itemValue:9}),action_item_clearStatus_lag_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Network Reset Code",description:"Heals lagging",itemValue:10,clearCasterStatuses:["lag"],itemMalfunctionChance:5}),action_item_clearStatus_memoryLeak_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Breakpoint",description:"Stops a memory leak",itemValue:10,clearCasterStatuses:["memoryLeak"]}),action_item_protectStatus_all_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Honeypot",description:"Prevents status-changing attack for 1 use",itemValue:14,itemMalfunctionChance:7,protectCasterFromStatuses:["memoryLeak","lag"]}),action_item_sticker_attack_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Attack Sticker I",description:"Increases base attack stat by 3 points for the battle",itemValue:8,affectCasterAttackPoints:3}),action_item_sticker_defense_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Defense Sticker I",description:"Increases base defense stat by 3 points for the battle",itemValue:8,affectCasterDefensePoints:3}),action_item_sticker_speed_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Speed Sticker I",description:"Increases base speed stat by 3 points for the battle",itemValue:8,affectCasterSpeedPoints:3}),action_item_sticker_efficiency_001:a({},i["default"],{animation:"slideOutDown",accuracyModifier:999,name:"Efficiency Sticker I",description:"Increases base efficiency stat by 3 points for the battle",itemValue:8,affectCasterEfficiencyPoints:3})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"handleClick",value:function(){this.props.dispatch({type:"SET_PAUSEMENU_VALUE",payload:{changes:{currentCursoringList:"pauseSidebarMenu",selectedMenuItem:"pauseSidebarMenu-save"}}})}},{key:"render",value:function(){var e=this.props.isActive?"active-pause-menu-button":"";return l["default"].createElement("div",{onClick:this.handleClick.bind(this),className:"pause-menu-button "+e},"SAVE")}}]);var n=t;return t=(0,c.connect)(function(e,t){return{isActive:"pauseSidebarMenu-save"==e.pauseMenu.selectedMenuItem}})(t)||t}(l["default"].Component);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"handleClick",value:function(){this.props.dispatch({type:"SET_PAUSEMENU_VALUE",payload:{changes:{currentCursoringList:"pauseSidebarMenu",selectedMenuItem:"pauseSidebarMenu-load"}}})}},{key:"render",value:function(){var e=this.props.isActive?"active-pause-menu-button":"";return l["default"].createElement("div",{onClick:this.handleClick.bind(this),className:"pause-menu-button "+e},"LOAD")}}]);var n=t;return t=(0,c.connect)(function(e,t){return{isActive:"pauseSidebarMenu-load"==e.pauseMenu.selectedMenuItem}})(t)||t}(l["default"].Component);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"handleClick",value:function(){this.props.dispatch({type:"SET_PAUSEMENU_VALUE",payload:{changes:{currentCursoringList:"pauseSidebarMenu",selectedMenuItem:"pauseSidebarMenu-levelup"
}}})}},{key:"render",value:function(){var e=this.props.isActive?"active-pause-menu-button":"";return l["default"].createElement("div",{onClick:this.handleClick.bind(this),className:"pause-menu-button level-up-button "+e},"LEVEL UP!")}}]);var n=t;return t=(0,c.connect)(function(e,t){return{isActive:"pauseSidebarMenu-levelup"==e.pauseMenu.selectedMenuItem}})(t)||t}(l["default"].Component);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(72),f=r(p),d=n(80),v=r(d),h=n(81),y=r(h),m=n(82),g=r(m),b=n(83),_=r(b),w=n(86),O=r(w),E=n(88),S=r(E),P=n(89),T=r(P),k=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"renderBody",value:function(){return"pauseSidebarMenu-levelup"==this.props.selectedMenuItem||"pauseSidebarMenu-levelup"==this.props.showMenuTab?l["default"].createElement(y["default"],null):"pauseRoot-stats"==this.props.showMenuTab?l["default"].createElement(v["default"],null):"pauseRoot-laptop"==this.props.showMenuTab?l["default"].createElement(g["default"],null):"pauseRoot-attacks"==this.props.showMenuTab?l["default"].createElement(_["default"],null):"pauseRoot-items"==this.props.showMenuTab?l["default"].createElement(O["default"],null):void 0}},{key:"renderTopLevelOptions",value:function(){var e=this,t=f["default"].pauseRoot;return t.map(function(t){var n=t.id==e.props.selectedMenuItem;return l["default"].createElement(T["default"],{key:t.id,id:t.id,label:t.label,isActive:n,newAttackBadge:e.props.newAttackBadge})})}},{key:"render",value:function(){return l["default"].createElement("div",{className:"pause-content"},l["default"].createElement("div",{className:"pause-top-menu"},this.renderTopLevelOptions()),l["default"].createElement("div",{className:"pause-content-body"},this.renderBody()),l["default"].createElement("div",{className:"pause-content-textbox"},l["default"].createElement("div",{className:"pause-content-textbox-title"},this.props.infoBoxTitle),l["default"].createElement("div",{className:"pause-content-textbox-description"},this.props.infoBoxDescription)))}}]);var n=t;return t=(0,c.connect)(function(e,t){var n=f["default"][e.pauseMenu.currentCursoringList].filter(function(t){return t.id==e.pauseMenu.selectedMenuItem})[0];return{selectedMenuItem:e.pauseMenu.selectedMenuItem,showMenuTab:e.pauseMenu.showMenuTab,newAttackBadge:e.pauseMenu.newAttackBadge,infoBoxTitle:(0,S["default"])(n)[0],infoBoxDescription:(0,S["default"])(n)[1]}})(t)||t}(l["default"].Component);t["default"]=k,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(72),f=r(p),d=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"render",value:function(){var e=this,t=f["default"].pauseStatsMenu.map(function(t){var n=t.statId?e.props[t.statId]:null,r=t.id==e.props.selectedMenuItem?"is-active":"";return l["default"].createElement("div",{key:t.id,className:r+" _spreading-list-item pause-stat-item"},l["default"].createElement("div",null,t.label),l["default"].createElement("div",{className:"pause-stat-value"},n))});return l["default"].createElement("div",null,t)}}]);var n=t;return t=(0,c.connect)(function(e,t){return{selectedMenuItem:e.pauseMenu.selectedMenuItem,healthStatPoints:e.playerData.healthStatPoints,attackStatPoints:e.playerData.attackStatPoints,defenseStatPoints:e.playerData.defenseStatPoints,speedStatPoints:e.playerData.speedStatPoints,efficiencyStatPoints:e.playerData.efficiencyStatPoints}})(t)||t}(l["default"].Component);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(72),f=r(p),d=n(27),v=r(d),h=n(69),y=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"componentWillMount",value:function(){this.initialStatPoints={healthStatPoints:this.props.healthStatPoints,attackStatPoints:this.props.attackStatPoints,defenseStatPoints:this.props.defenseStatPoints,speedStatPoints:this.props.speedStatPoints,efficiencyStatPoints:this.props.efficiencyStatPoints}}},{key:"handlePromptClick",value:function(){this.props.dispatch({type:"SET_PAUSEMENU_VALUE",payload:{changes:{currentCursoringList:"pauseLevelUpMenu",selectedMenuItem:"pauseLevelUp-health",showMenuTab:"pauseSidebarMenu-levelup"}}})}},{key:"renderPrompt",value:function(){var e={position:"absolute",left:0,right:0,top:0,bottom:0,background:"rgba(0,0,0,0.9)"},t={position:"absolute",top:"50%",left:"50%",transform:"translate3d(-50%,-50%,0)",background:"#444",padding:"2vw",width:"35vw",textAlign:"center",borderBottom:"1vw solid #333"};return l["default"].createElement("div",{style:e,onClick:this.handlePromptClick.bind(this)},l["default"].createElement("div",{style:t},"Press ENTER to level up!"))}},{key:"render",value:function(){var e=this,t=f["default"].pauseLevelUpMenu.map(function(t){var n=t.statId?e.props[t.statId]:null,r=t.id==e.props.selectedMenuItem,a=t.rowClass||"",o=e.props[t.statId]<=e.initialStatPoints[t.statId],i=(0,h.skillPointsRemaining)()<=0;return l["default"].createElement(m,{key:t.id,id:t.statId,menuItemId:t.id,label:t.label,hideLeftArrow:o,hideRightArrow:i,minimum:e.initialStatPoints[t.statId],rowClass:a,isActive:r,value:n})}),n="pauseSidebarMenu-levelup"==this.props.selectedMenuItem?this.renderPrompt():null,r=(0,h.skillPointsRemaining)(),a=r>0?{opacity:1}:{opacity:.25};return l["default"].createElement("div",{className:"pause-levelup-content"},n,l["default"].createElement("div",{className:"_spreading-list-item pause-stat-item"},l["default"].createElement("div",null,"SKILL POINTS"),l["default"].createElement("div",{className:"pause-stat-value",style:a},"Remaining: ",r)),t)}}]);var n=t;return t=(0,c.connect)(function(e,t){return{level:e.playerData.level,selectedMenuItem:e.pauseMenu.selectedMenuItem,healthStatPoints:e.playerData.healthStatPoints,attackStatPoints:e.playerData.attackStatPoints,defenseStatPoints:e.playerData.defenseStatPoints,speedStatPoints:e.playerData.speedStatPoints,efficiencyStatPoints:e.playerData.efficiencyStatPoints}})(t)||t}(l["default"].Component),m=function(e){function t(){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"handleDecrementClick",value:function(){(0,h.decrementStatPoint)(this.props.id,v["default"].getState().playerData[this.props.id],this.props.minimum)}},{key:"handleIncrementClick",value:function(){(0,h.incrementStatPoint)(this.props.id,v["default"].getState().playerData[this.props.id],999)}},{key:"handleSelectionClick",value:function(){return"pauseLevelUp-done"==this.props.menuItemId&&this.props.isActive?((0,h.submitLevelUp)(),void v["default"].dispatch({type:"SET_PAUSEMENU_VALUE",payload:{changes:{currentCursoringList:"pauseRoot",selectedMenuItem:"pauseRoot-stats",showMenuTab:"pauseRoot-stats"}}})):void v["default"].dispatch({type:"SET_PAUSEMENU_VALUE",payload:{changes:{selectedMenuItem:this.props.menuItemId}}})}},{key:"render",value:function(){var e=this.props.isActive?"is-active":"",t=this.props.hideLeftArrow?"hide-arrow":"",n=this.props.hideRightArrow?"hide-arrow":"";return l["default"].createElement("div",{className:e+" "+this.props.rowClass+" _spreading-list-item pause-stat-item"},l["default"].createElement("div",{onClick:this.handleSelectionClick.bind(this)},this.props.label),l["default"].createElement("div",{className:"pause-stat-value"},l["default"].createElement("div",{onClick:this.handleDecrementClick.bind(this),className:"_ibm pause-levelup-arrow arrow-left "+t}),l["default"].createElement("div",{className:"_ibm pause-levelup-value"},this.props.value),l["default"].createElement("div",{onClick:this.handleIncrementClick.bind(this),className:"_ibm pause-levelup-arrow arrow-right "+n})))}}]),t}(l["default"].Component);t["default"]=y,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"render",value:function(){return l["default"].createElement("div",null,l["default"].createElement("div",{className:"pause-laptop-container"},l["default"].createElement("div",{className:"pause-laptop-block"}),l["default"].createElement("div",{className:"pause-laptop-block"}),l["default"].createElement("div",{className:"pause-laptop-block"}),l["default"].createElement("div",{className:"pause-laptop-block"})),l["default"].createElement("div",{className:"pause-laptop-helper-text"},"You haven't acquired any laptop parts yet!"))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{}})(t)||t}(l["default"].Component);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(72),f=r(p),d=n(84),v=r(d),h=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"componentWillUpdate",value:function(e){"pauseAttacksMenu"==e.currentCursoringList&&"pauseAttacksMenu"!=this.props.currentCursoringList&&this.turnOffBadge()}},{key:"turnOffBadge",value:function(){this.props.dispatch({type:"SET_PAUSEMENU_VALUE",payload:{changes:{newAttackBadge:!1}}})}},{key:"render",value:function(){var e=this,t=f["default"].pauseAttacksMenu.map(function(t){var n=-1!=e.props.playerAttacks.indexOf(t.attackId),r=t.levelRequirement>e.props.playerLevel,a=t.id==e.props.selectedMenuItem;return l["default"].createElement(y,{id:t.id,onToggleChange:e.turnOffBadge.bind(e),isCursored:a,checked:n,isMystery:r,label:t.name})});return l["default"].createElement("div",{className:"pause-attack-content-container"},l["default"].createElement("div",null,t),l["default"].createElement("div",null,"Using ",this.props.playerAttacks.length," of 3 attack slots"))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerAttacks:e.playerData.attacks,playerLevel:e.playerData.level,selectedMenuItem:e.pauseMenu.selectedMenuItem,currentCursoringList:e.pauseMenu.currentCursoringList}})(t)||t}(l["default"].Component),y=function(e){function t(){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"handleClick",value:function(){(0,v["default"])(this.props.id),this.props.onToggleChange()}},{key:"render",value:function(){var e={width:"2vw",height:"2vw",marginRight:"1vw",background:this.props.checked?"#5FA4DE":"#393939"},t=this.props.isMystery?"??????":this.props.label,n=this.props.isCursored?"is-active":"";return l["default"].createElement("div",{onClick:this.handleClick.bind(this),className:"pause-attack-item "+n},l["default"].createElement("div",{className:"_ibm",style:e}),l["default"].createElement("div",{className:"_ibm"},t))}}]),t}(l["default"].Component);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l["default"].dispatch({type:"SET_PLAYERDATA_VALUE",payload:{changes:u({},e)}})}function i(e){var t=d["default"].pauseAttacksMenu.filter(function(t){return t.id==e})[0].levelRequirement;return t>l["default"].getState().playerData.level}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(27),l=r(s),c=n(85),p=r(c),f=n(72),d=r(f);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=e.split("pauseAttacks-")[1],n=l["default"].getState().playerData.attacks;if(-1!=n.indexOf(t)){if(n.length<=1)return!1;var r=(0,p["default"])(n,[t]);o({attacks:r})}else{if(n.length>=3||i(e))return!1;var r=[].concat(a(n),[t]);o({attacks:r})}},e.exports=t["default"]},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],r=[].concat(n(e));return t.forEach(function(e){-1!=r.indexOf(e)&&r.splice(r.indexOf(e),1)}),[].concat(n(r))},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(72),f=r(p),d=n(87),v=r(d),h=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"render",value:function(){var e=this,t=f["default"].pauseItemsMenu.map(function(t){var n=-1!=e.props.playerItems.indexOf(t.itemId),r=t.id==e.props.selectedMenuItem;return l["default"].createElement(y,{id:t.id,isCursored:r,checked:n,label:t.name})});return l["default"].createElement("div",{className:"pause-attack-content-container"},l["default"].createElement("div",null,t),l["default"].createElement("div",null,"Using ",this.props.playerItems.length," of 3 item slots"))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerItems:e.playerData.items,selectedMenuItem:e.pauseMenu.selectedMenuItem}})(t)||t}(l["default"].Component),y=function(e){function t(){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"handleClick",value:function(){(0,v["default"])(this.props.id)}},{key:"render",value:function(){var e={width:"2vw",height:"2vw",marginRight:"1vw",background:this.props.checked?"#50E3C2":"#393939"},t=this.props.isCursored?"is-active":"";return l["default"].createElement("div",{onClick:this.handleClick.bind(this),className:"pause-attack-item "+t},l["default"].createElement("div",{className:"_ibm",style:e}),l["default"].createElement("div",{className:"_ibm"},this.props.label))}}]),t}(l["default"].Component);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s["default"].dispatch({type:"SET_PLAYERDATA_VALUE",payload:{changes:i({},e)}})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(27),s=r(u),l=n(85),c=r(l);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=e.split("pauseItems-")[1],n=s["default"].getState().playerData.items;if(-1!=n.indexOf(t)){var r=(0,c["default"])(n,[t]);o({items:r})}else{if(n.length>=3)return!1;var r=[].concat(a(n),[t]);o({items:r})}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),o=r(a);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return e.id||console.warn("selectedNode not found in pause-info-middleware"),e.id.match(/pauseAttacks/)&&e.levelRequirement>o["default"].getState().playerData.level?["??????","Gain more XP to unlock this attack"]:[e.infoBoxTitle,e.infoBoxDescription]},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"handleClick",value:function(){this.props.dispatch({type:"SET_PAUSEMENU_VALUE",payload:{changes:{currentCursoringList:"pauseRoot",showMenuTab:this.props.id,selectedMenuItem:this.props.id}}})}},{key:"renderNewAttackBadge",value:function(e){return"pauseRoot-attacks"==this.props.id&&this.props.newAttackBadge?l["default"].createElement("div",{className:"pause-new-attacks-badge"},"NEW!"):null}},{key:"render",value:function(){var e=this.props.isActive?"is-active":"";return l["default"].createElement("div",{onClick:this.handleClick.bind(this),className:"top-level-item "+e},this.props.label,this.renderNewAttackBadge())}}]);var n=t;return t=(0,c.connect)(function(e,t){return{}})(t)||t}(l["default"].Component);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n=t.map(function(e){return e.id}),r=n.indexOf(e);return r<n.length-1?n[r+1]:n[n.length-1]}function o(e,t){var n=t.map(function(e){return e.id}),r=n.indexOf(e);return r>0?n[r-1]:n[0]}function i(){var e=p["default"].getState().pauseMenu,t=v["default"][e.currentCursoringList];return t.filter(function(t){return t.id==e.selectedMenuItem})[0]}function u(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];p["default"].dispatch({type:"SET_PAUSEMENU_VALUE",payload:{changes:l({},e)}})}function s(e,t,n){return"pauseRoot"==e?n:t}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(27),p=r(c),f=n(91),d=n(72),v=r(d),h=n(84),y=r(h),m=n(87),g=r(m),b=n(69),_=n(92),w=new _.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/menu-move.mp3"]}),O=new _.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/submit.mp3"]}),E=new _.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/pause-back.mp3"]});t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t={healthStatPoints:p["default"].getState().playerData.healthStatPoints,attackStatPoints:p["default"].getState().playerData.attackStatPoints,defenseStatPoints:p["default"].getState().playerData.defenseStatPoints,speedStatPoints:p["default"].getState().playerData.speedStatPoints,efficiencyStatPoints:p["default"].getState().playerData.efficiencyStatPoints},n=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=l({usePrev:!1,destKeyName:"",restrictToDirectionKeyName:null},e),n=p["default"].getState().pauseMenu.currentCursoringList,r=(0,d.getCensoringList)(n,v["default"]),i=p["default"].getState().pauseMenu.selectedMenuItem,c=(0,d.getMenuNode)(r,i);if(0==t.destKeyName.length&&console.warn("WARNING: destKeyName not specified in moveMenuCursor callerOptions"),c[t.destKeyName])return u({currentCursoringList:c[t.destKeyName][0],selectedMenuItem:c[t.destKeyName][1]}),void w.play();if(t.restrictToDirectionKeyName&&!c[t.restrictToDirectionKeyName])return!1;var f=t.usePrev?o(i,r):a(i,r);p["default"].getState().pauseMenu.selectedMenuItem!=f&&w.play(),u({selectedMenuItem:f,showMenuTab:s(p["default"].getState().pauseMenu.currentCursoringList,p["default"].getState().pauseMenu.showMenuTab,f)})},r=function(){if("pauseLevelUpMenu"==p["default"].getState().pauseMenu.currentCursoringList){var e=i().statId;return void(e&&(0,b.decrementStatPoint)(e,p["default"].getState().playerData[e],t[e]))}n({usePrev:!0,destKeyName:"leftKeyDest",restrictToDirectionKeyName:"isHorizontalMovement"})},c=function(){if("pauseLevelUpMenu"==p["default"].getState().pauseMenu.currentCursoringList){var e=i().statId;return void(e&&(0,b.incrementStatPoint)(e,p["default"].getState().playerData[e],999))}n({usePrev:!1,destKeyName:"rightKeyDest",restrictToDirectionKeyName:"isHorizontalMovement"})},h=function(){n({usePrev:!0,destKeyName:"upKeyDest"})},m=function(){n({usePrev:!1,destKeyName:"downKeyDest"})};(0,f.addKeyboardSinglePress)(37,r,e),(0,f.addKeyboardSinglePress)(39,c,e),(0,f.addKeyboardSinglePress)(65,r,e),(0,f.addKeyboardSinglePress)(68,c,e),(0,f.addKeyboardSinglePress)(38,h,e),(0,f.addKeyboardSinglePress)(40,m,e);var _=function(){var e=p["default"].getState().pauseMenu.selectedMenuItem,t=p["default"].getState().pauseMenu.currentCursoringList;if("pauseAttacksMenu"==t&&(0,y["default"])(e),"pauseItemsMenu"==t&&(0,g["default"])(e),"pauseSidebarMenu-levelup"==e&&u({currentCursoringList:"pauseLevelUpMenu",selectedMenuItem:"pauseLevelUp-health",showMenuTab:"pauseSidebarMenu-levelup"}),"pauseLevelUpMenu"==t&&"pauseLevelUp-done"!=e){var n=i().statId;n&&(0,b.incrementStatPoint)(n,p["default"].getState().playerData[n],999),0==(0,b.skillPointsRemaining)()&&u({selectedMenuItem:"pauseLevelUp-done"})}if("pauseLevelUp-done"==e){O.play(),(0,b.submitLevelUp)(),u({showMenuTab:null});var r=(0,d.getCensoringList)("pauseRoot",v["default"]),a=r[0].id,o="pauseRoot-stats"==a?"pauseRoot-stats":"pauseRoot-levelup";u({currentCursoringList:"pauseRoot",selectedMenuItem:a,showMenuTab:o})}};(0,f.addKeyboardSinglePress)(13,_,e);var S=function(){return"pauseLevelUpMenu"==p["default"].getState().pauseMenu.currentCursoringList?(E.play(),(0,b.resetStatPoints)(t),void u({currentCursoringList:"pauseSidebarMenu",selectedMenuItem:"pauseSidebarMenu-levelup"})):void p["default"].dispatch({type:"SET_GAME_AREA",payload:{gameArea:"map"}})};(0,f.addKeyboardSinglePress)(27,S,e)},e.exports=t["default"]},function(e,t){"use strict";function n(e,t,n){var r="keydown."+(n||""),a="keyup."+(n||""),o=!0;$(document).on(r,function(n){switch(n.which){case e:n.preventDefault(),o&&(o=!1,t())}}),$(document).on(a,function(t){switch(t.which){case e:o=!0}t.preventDefault()})}function r(e){return e?($(document).off("."+e),void($(".message-board").length&&$(".message-board").off("."+e))):(console.warn("valid namespace string required for `removeKeyboardSinglePress`"),!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.addKeyboardSinglePress=n,t.removeKeyboardSinglePress=r},function(e,t,n){var r;/*!
	 *  howler.js v1.1.29
	 *  howlerjs.com
	 *
	 *  (c) 2013-2016, James Simpson of GoldFire Studios
	 *  goldfirestudios.com
	 *
	 *  MIT License
	 */
!function(){var a={},o=null,i=!0,u=!1;try{"undefined"!=typeof AudioContext?o=new AudioContext:"undefined"!=typeof webkitAudioContext?o=new webkitAudioContext:i=!1}catch(s){i=!1}if(!i)if("undefined"!=typeof Audio)try{new Audio}catch(s){u=!0}else u=!0;if(i){var l="undefined"==typeof o.createGain?o.createGainNode():o.createGain();l.gain.value=1,l.connect(o.destination)}var c=function(e){this._volume=1,this._muted=!1,this.usingWebAudio=i,this.ctx=o,this.noAudio=u,this._howls=[],this._codecs=e,this.iOSAutoEnable=!0};c.prototype={volume:function(e){var t=this;if(e=parseFloat(e),e>=0&&1>=e){t._volume=e,i&&(l.gain.value=e);for(var n in t._howls)if(t._howls.hasOwnProperty(n)&&t._howls[n]._webAudio===!1)for(var r=0;r<t._howls[n]._audioNode.length;r++)t._howls[n]._audioNode[r].volume=t._howls[n]._volume*t._volume;return t}return i?l.gain.value:t._volume},mute:function(){return this._setMuted(!0),this},unmute:function(){return this._setMuted(!1),this},_setMuted:function(e){var t=this;t._muted=e,i&&(l.gain.value=e?0:t._volume);for(var n in t._howls)if(t._howls.hasOwnProperty(n)&&t._howls[n]._webAudio===!1)for(var r=0;r<t._howls[n]._audioNode.length;r++)t._howls[n]._audioNode[r].muted=e},codecs:function(e){return this._codecs[e]},_enableiOSAudio:function(){var e=this;if(!o||!e._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){e._iOSEnabled=!1;var t=function(){var n=o.createBuffer(1,1,22050),r=o.createBufferSource();r.buffer=n,r.connect(o.destination),"undefined"==typeof r.start?r.noteOn(0):r.start(0),setTimeout(function(){r.playbackState!==r.PLAYING_STATE&&r.playbackState!==r.FINISHED_STATE||(e._iOSEnabled=!0,e.iOSAutoEnable=!1,window.removeEventListener("touchend",t,!1))},0)};return window.addEventListener("touchend",t,!1),e}}};var p=null,f={};u||(p=new Audio,f={mp3:!!p.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!p.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!p.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!p.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(p.canPlayType("audio/x-m4a;")||p.canPlayType("audio/m4a;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(p.canPlayType("audio/x-mp4;")||p.canPlayType("audio/mp4;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")});var d=new c(f),v=function(e){var t=this;t._autoplay=e.autoplay||!1,t._buffer=e.buffer||!1,t._duration=e.duration||0,t._format=e.format||null,t._loop=e.loop||!1,t._loaded=!1,t._sprite=e.sprite||{},t._src=e.src||"",t._pos3d=e.pos3d||[0,0,-.5],t._volume=void 0!==e.volume?e.volume:1,t._urls=e.urls||[],t._rate=e.rate||1,t._model=e.model||null,t._onload=[e.onload||function(){}],t._onloaderror=[e.onloaderror||function(){}],t._onend=[e.onend||function(){}],t._onpause=[e.onpause||function(){}],t._onplay=[e.onplay||function(){}],t._onendTimer=[],t._webAudio=i&&!t._buffer,t._audioNode=[],t._webAudio&&t._setupAudioNode(),"undefined"!=typeof o&&o&&d.iOSAutoEnable&&d._enableiOSAudio(),d._howls.push(t),t.load()};if(v.prototype={load:function(){var e=this,t=null;if(u)return void e.on("loaderror",new Error("No audio support."));for(var n=0;n<e._urls.length;n++){var r,a;if(e._format)r=e._format;else{if(a=e._urls[n],r=/^data:audio\/([^;,]+);/i.exec(a),r||(r=/\.([^.]+)$/.exec(a.split("?",1)[0])),!r)return void e.on("loaderror",new Error("Could not extract format from passed URLs, please add format parameter."));r=r[1].toLowerCase()}if(f[r]){t=e._urls[n];break}}if(!t)return void e.on("loaderror",new Error("No codec support for selected audio sources."));if(e._src=t,e._webAudio)h(e,t);else{var o=new Audio;o.addEventListener("error",function(){o.error&&4===o.error.code&&(c.noAudio=!0),e.on("loaderror",{type:o.error?o.error.code:0})},!1),e._audioNode.push(o),o.src=t,o._pos=0,o.preload="auto",o.volume=d._muted?0:e._volume*d.volume();var i=function(){e._duration=Math.ceil(10*o.duration)/10,0===Object.getOwnPropertyNames(e._sprite).length&&(e._sprite={_default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e.on("load")),e._autoplay&&e.play(),o.removeEventListener("canplaythrough",i,!1)};o.addEventListener("canplaythrough",i,!1),o.load()}return e},urls:function(e){var t=this;return e?(t.stop(),t._urls="string"==typeof e?[e]:e,t._loaded=!1,t.load(),t):t._urls},play:function(e,t){var n=this;return"function"==typeof e&&(t=e),e&&"function"!=typeof e||(e="_default"),n._loaded?n._sprite[e]?(n._inactiveNode(function(r){r._sprite=e;var a=r._pos>0?r._pos:n._sprite[e][0]/1e3,i=0;n._webAudio?(i=n._sprite[e][1]/1e3-r._pos,r._pos>0&&(a=n._sprite[e][0]/1e3+a)):i=n._sprite[e][1]/1e3-(a-n._sprite[e][0]/1e3);var u,s=!(!n._loop&&!n._sprite[e][2]),l="string"==typeof t?t:Math.round(Date.now()*Math.random())+"";if(function(){var t={id:l,sprite:e,loop:s};u=setTimeout(function(){!n._webAudio&&s&&n.stop(t.id).play(e,t.id),n._webAudio&&!s&&(n._nodeById(t.id).paused=!0,n._nodeById(t.id)._pos=0,n._clearEndTimer(t.id)),n._webAudio||s||n.stop(t.id),n.on("end",l)},i/n._rate*1e3),n._onendTimer.push({timer:u,id:t.id})}(),n._webAudio){var c=n._sprite[e][0]/1e3,p=n._sprite[e][1]/1e3;r.id=l,r.paused=!1,g(n,[s,c,p],l),n._playStart=o.currentTime,r.gain.value=n._volume,"undefined"==typeof r.bufferSource.start?s?r.bufferSource.noteGrainOn(0,a,86400):r.bufferSource.noteGrainOn(0,a,i):s?r.bufferSource.start(0,a,86400):r.bufferSource.start(0,a,i)}else{if(4!==r.readyState&&(r.readyState||!navigator.isCocoonJS))return n._clearEndTimer(l),function(){var a=n,o=e,i=t,u=r,s=function(){a.play(o,i),u.removeEventListener("canplaythrough",s,!1)};u.addEventListener("canplaythrough",s,!1)}(),n;r.readyState=4,r.id=l,r.currentTime=a,r.muted=d._muted||r.muted,r.volume=n._volume*d.volume(),setTimeout(function(){r.play()},0)}return n.on("play"),"function"==typeof t&&t(l),n}),n):("function"==typeof t&&t(),n):(n.on("load",function(){n.play(e,t)}),n)},pause:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.pause(e)}),t;t._clearEndTimer(e);var n=e?t._nodeById(e):t._activeNode();if(n)if(n._pos=t.pos(null,e),t._webAudio){if(!n.bufferSource||n.paused)return t;n.paused=!0,"undefined"==typeof n.bufferSource.stop?n.bufferSource.noteOff(0):n.bufferSource.stop(0)}else n.pause();return t.on("pause"),t},stop:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.stop(e)}),t;t._clearEndTimer(e);var n=e?t._nodeById(e):t._activeNode();if(n)if(n._pos=0,t._webAudio){if(!n.bufferSource||n.paused)return t;n.paused=!0,"undefined"==typeof n.bufferSource.stop?n.bufferSource.noteOff(0):n.bufferSource.stop(0)}else isNaN(n.duration)||(n.pause(),n.currentTime=0);return t},mute:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.mute(e)}),t;var n=e?t._nodeById(e):t._activeNode();return n&&(t._webAudio?n.gain.value=0:n.muted=!0),t},unmute:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.unmute(e)}),t;var n=e?t._nodeById(e):t._activeNode();return n&&(t._webAudio?n.gain.value=t._volume:n.muted=!1),t},volume:function(e,t){var n=this;if(e=parseFloat(e),e>=0&&1>=e){if(n._volume=e,!n._loaded)return n.on("play",function(){n.volume(e,t)}),n;var r=t?n._nodeById(t):n._activeNode();return r&&(n._webAudio?r.gain.value=e:r.volume=e*d.volume()),n}return n._volume},loop:function(e){var t=this;return"boolean"==typeof e?(t._loop=e,t):t._loop},sprite:function(e){var t=this;return"object"==typeof e?(t._sprite=e,t):t._sprite},pos:function(e,t){var n=this;if(!n._loaded)return n.on("load",function(){n.pos(e)}),"number"==typeof e?n:n._pos||0;e=parseFloat(e);var r=t?n._nodeById(t):n._activeNode();if(r)return e>=0?(n.pause(t),r._pos=e,n.play(r._sprite,t),n):n._webAudio?r._pos+(o.currentTime-n._playStart):r.currentTime;if(e>=0)return n;for(var a=0;a<n._audioNode.length;a++)if(n._audioNode[a].paused&&4===n._audioNode[a].readyState)return n._webAudio?n._audioNode[a]._pos:n._audioNode[a].currentTime},pos3d:function(e,t,n,r){var a=this;if(t="undefined"!=typeof t&&t?t:0,n="undefined"!=typeof n&&n?n:-.5,!a._loaded)return a.on("play",function(){a.pos3d(e,t,n,r)}),a;if(!(e>=0||0>e))return a._pos3d;if(a._webAudio){var o=r?a._nodeById(r):a._activeNode();o&&(a._pos3d=[e,t,n],o.panner.setPosition(e,t,n),o.panner.panningModel=a._model||"HRTF")}return a},fade:function(e,t,n,r,a){var o=this,i=Math.abs(e-t),u=e>t?"down":"up",s=i/.01,l=n/s;if(!o._loaded)return o.on("load",function(){o.fade(e,t,n,r,a)}),o;o.volume(e,a);for(var c=1;s>=c;c++)!function(){var e=o._volume+("up"===u?.01:-.01)*c,n=Math.round(1e3*e)/1e3,i=t;setTimeout(function(){o.volume(n,a),n===i&&r&&r()},l*c)}()},fadeIn:function(e,t,n){return this.volume(0).play().fade(0,e,t,n)},fadeOut:function(e,t,n,r){var a=this;return a.fade(a._volume,e,t,function(){n&&n(),a.pause(r),a.on("end")},r)},_nodeById:function(e){for(var t=this,n=t._audioNode[0],r=0;r<t._audioNode.length;r++)if(t._audioNode[r].id===e){n=t._audioNode[r];break}return n},_activeNode:function(){for(var e=this,t=null,n=0;n<e._audioNode.length;n++)if(!e._audioNode[n].paused){t=e._audioNode[n];break}return e._drainPool(),t},_inactiveNode:function(e){for(var t=this,n=null,r=0;r<t._audioNode.length;r++)if(t._audioNode[r].paused&&4===t._audioNode[r].readyState){e(t._audioNode[r]),n=!0;break}if(t._drainPool(),!n){var a;if(t._webAudio)a=t._setupAudioNode(),e(a);else{t.load(),a=t._audioNode[t._audioNode.length-1];var o=navigator.isCocoonJS?"canplaythrough":"loadedmetadata",i=function(){a.removeEventListener(o,i,!1),e(a)};a.addEventListener(o,i,!1)}}},_drainPool:function(){var e,t=this,n=0;for(e=0;e<t._audioNode.length;e++)t._audioNode[e].paused&&n++;for(e=t._audioNode.length-1;e>=0&&!(5>=n);e--)t._audioNode[e].paused&&(t._webAudio&&t._audioNode[e].disconnect(0),n--,t._audioNode.splice(e,1))},_clearEndTimer:function(e){for(var t=this,n=-1,r=0;r<t._onendTimer.length;r++)if(t._onendTimer[r].id===e){n=r;break}var a=t._onendTimer[n];a&&(clearTimeout(a.timer),t._onendTimer.splice(n,1))},_setupAudioNode:function(){var e=this,t=e._audioNode,n=e._audioNode.length;return t[n]="undefined"==typeof o.createGain?o.createGainNode():o.createGain(),t[n].gain.value=e._volume,t[n].paused=!0,t[n]._pos=0,t[n].readyState=4,t[n].connect(l),t[n].panner=o.createPanner(),t[n].panner.panningModel=e._model||"equalpower",t[n].panner.setPosition(e._pos3d[0],e._pos3d[1],e._pos3d[2]),t[n].panner.connect(t[n]),t[n]},on:function(e,t){var n=this,r=n["_on"+e];if("function"==typeof t)r.push(t);else for(var a=0;a<r.length;a++)t?r[a].call(n,t):r[a].call(n);return n},off:function(e,t){var n=this,r=n["_on"+e];if(t){for(var a=0;a<r.length;a++)if(t===r[a]){r.splice(a,1);break}}else n["_on"+e]=[];return n},unload:function(){for(var e=this,t=e._audioNode,n=0;n<e._audioNode.length;n++)t[n].paused||(e.stop(t[n].id),e.on("end",t[n].id)),e._webAudio?t[n].disconnect(0):t[n].src="";for(n=0;n<e._onendTimer.length;n++)clearTimeout(e._onendTimer[n].timer);var r=d._howls.indexOf(e);null!==r&&r>=0&&d._howls.splice(r,1),delete a[e._src],e=null}},i)var h=function(e,t){if(t in a)return e._duration=a[t].duration,void m(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);y(r.buffer,e,t)}else{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){y(i.response,e,t)},i.onerror=function(){e._webAudio&&(e._buffer=!0,e._webAudio=!1,e._audioNode=[],delete e._gainNode,delete a[t],e.load())};try{i.send()}catch(u){i.onerror()}}},y=function(e,t,n){o.decodeAudioData(e,function(e){e&&(a[n]=e,m(t,e))},function(e){t.on("loaderror",e)})},m=function(e,t){e._duration=t?t.duration:e._duration,0===Object.getOwnPropertyNames(e._sprite).length&&(e._sprite={_default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e.on("load")),e._autoplay&&e.play()},g=function(e,t,n){var r=e._nodeById(n);r.bufferSource=o.createBufferSource(),r.bufferSource.buffer=a[e._src],r.bufferSource.connect(r.panner),r.bufferSource.loop=t[0],t[0]&&(r.bufferSource.loopStart=t[1],r.bufferSource.loopEnd=t[1]+t[2]),r.bufferSource.playbackRate.value=e._rate};r=function(){return{Howler:d,Howl:v}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)),t.Howler=d,t.Howl=v,"undefined"!=typeof window&&(window.Howler=d,window.Howl=v)}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(94),p=r(c),f=n(4),d=n(95),v=r(d),h=n(27),y=r(h),m=n(92),g=new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/Blip_0.ogg"],volume:.5}),b=(new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/bell_down.ogg"]}),new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/bell_up.ogg"]}),new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/blip_hi.ogg"]}),new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/blip_lo.ogg"]}),new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/exclaim_down.ogg"]}),new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/exclaim_up.ogg"]}),new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/pod_close.ogg"],volume:.1})),_=new m.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/pod_open.ogg"],volume:.1}),w=function(e){function t(e){var t=this;a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),console.log("-----------CONSTRUCTOR"),this.characterBank=0,this.totalCharacters=this.props.currentMessage.reduce(function(e,t){return e.length+t.length});var r=32;this.btnSafe=!0,this.btnLock=!0,setTimeout(function(){t.btnLock=!1},500),(0,p["default"])(document).on("keydown.textboxButton",function(e){e.which==r&&t.btnSafe&&!t.btnLock&&(t.btnSafe=!1,t.handleNextPageButton())}).on("keyup",function(e){e.which!=r||t.btnLock||(t.btnSafe=!0)})}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;_.play(),setTimeout(function(){e.props.dispatch({type:"START_MESSAGING"}),setTimeout(function(){e.increaseIndex()},100)},100)}},{key:"componentWillUnmount",value:function(){(0,p["default"])(document).off("keydown.textboxButton")}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.activePage>this.props.activePage&&(this.btnLock=!0,setTimeout(function(){t.increaseIndex(e.activePage),t.btnLock=!1},500))}},{key:"increaseIndex",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];if(y["default"].getState().message.characterIndex>this.totalCharacters)return this.props.dispatch({type:"STOP_MESSAGING"}),this.props.dispatch({type:"REMOVE_TEXTBOX"}),b.play(),!1;if(this.props.characterIndex>=this.props.currentMessage[t].length+this.characterBank)return this.characterBank+=this.props.currentMessage[t].length,this.props.dispatch({type:"END_OF_PAGE"}),void this.props.dispatch({type:"SET_PAGING_ICON",payload:"undefined"==typeof this.props.currentMessage[t+1]?"done":"arrow"});this.props.dispatch({type:"INCREASE_CHARACTER_INDEX"}),g.play();var n=this.props.currentMessage[t][this.props.characterIndex-this.characterBank]||{delayBefore:0};setTimeout(function(){e.increaseIndex(t)},n.delayBefore)}},{key:"handleNextPageButton",value:function(){var e=this;if(this.props.endOfPage){var t=y["default"].getState().message.activePage,n=y["default"].getState().message.currentMessage.length;n-1>t?this.props.dispatch({type:"NEXT_MESSAGE_PAGE"}):(this.btnLock=!0,this.props.dispatch({type:"STOP_MESSAGING"}),setTimeout(function(){e.props.dispatch({type:"REMOVE_TEXTBOX"})},500),b.play())}else this.props.dispatch({type:"SET_CHARACTER_INDEX",payload:this.characterBank+this.props.currentMessage[this.props.activePage].length})}},{key:"renderPagingIcon",value:function(){return this.props.isOpen?"arrow"==this.props.pagingIcon?l["default"].createElement("div",{className:"paging-icon paging-icon-arrow"}):"done"==this.props.pagingIcon?l["default"].createElement("div",{className:"paging-icon paging-icon-square"}):void 0:null}},{key:"render",value:function(){for(var e=this.props.currentMessage,t=[],n=0,r=0;r<=e.length-1;r++)n+=r>0?e[r-1].length:0,t.push(n);var a=this.props.currentMessage.map(function(e,n){var r=t[n];return l["default"].createElement(v["default"],{start:r,content:e,key:n,page:n})}),o=this.props.isOpen?"open":"";return l["default"].createElement("div",null,l["default"].createElement("div",{className:"textbox "+o,onClick:this.handleNextPageButton.bind(this)},a,this.renderPagingIcon()))}}]);var n=t;return t=(0,f.connect)(function(e,t){return{pagingIcon:e.message.pagingIcon,isOpen:e.message.messaging,activePage:e.message.activePage,characterIndex:e.message.characterIndex,currentMessage:e.message.currentMessage,endOfPage:e.message.endOfPage}})(t)||t}(l["default"].Component);t["default"]=w,e.exports=t["default"]},function(e,t){e.exports=jQuery},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props.content.map(function(t,n){var r={visibility:e.props.start+(n+1)<=e.props.characterIndex&&e.props.isOpen?"visible":"hidden"};return l["default"].createElement("span",{style:r,key:n},t.content)}),n=this.props.activePage>this.props.page?"done":"";return l["default"].createElement("div",{className:"textbox-page js-no-dpad-on-touch "+n},l["default"].createElement("div",{className:"textpage-content"},t))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{isOpen:e.message.messaging,activePage:e.message.activePage,characterIndex:e.message.characterIndex}})(t)||t}(l["default"].Component);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(91),f=n(97),d=r(f),v=n(92),h=new v.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/exclaim_up.ogg"]}),y=new v.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/exclaim_down.ogg"]}),m=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.timeout=null,this.state={time:10}}o(t,e),i(t,[{key:"handleMobileTab",value:function(){(0,d["default"])()}},{key:"componentDidMount",value:function(){var e=this;h.play(),this.timeout=setTimeout(function(){e.reduceTime()},1e3),(0,p.addKeyboardSinglePress)(13,function(){(0,d["default"])()},"battle-request-box"),(0,p.addKeyboardSinglePress)(27,function(){clearTimeout(e.timeout),e.setState({time:0}),y.play(),e.props.dispatch({type:"DECLINE_BATTLE_REQUEST"})},"battle-request-box")}},{key:"componentWillUnmount",value:function(){(0,p.removeKeyboardSinglePress)("battle-request-box"),clearTimeout(this.timeout)}},{key:"reduceTime",value:function(){var e=this;e.setState({time:e.state.time-1},function(){e.state.time>0?e.timeout=setTimeout(function(){e.reduceTime()},1e3):(y.play(),e.props.dispatch({type:"DECLINE_BATTLE_REQUEST"}))})}},{key:"render",value:function(){if(this.state.time<=0)return!1;var e={position:"absolute",right:"1vw",top:"1vw",padding:"1vw",fontSize:"3vw",fontFamily:"monospace",width:"46vw",background:"#111",color:"#fff"},t={background:"url("+this.props.battleRequests.requesterSkin+"), linear-gradient(-330deg, #58a, #ff0090)",width:"6vw",height:"6vw","float":"left",marginRight:"1vw",backgroundPosition:"300% 100%",backgroundSize:"400%",borderRadius:"50%"};return l["default"].createElement("div",{style:e,onClick:this.handleMobileTab.bind(this)},l["default"].createElement("div",null,"Battle Request",l["default"].createElement("div",{style:{"float":"right"}},this.state.time)),l["default"].createElement("div",null," ",l["default"].createElement("div",{style:t}),this.props.battleRequests.requesterName,l["default"].createElement("span",null,"(Level ",this.props.battleRequests.requesterLevel,")")),l["default"].createElement("div",null,l["default"].createElement("div",null,"ENTER to accept"),l["default"].createElement("div",null,"ESC to decline")))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{battleRequests:e.battleRequests}})(t)||t}(l["default"].Component);t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(27),i=r(o),u=n(48),s=r(u),l=n(49),c=r(l);t["default"]=function(){var e=a({},s["default"][i["default"].getState().battleRequests.requesterId]),t=a({},i["default"].getState().playerData);i["default"].dispatch({type:"HIDE_BATTLE_REQUEST"}),i["default"].dispatch({type:"MERGE_COMBATANT",payload:{key:"a",changes:a({},c["default"],t,{hp:t.maxHp})}}),i["default"].dispatch({type:"MERGE_COMBATANT",payload:{key:"b",changes:a({},c["default"],e,{hp:e.maxHp})}}),i["default"].dispatch({type:"SET_GAME_AREA",payload:{gameArea:"battle"}})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},l=n(2),c=r(l),p=n(4),f=n(92),d=n(70),v=r(d),h=new f.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/reach-levelup.mp3"]}),y=new f.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/increase-xp.mp3"]}),m=new f.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/bell_up.ogg"],volume:.4}),g=new f.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/pod_open.ogg"],volume:.2}),b=function(e){function t(){a(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.timeout=null,this.state={showSelf:!1,avatarToLeft:!1,showResultText:!1,showXpBar:!1,showXpGain:!1,showLevelUp:!1}}o(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.initialXp=this.props.playerXp,this.timeout=setTimeout(function(){g.play(),e.setState({showSelf:!0},function(){e.showAvatarToLeft()})},1e3)}},{key:"showAvatarToLeft",value:function(){var e=this;this.timeout=setTimeout(function(){e.setState({avatarToLeft:!0},function(){e.showText()})},1e3)}},{key:"showText",value:function(){var e=this;this.timeout=setTimeout(function(){m.play(),e.setState({showResultText:!0},function(){e.showXpBar()})},1300)}},{key:"showXpBar",value:function(){var e=this;this.timeout=setTimeout(function(){e.setState({showXpBar:!0},function(){e.showGain()})},1700)}},{key:"showGain",value:function(){var e=this;this.timeout=setTimeout(function(){y.play(),e.setState({showXpGain:!0},function(){var t=e.props.playerXp+e.props.xpGain;e.props.dispatch({type:"SET_PLAYERDATA_VALUE",payload:{changes:{xp:t}}}),t>=v["default"][e.props.playerLevel+1]?e.showLevelUp():e.triggerUnmount(4e3)})},1e3)}},{key:"showLevelUp",value:function(){var e=this;this.props.dispatch({type:"SET_PAUSEMENU_VALUE",payload:{changes:{currentCursoringList:"pauseSidebarMenu",selectedMenuItem:"pauseSidebarMenu-levelup",showMenuTab:"pauseSidebarMenu-levelup"}}}),this.props.dispatch({type:"SET_RESULT_PROMPT_VALUE",payload:{changes:{safeToPause:!0}}}),this.timeout=setTimeout(function(){h.play(),e.setState({showLevelUp:!0},function(){e.triggerUnmount(5e3)})},1500)}},{key:"triggerUnmount",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];setTimeout(function(){e.props.dispatch({type:"SET_RESULT_PROMPT_VALUE",payload:{changes:{showResult:!1,safeToPause:!0}}})},t)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"renderLevelUp",value:function(){var e={fontSize:"5.3vw",marginTop:"0.7vw",textAlign:"center"},t={textAlign:"center",fontSize:"2vw",marginTop:"0.6vw"};return c["default"].createElement("div",{style:e},"LEVEL UP",c["default"].createElement("div",{style:t},"Press ESC"))}},{key:"renderXpBar",value:function(){var e={position:"absolute",left:"1vw",right:"1vw",bottom:"1vw",height:"2vw",background:"#585757"},t=v["default"][this.props.playerLevel+1]-v["default"][this.props.playerLevel],n=this.initialXp-v["default"][this.props.playerLevel]+(this.state.showXpGain?this.props.xpGain:0),r=n/t*100;r=100>r?r:100;var a={position:"absolute",left:0,bottom:0,top:0,width:r+"%",transition:"width 1s",background:"linear-gradient(-180deg, #50E3C2 0%, #77F0D5 38%, #49CFB1 100%)"},o={color:"#fff",fontSize:"1.7vw",position:"absolute",top:"-2.4vw"},u=i({},o,{left:0}),s=i({},o,{right:0}),l={color:"#50E3C2"},p={fontSize:"3vw",position:"absolute",left:"47%",top:"33%",transform:"translate3d(-50%,0,0)"};return c["default"].createElement("div",null,c["default"].createElement("div",{style:p},c["default"].createElement("span",{style:l},"+",this.props.xpGain)," XP"),c["default"].createElement("div",{style:e},c["default"].createElement("div",{style:a}),c["default"].createElement("div",{style:u},"Level ",this.props.playerLevel),c["default"].createElement("div",{style:s},"Level ",this.props.playerLevel+1)))}},{key:"renderResult",value:function(){var e={background:"url("+this.props.battleRequests.requesterSkin+"), linear-gradient(-330deg, #58a, #ff0090)",width:"6vw",height:"6vw",marginRight:"1vw",backgroundPosition:"300% 100%",position:"absolute",transition:"left 0.8s",left:this.state.avatarToLeft?"17%":"50%",top:"55%",backgroundSize:"400%",borderRadius:"50%",transform:"translate3d(-50%,-50%,0)"},t={fontSize:"4.9vw",color:"#fff",position:"absolute",left:"30%",top:"53%",transform:"translate3d(0,-50%,0)",visibility:this.state.showResultText?"visible":"hidden"};return c["default"].createElement("div",null,c["default"].createElement("div",{style:e}),c["default"].createElement("div",{style:t},"VICTORY"))}},{key:"renderBody",value:function(){return this.state.showLevelUp?this.renderLevelUp():this.state.showXpBar?this.renderXpBar():this.renderResult()}},{key:"render",value:function(){var e={position:"absolute",right:"1vw",top:"1vw",padding:"1vw",fontSize:"2.6vw",fontFamily:"monospace",width:"34vw",height:"14vw",background:"#333",color:"#fff",borderBottom:"0.8vw solid #222"};return this.state.showSelf?c["default"].createElement("div",{style:e},c["default"].createElement("div",{style:{textAlign:"center"}},"Battle Results"),this.renderBody()):null}}]);var n=t;return t=(0,p.connect)(function(e,t){return{battleRequests:e.battleRequests,playerXp:e.playerData.xp,playerLevel:e.playerData.level,showLevelUp:!1,xpGain:e.battleResultPrompt.xpGain}})(t)||t}(c["default"].Component);t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(56),f=r(p),d=n(65),v=r(d),h=n(100),y=r(h),m=n(27),g=r(m),b=n(102),_=r(b),w=n(91),O=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;new y["default"];
var t=function(){(0,_["default"])()};(0,w.addKeyboardSinglePress)(27,t,"pause-btn"),this.keyQueue=[];var n=function(e){return 37==e?"left":39==e?"right":38==e?"up":40==e?"down":65==e?"left":68==e?"right":87==e?"up":83==e?"down":void 0};$(document).on("keydown.player-movement",function(t){37!=t.which&&38!=t.which&&39!=t.which&&40!=t.which&&65!=t.which&&68!=t.which&&83!=t.which&&87!=t.which||e.addKey(n(t.which))}).on("keyup.player-movement",function(t){37!=t.which&&38!=t.which&&39!=t.which&&40!=t.which&&65!=t.which&&68!=t.which&&83!=t.which&&87!=t.which||e.releaseKey(n(t.which))}),this.addKey=this.addKey.bind(this),this.releaseKey=this.releaseKey.bind(this)}},{key:"componentWillUnmount",value:function(){this.keyQueue=[],$(document).off(".player-movement"),$(document).off(".action-button-controller"),(0,w.removeKeyboardSinglePress)("pause-btn")}},{key:"addKey",value:function(e){-1==this.keyQueue.indexOf(e)&&this.keyQueue.unshift(e),this.props.moving||this.startMoving(this.keyQueue[0])}},{key:"releaseKey",value:function(e){var t=this;-1!=this.keyQueue.indexOf(e)?this.keyQueue.splice(this.keyQueue.indexOf(e),1):setTimeout(function(){t.releaseKey(e)},20),this.keyQueue.length&&!this.props.moving&&this.startMoving(this.keyQueue[0])}},{key:"getUpdatedX",value:function(e){return"left"==e?this.props.playerX-1:"right"==e?this.props.playerX+1:this.props.playerX}},{key:"getUpdatedY",value:function(e){return"up"==e?this.props.playerY-1:"down"==e?this.props.playerY+1:this.props.playerY}},{key:"startMoving",value:function(e){var t=this;return g["default"].getState().game.isPaused?!1:g["default"].getState().message.messaging?!1:(this.props.dispatch({type:"UPDATE_DIRECTION",direction:e,mover_id:"player"}),f["default"].isFree(this.getUpdatedX(e),this.getUpdatedY(e))?(f["default"].reserveCell(this.getUpdatedX(e),this.getUpdatedY(e),"player"),this.props.dispatch({type:"START_MOVING",mover_id:"player"}),void(0,v["default"])("player",function(){f["default"].removeReservedCell(t.props.playerX,t.props.playerY),t.props.dispatch({type:"UPDATE_PLAYER_POSITION",x:t.getUpdatedX(e),y:t.getUpdatedY(e),mover_id:"player"}),f["default"].checkActions(t.props.playerX,t.props.playerY),t.keyQueue.length?t.startMoving(t.keyQueue[0]):t.stopMoving()})):(this.stopMoving(),void f["default"].checkActions(this.props.playerX,this.props.playerY)))}},{key:"stopMoving",value:function(){this.props.dispatch({type:"STOP_MOVING",mover_id:"player"})}},{key:"render",value:function(){return null}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerX:e.people.player.x,playerY:e.people.player.y,playerDirection:e.people.player.dir,moving:e.people.player.moving}})(t)||t}(l["default"].Component);t["default"]=O,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){function e(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=s["default"].getState().people.player.dir;return-1!=e.indexOf(t)}var t=this;t.btnSafe=!0;var n=32;(0,i["default"])(".viewport").on("click",".player",function(){t.handleActionButton()}),(0,i["default"])(document).on("keydown.action-button-controller",function(e){e.which==n&&t.btnSafe&&(t.btnSafe=!1,t.handleActionButton())}).on("keyup.action-button-controller",function(e){e.which==n&&(t.btnSafe=!0)}),t.handleActionButton=function(){if("map"==s["default"].getState().game.gameArea){if(s["default"].getState().game.isPaused)return void console.log("action button during pause state");if(s["default"].getState().game.isShowingTextbox)return!1;var t=p["default"].getInteraction();if(t&&("dialog"==t.type||"readable"==t.type)){"dialog"==t.type&&console.warn("interaction type is `dialog`. change to `readable`"),t.npc_id&&"stationary"==s["default"].getState().people[t.npc_id].useBehavior&&s["default"].dispatch({type:"UPDATE_DIRECTION",mover_id:t.npc_id,direction:(0,f.getOppositeDirection)(s["default"].getState().people.player.dir)});var n=t.dialog||t.content;t.content&&console.warn("`content` used instead of `dialog`. Clean it up."),t.restrictedDirections&&(e(t.restrictedDirections)||(n=t.restrictionErrorDialog||t.restrictionErrorContent),t.restrictionErrorContent&&console.warn("`restrictionErrorContent` used instead of `restrictionErrorDialog`. Clean it up."));var r=n.map(function(e){return(0,l.convertText)(e)});s["default"].dispatch({type:"SET_MESSAGE",payload:r}),s["default"].dispatch({type:"SHOW_TEXTBOX"})}}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var o=n(94),i=r(o),u=n(27),s=r(u),l=n(101),c=n(56),p=r(c),f=n(58);e.exports=t["default"]},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){var t=[];return e.forEach(function(e,r){if(e.match(/@@pause_/)){var a=e.match(/\d+/g)[0];t=[].concat(n(t),[{content:" ",delayBefore:a}])}else!function(){var r=70;e.match(/^\[LIGHTNING\]/i)&&(e=e.replace("[LIGHTNING]",""),r=10),e.match(/^\[FAST\]/i)&&(e=e.replace("[FAST]",""),r=35),e.match(/^\[SLOW\]/i)&&(e=e.replace("[SLOW]",""),r=140),e.match(/^\[CRAWL\]/i)&&(e=e.replace("[CRAWL]",""),r=360);var a=e.split("").map(function(e){return{content:e,delayBefore:" "!=e?r:0}});t=[].concat(n(t),n(a))}()}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.convertText=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),o=r(a);t["default"]=function(){if(o["default"].getState().battleRequests.showRequest)return!1;if(o["default"].getState().message.messaging)return!1;if(o["default"].getState().battleResultPrompt.showResult){if(!o["default"].getState().battleResultPrompt.safeToPause)return!1;o["default"].dispatch({type:"SET_RESULT_PROMPT_VALUE",payload:{changes:{showResult:!1}}})}o["default"].dispatch({type:"SET_GAME_AREA",payload:{gameArea:"pause"}})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(65),f=r(p),d=n(27),v=r(d),h=n(56),y=r(h),m=n(104),g=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.state={isTouching:!1,lastDirectionTouched:null,initialTouchX:0,initialTouchY:0}}o(t,e),i(t,[{key:"componentWillUpdate",value:function(e,t){this.state.lastDirectionTouched!=t.lastDirectionTouched&&t.lastDirectionTouched&&!e.moving&&this.startMoving(t.lastDirectionTouched)}},{key:"componentDidMount",value:function(){function e(){n=$(".hb-up")[0].getBoundingClientRect(),r=$(".hb-down")[0].getBoundingClientRect(),a=$(".hb-left")[0].getBoundingClientRect(),o=$(".hb-right")[0].getBoundingClientRect()}function t(e,t,n,r,a,o){var i=a>=n&&r>=a,u=o>=e&&t>=o;return i&&u}var n,r,a,o,i=this,u=$("body");$(".mobile-dpad");u.on("mousemove touchmove",function(e){e.preventDefault()}),$(".viewport").on("mousedown touchstart",function(t){if("map"==i.props.gameArea&&!t.target.classList.contains("js-no-dpad-on-touch")){var n=$(this)[0].getBoundingClientRect().left,r=$(this)[0].getBoundingClientRect().top;i.setState({isTouching:!0,initialTouchX:t.originalEvent.pageX-n,initialTouchY:t.originalEvent.pageY-r,indicatorX:t.originalEvent.pageX-n,indicatorY:t.originalEvent.pageY-r}),e()}}),u.on("mouseup touchend",function(){i.setState({isTouching:!1,lastDirectionTouched:null})}),$(".viewport").on("mousemove touchmove",function(e){if(i.state.isTouching){var u=$(this)[0].getBoundingClientRect().left,s=$(this)[0].getBoundingClientRect().top;i.setState({indicatorX:e.originalEvent.pageX-u,indicatorY:e.originalEvent.pageY-s});var l=e.originalEvent.pageX,c=e.originalEvent.pageY;if(t(n.top,n.bottom,n.left,n.right,l,c))return void i.setState({lastDirectionTouched:"up"});if(t(r.top,r.bottom,r.left,r.right,l,c))return void i.setState({lastDirectionTouched:"down"});if(t(a.top,a.bottom,a.left,a.right,l,c))return void i.setState({lastDirectionTouched:"left"});t(o.top,o.bottom,o.left,o.right,l,c)&&i.setState({lastDirectionTouched:"right"})}})}},{key:"startMoving",value:function(e){var t=this;return v["default"].getState().game.isPaused?!1:v["default"].getState().message.messaging?!1:(this.props.dispatch({type:"UPDATE_DIRECTION",direction:e,mover_id:"player"}),y["default"].isFree(this.getUpdatedX(e),this.getUpdatedY(e))?(y["default"].reserveCell(this.getUpdatedX(e),this.getUpdatedY(e),"player"),this.props.dispatch({type:"START_MOVING",mover_id:"player"}),void(0,f["default"])("player",function(){y["default"].removeReservedCell(t.props.playerX,t.props.playerY),t.props.dispatch({type:"UPDATE_PLAYER_POSITION",x:t.getUpdatedX(e),y:t.getUpdatedY(e),mover_id:"player"}),y["default"].checkActions(t.props.playerX,t.props.playerY),t.state.lastDirectionTouched?t.startMoving(t.state.lastDirectionTouched):t.stopMoving()})):(this.stopMoving(),void y["default"].checkActions(this.props.playerX,this.props.playerY)))}},{key:"stopMoving",value:function(){this.props.dispatch({type:"STOP_MOVING",mover_id:"player"})}},{key:"getUpdatedX",value:function(e){return"left"==e?this.props.playerX-1:"right"==e?this.props.playerX+1:this.props.playerX}},{key:"getUpdatedY",value:function(e){return"up"==e?this.props.playerY-1:"down"==e?this.props.playerY+1:this.props.playerY}},{key:"render",value:function(){var e=this.state.isTouching?"dpad-active":"",t="up"==this.state.lastDirectionTouched?"hb-active":"",n="down"==this.state.lastDirectionTouched?"hb-active":"",r="left"==this.state.lastDirectionTouched?"hb-active":"",a="right"==this.state.lastDirectionTouched?"hb-active":"",o={visibility:this.state.isTouching?"visible":"hidden",left:this.state.initialTouchX-70,top:this.state.initialTouchY-70},i={position:"absolute",visibility:(this.state.isTouching,"hidden"),width:10,height:10,marginLeft:-5,marginTop:-5,zIndex:20,background:"blue",left:this.state.indicatorX,top:this.state.indicatorY};return l["default"].createElement("div",null,l["default"].createElement("div",{style:i}),l["default"].createElement("div",{style:o,className:"mobile-dpad "+e},l["default"].createElement("div",{className:"circle js-dpad-circle"}),l["default"].createElement("div",{className:"hitbox hb-up "+t},(0,m.verticalDpadArrow)(44,"")),l["default"].createElement("div",{className:"hitbox hb-down "+n},(0,m.verticalDpadArrow)(44,"")),l["default"].createElement("div",{className:"hitbox hb-left "+r},(0,m.horizontalDpadArrow)(66,"")),l["default"].createElement("div",{className:"hitbox hb-right "+a},(0,m.horizontalDpadArrow)(66,""))))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerX:e.people.player.x,playerY:e.people.player.y,playerDirection:e.people.player.dir,moving:e.people.player.moving,gameArea:e.game.gameArea}})(t)||t}(l["default"].Component);t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return u["default"].createElement("svg",{width:e,className:t,viewBox:"0 0 44 66",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},u["default"].createElement("g",{stroke:"none",strokeWidth:"1",fill:"none","fill-rule":"evenodd",opacity:"0.5"},u["default"].createElement("g",{transform:"translate(-724.000000, -391.000000)",stroke:"#FFFFFF"},u["default"].createElement("g",{transform:"translate(676.000000, 317.000000)"},u["default"].createElement("g",{transform:"translate(48.000000, 74.000000)"},u["default"].createElement("path",{d:"M0,5.00452127 C0,2.24060049 2.24245787,0 5.00452127,0 L38.9954787,0 C41.7593995,0 44,2.24245787 44,5.00452127 L44,38.9954787 C44,41.7593995 42.4878509,45.6496172 40.6227275,47.6842973 L25.3772725,64.3157027 C23.5120564,66.3504839 20.4878509,66.3503828 18.6227275,64.3157027 L3.37727253,47.6842973 C1.51205642,45.6495161 0,41.7575421 0,38.9954787 L0,5.00452127 Z",id:"Rectangle-1-Copy",strokeWidth:"2",transform:"translate(22.000000, 32.920875) rotate(-180.000000) translate(-22.000000, -32.920875) "}),u["default"].createElement("path",{d:"M13,53.6198189 L21.9806025,44.8639596 L30.961205,53.6198189",strokeWidth:"4",transform:"translate(21.980603, 49.241889) rotate(-180.000000) translate(-21.980603, -49.241889) "}))))))}function o(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return u["default"].createElement("svg",{width:e,className:t,viewBox:"0 0 66 44",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},u["default"].createElement("g",{stroke:"none",strokeWidth:"1",fill:"none","fill-rule":"evenodd",opacity:"0.5"},u["default"].createElement("g",{transform:"translate(-676.000000, -365.000000)",stroke:"#FFFFFF"},u["default"].createElement("g",{transform:"translate(676.000000, 317.000000)"},u["default"].createElement("g",{transform:"translate(0.000000, 48.000000)"},u["default"].createElement("path",{d:"M11.0791247,-5.91635407 C11.0791247,-8.68027485 13.3215825,-10.9208753 16.0836459,-10.9208753 L50.0746034,-10.9208753 C52.8385242,-10.9208753 55.0791247,-8.67841748 55.0791247,-5.91635407 L55.0791247,28.0746034 C55.0791247,30.8385242 53.5669756,34.7287418 51.7018521,36.763422 L36.4563972,53.3948273 C34.5911811,55.4296086 31.5669756,55.4295075 29.7018521,53.3948273 L14.4563972,36.763422 C12.5911811,34.7286407 11.0791247,30.8366668 11.0791247,28.0746034 L11.0791247,-5.91635407 Z",id:"Rectangle-1-Copy",strokeWidth:"2",transform:"translate(33.079125, 22.000000) rotate(-90.000000) translate(-33.079125, -22.000000) "}),u["default"].createElement("path",{d:"M8.27750823,26.8585322 L17.2581108,18.1026728 L26.2387133,26.8585322",strokeWidth:"4",transform:"translate(17.258111, 22.480603) rotate(-90.000000) translate(-17.258111, -22.480603) "}))))))}Object.defineProperty(t,"__esModule",{value:!0}),t.verticalDpadArrow=a,t.horizontalDpadArrow=o;var i=n(2),u=r(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(106),f=r(p),d=n(107),v=r(d),h=n(108),y=(r(h),n(111),n(112)),m=r(y),g=n(129),b=r(g),_=n(132),w=r(_),O=n(140),E=r(O),S=n(145),P=r(S),T=n(146),k=r(T),M=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.state={intro:!0}}o(t,e),i(t,[{key:"componentWillMount",value:function(){(0,v["default"])(),(0,f["default"])()}}]),i(t,[{key:"componentDidMount",value:function(){var e=this;this.props.isAllowingMusic&&k["default"].playTrack("battle"),this.props.dispatch({type:"SET_BATTLE_INTRO_MESSAGE",payload:{introMessage:[(0,P["default"])()]}}),setTimeout(function(){e.setState({intro:!1})},200)}},{key:"renderCurrentAnimation",value:function(){var e=this.props.rollout[this.props.rolloutIndex];if(!e)return null;var t=this.props.rollout[this.props.rolloutIndex];return"animation"==this.props.rolloutEventStation?E["default"][e.animation].call(this,t):null}},{key:"render",value:function(){return l["default"].createElement("main",{className:"battle-frame"},l["default"].createElement("div",{className:"battle-container"},l["default"].createElement("div",{className:"battle-arena"},l["default"].createElement(m["default"],{forId:"a",isPlayer:!0,intro:this.state.intro}),l["default"].createElement(b["default"],{forId:"a",isPlayer:!0,intro:this.state.intro}),l["default"].createElement(m["default"],{forId:"b",isPlayer:!1,intro:this.state.intro}),l["default"].createElement(b["default"],{forId:"b",isPlayer:!1,intro:this.state.intro}),this.renderCurrentAnimation()),l["default"].createElement(w["default"],null)))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerId:e.battleUi.playerId,rollout:e.rollout,combatants:e.combatants,rolloutIndex:e.battleUi.rolloutIndex,rolloutEventStation:e.battleUi.rolloutEventStation,isAllowingMusic:e.game.isAllowingMusic}})(t)||t}(l["default"].Component);M.propTypes={},M.defaultProps={};t["default"]=M,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(27),i=r(o),u=n(49);r(u);t["default"]=function(){[{id:"a"},{id:"b",isChallenger:!0,items:["action_item_hp_001","action_item_clearStatus_lag_001","action_item_pp_001"]}].map(function(e){return a({},e)}).forEach(function(e){i["default"].dispatch({type:"MERGE_COMBATANT",payload:{key:e.id,changes:e}})})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),o=r(a);t["default"]=function(){[{type:"CLEAR_BATTLE_SUBMISSIONS"},{type:"SET_ROLLOUT",payload:{rollout:[]}},{type:"SET_ROLLOUT_INDEX",payload:{rolloutIndex:0}},{type:"SET_TEXT_MESSAGE",payload:{textMessage:null}},{type:"ADD_STYLE_TO_COMBATANT",payload:{key:"a",combatantStyles:{}}},{type:"ADD_STYLE_TO_COMBATANT",payload:{key:"b",combatantStyles:{}}},{type:"SET_ROLLOUT_EVENT_STATION",payload:{rolloutEventStation:"init"}}].forEach(function(e){o["default"].dispatch(e)})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(109),f=r(p),d=n(110),v=r(d),h=function(e){function t(){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){var e=this;if(!this.props.combatant)return null;var t={display:"inline-block",verticalAlign:"middle",width:20,height:20,marginRight:10,borderRadius:3,background:this.props.color};this.props.winners.filter(function(t){return t==e.props.id}).length;return l["default"].createElement("div",null,l["default"].createElement("div",null,l["default"].createElement("span",{style:t}),this.props.combatant.name),l["default"].createElement(f["default"],{forId:this.props.id,displayName:"Attack",statName:"attackStatPoints"}),l["default"].createElement(f["default"],{forId:this.props.id,displayName:"Defense",statName:"defenseStatPoints"}),l["default"].createElement(f["default"],{forId:this.props.id,displayName:"Speed",statName:"speedStatPoints"}),l["default"].createElement(f["default"],{forId:this.props.id,displayName:"Efficiency",statName:"efficiencyStatPoints"}),l["default"].createElement("div",null,"Skin: ",l["default"].createElement(v["default"],{forId:this.props.id})))}}]),t}(l["default"].Component);t["default"]=(0,c.connect)(function(e,t){return{combatant:e.combatants[t.id],winners:e.battle.winners}})(h),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=function(e){function t(){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"handleTick",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t={};t[this.props.statName]=this.props.value+e,this.props.dispatch({type:"MERGE_COMBATANT",payload:{key:this.props.forId,changes:t}})}},{key:"render",value:function(){var e;return l["default"].createElement("div",null,l["default"].createElement("span",{style:{display:"inline-block",width:70}},this.props.displayName),l["default"].createElement("button",{onClick:(e=this.handleTick).bind.call(e,this,-1)},"-"),l["default"].createElement("span",{style:{display:"inline-block",width:30,textAlign:"center"}},this.props.value),l["default"].createElement("button",{onClick:(e=this.handleTick).bind.call(e,this,1)},"+"))}}]),t}(l["default"].Component);t["default"]=(0,c.connect)(function(e,t){return{value:e.combatants[t.forId][t.statName]}})(p),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"handleChange",value:function(){this.props.dispatch({type:"MERGE_COMBATANT",payload:{key:this.props.forId,changes:{skin:this.refs.select.value}}})}},{key:"render",value:function(){return l["default"].createElement("select",{value:this.props.skin,ref:"select",onChange:this.handleChange.bind(this)},l["default"].createElement("option",{value:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/svJacob-2.svg"},"Jacob"),l["default"].createElement("option",{value:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew.svg"},"Drew"),l["default"].createElement("option",{value:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-blonde.svg"},"Drew (Blonde)"),l["default"].createElement("option",{value:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-pink.svg"},"Drew (Pink)"),l["default"].createElement("option",{value:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/drew-orange.svg"},"Drew (Orange)"),l["default"].createElement("option",{value:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/jessie.svg"},"Jessie"),l["default"].createElement("option",{value:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/jessie-blue.svg"},"Jessie (Blue)"))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{skin:e.combatants[t.forId].skin}})(t)||t}(l["default"].Component);p.propTypes={},p.defaultProps={},t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){e||console.warn("no value for setStation"),v["default"].dispatch({type:"SET_ROLLOUT_EVENT_STATION",payload:{rolloutEventStation:e}})}function o(e){v["default"].dispatch({type:"SET_TEXT_MESSAGE",payload:{textMessage:e}})}function i(){a("init");var e=v["default"].getState().combatants,t=Object.keys(e).filter(function(t){return e[t].hp<=0});0==t.length?(v["default"].dispatch({type:"SET_ROLLOUT_INDEX",payload:{rolloutIndex:0}}),v["default"].dispatch({type:"SET_ROLLOUT",payload:{rollout:[]}}),v["default"].dispatch({type:"CLEAR_BATTLE_SUBMISSIONS"})):(a("death"),u(t[0]))}function u(e){var t=v["default"].getState().battleUi.rolloutEventStation;if("death"==t){v["default"].dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:e,style:{animation:"die 2s forwards"}}});var n=v["default"].getState().combatants[e];o(null),o(n.name+" has run out of battery life!"),a("afterDeath")}}function s(){o(null);var e=v["default"].getState().battleUi.rolloutIndex;return"undefined"==typeof v["default"].getState().rollout[e+1]?(i(),!1):(v["default"].dispatch({type:"SET_ROLLOUT_INDEX",payload:{rolloutIndex:e+1}}),a("init"),void c())}function l(){var e=v["default"].getState().combatants,t=Object.keys(e).filter(function(t){return e[t].hp>0})[0],n=e[t];n||console.warn("no winner found"),v["default"].dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:t,style:{animation:"celebrate 2s infinite"}}}),t==v["default"].getState().battleUi.playerId?console.log("PLAYER WON! HAPPY MUSIC"):console.log("PLAYER LOST! SAD MUSIC"),a("battleOver"),o(null),o("[FAST]"+n.name+" is the winner!")}function c(){var e=v["default"].getState().battleUi.rolloutEventStation;if("battleOver"==e){var t=function(){var e=function(){v["default"].dispatch({type:"SET_GAME_AREA",payload:{gameArea:"map"}}),(0,h.removeKeyboardSinglePress)("exitBattle");var e=v["default"].getState().combatants,t=Object.keys(e).filter(function(t){return e[t].hp>0})[0];t==v["default"].getState().battleUi.playerId&&v["default"].dispatch({type:"SET_RESULT_PROMPT_VALUE",payload:{changes:{showResult:!0,safeToPause:!1}}})};return(0,h.addKeyboardSinglePress)(13,e,"exitBattle"),$(".message-board").on("click.exitBattle",function(){e()}),{v:void 0}}();if("object"==typeof t)return t.v}if("afterDeath"==e)return void setTimeout(function(){l()},1e3);var n=v["default"].getState().rollout[v["default"].getState().battleUi.rolloutIndex];if(!n.messages)return console.warn("The original caster might be dead, or the turn was cancelled"),void s();if("init"==e)return n.messages.before?(a("before"),void o(n.messages.before)):void a("animation");if("before"==e&&v["default"].getState().battleUi.textMessageDoneRolling){var r=function(){a("beforeConfirmation");var e=function(){(0,h.removeKeyboardSinglePress)("beforeConfirmation"),c()};return(0,h.addKeyboardSinglePress)(13,e,"beforeConfirmation"),$(".message-board").on("click.beforeConfirmation",function(){e()}),{v:void 0}}();if("object"==typeof r)return r.v}if("beforeConfirmation"==e)return n.cancelAnimation?(a("actions"),void c()):void a("animation");if("animation"==e)return a("actions"),void c();if("actions"==e){if(f(n.combatantActions),n.showTargetBlinking)return void a("blinking");o(null),o(n.messages.after),n.messages.after?(a("after"),o(n.messages.after),c()):s()}if("blinking"==e&&(o(null),o(n.messages.after),n.messages.after?(a("after"),o(n.messages.after),c()):s()),"after"==e&&v["default"].getState().battleUi.textMessageDoneRolling){var i=function(){a("afterConfirmation");var e=function(){(0,h.removeKeyboardSinglePress)("afterConfirmation"),c()};return(0,h.addKeyboardSinglePress)(13,e,"afterConfirmation"),$(".message-board").on("click.afterConfirmation",function(){e()}),{v:void 0}}();if("object"==typeof i)return i.v}"afterConfirmation"==e&&s()}function p(){console.warn("old incrementrolloutstation being fired")}function f(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];e.forEach(function(e){v["default"].dispatch(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.incrementRolloutStation2=c,t.incrementRolloutStation=p;var d=n(27),v=r(d),h=n(91)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},l=n(2),c=r(l),p=n(4),f=n(113),d=n(53),v=r(d),h=function(e){function t(){a(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),u(t,[{key:"submitRandomAttack",value:function(){var e=(0,v["default"])(this.props.combatant.attacks),t="a"==this.props.forId?"b":"a";(0,f.makeSubmission)(e,this.props.forId,t);
}},{key:"componentDidMount",value:function(){this.props.isPlayer||this.submitRandomAttack()}},{key:"componentWillUpdate",value:function(e){this.props.isPlayer||0!=e.submissions.length||this.submitRandomAttack()}},{key:"render",value:function(){var e=this.props.isPlayer?"battle-player":"battle-enemy",t=this.props.intro?"is-introing":"",n=this.props.combatantStyles[this.props.forId]?this.props.combatantStyles[this.props.forId]:null,r=i({backgroundImage:"url("+this.props.combatant.skin+")"},n);return c["default"].createElement("div",{style:r,className:e+" "+t})}}]);var n=t;return t=(0,p.connect)(function(e,t){return{combatant:e.combatants[t.forId],submissions:e.battle.submissions,combatantStyles:e.battleUi.combatantStyles}})(t)||t}(c["default"].Component);h.propTypes={},h.defaultProps={},t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){c["default"].dispatch({type:"SET_SERIES_WINNER_COUNT",payload:{seriesWinnerCount:0}});var e=[],t=c["default"].subscribe(function(){var n=e;e=c["default"].getState().battle.winners,n.length<e.length&&(console.warn("winners has gone up!",e),c["default"].dispatch({type:"SET_SERIES_WINNER_COUNT",payload:{seriesWinnerCount:c["default"].getState().battle.seriesWinnerCount+1}}),c["default"].getState().battle.seriesWinnerCount<c["default"].getState().battle.seriesBattleLength?(console.log("starting new battle"),i()):(console.log("unsubscribing"),t()))});i()}function i(){c["default"].dispatch({type:"SET_BATTLE_QUEUED_SUBMISSIONS",payload:[]}),E(),console.log("reset"),u(),console.log("autoSubmitNewTurns")}function u(){var e=c["default"].getState().combatants;if(!Object.keys(e).length)return void console.warn("No combatants");for(var t in e){var n=[].concat(a(e[t].attacks),a(e[t].items)),r=(0,f["default"])(n),o=/item_/.test(r)?null:(0,f["default"])((0,v["default"])(t));s(r,t,o)}}function s(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=new y["default"](c["default"].getState().combatants[t]),a=g["default"][e].speedModifier,o={action_id:e,caster_id:t,target_id:n,speedRoll:r.getSpeedRoll(a),casterPostTurnAddSubmission:"memoryLeak"==r.status?"memoryLeak":null,isFromQueue:!1};c["default"].dispatch({type:"ADD_BATTLE_SUBMISSION",payload:o});var i=c["default"].getState();i.battle.submissions.length==Object.keys(i.combatants).length&&(0,_["default"])()}Object.defineProperty(t,"__esModule",{value:!0}),t.startBattleSeries=o,t.autoSubmitTurns=u,t.makeSubmission=s;var l=n(27),c=r(l),p=n(53),f=r(p),d=n(114),v=r(d),h=n(115),y=r(h),m=n(116),g=r(m),b=n(118),_=r(b),w=n(128),O=r(w),E=function(){var e={hp:50,pp:50,status:"normal",accuracyModifier:0,attackModifier:0,defenseModifier:0,speedModifier:0,efficiencyModifier:0,items:["action_item_hp_001","action_item_accuracy_001","action_item_sticker_attack_001","action_item_sticker_defense_001","action_item_sticker_speed_001","action_item_sticker_efficiency_001","action_item_clearStatus_lag_001","action_item_clearStatus_memoryLeak_001"]};(0,O["default"])(e),c["default"].dispatch({type:"SET_ROLLOUT",payload:{rollout:[]}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),o=r(a);t["default"]=function(e){var t=o["default"].getState().combatants;return Object.keys(t).filter(function(n){return n!=e&&t[n].hp>0})},e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(52);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return"object"!=typeof e&&console.warn("Combatant model defined incorrectly. Expected object, got",typeof e),r({},e,{accuracyRoll:90+e.accuracyModifier,attackRoll:(0,a.baseRoll)()+e.attackStatPoints+e.attackModifier,defenseRoll:(0,a.getRandomInRange)(2,5)+e.defenseStatPoints+e.defenseModifier,efficiencyRating:e.efficiencyStatPoints+e.efficiencyModifier,getSpeedRoll:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return(0,a.baseRoll)()+e.speedStatPoints+e.speedModifier+t},isDead:function(){return e.hp<=0},isAlive:function(){return e.hp>0}})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(73),i=r(o),u=n(75),s=r(u),l=n(117),c=r(l);t["default"]=a({},i["default"],s["default"],c["default"]),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(74),i=r(o);t["default"]={action_naturaleffect_memoryLeak_001:a({},i["default"],{isNaturalStatusEvent:!0,accuracyModifier:999,affectCasterHpPointsByPercent:-.07,submittedByStatus:"memoryLeak"}),action_naturaleffect_lagExpire:a({},i["default"],{isNaturalStatusEvent:!0,accuracyModifier:999,clearCasterStatuses:["lag"],submittedByStatus:"lag"})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(27),u=r(i),s=n(119),l=r(s),c=n(120),p=n(121),f=r(p),d=n(124),v=r(d),h=n(127),y=r(h),m=n(113);t["default"]=function(){var e=o({},u["default"].getState().combatants);u["default"].dispatch({type:"SET_PROCESSING_COMBATANTS",payload:e});var t=[].concat(a((0,c.extractQueuedSubmissions)(u["default"].getState().battle.queuedSubmissions)),a(u["default"].getState().battle.submissions)).map(function(e){return o({},e,{id:(0,y["default"])("submission")})});u["default"].dispatch({type:"SET_BATTLE_QUEUED_SUBMISSIONS",payload:(0,c.removeQueueSlot)(u["default"].getState().battle.queuedSubmissions)});var n=(0,l["default"])(t),r=[].concat(a(n));n.forEach(function(e){if(e.casterPostTurnAddSubmission){var t=r.map(function(e){return e.id}).indexOf(e.id);r.splice(t+1,0,{id:(0,y["default"])("submission_natural"),action_id:"action_naturaleffect_memoryLeak_001",caster_id:e.caster_id,casterPostTurnAddSubmission:null,isFromQueue:!1})}});var i=[];r.forEach(function(e){var t=(0,f["default"])(e);t.processorActions.forEach(function(e){u["default"].dispatch(e)}),i.push(new v["default"](t))}),u["default"].dispatch({type:"SET_ROLLOUT",payload:{rollout:i}}),u["default"].dispatch({type:"SET_TERMINAL_MENU_KEY",payload:{terminalMenuKey:"menuRoot"}}),u["default"].dispatch({type:"SET_TERMINAL_MENU_INDEX",payload:{terminalMenuSelectedIndex:0}}),u["default"].getState().battle.isAutoplayMode&&i.forEach(function(e){e.messages&&e.messages.before&&console.log(e.messages.before),e.combatantActions.forEach(function(e){u["default"].dispatch(e)}),e.messages&&e.messages.after&&console.log(e.messages.after),console.log("-------------------------------------------")}),u["default"].getState().battle.isAutoplayMode&&u["default"].dispatch({type:"CLEAR_BATTLE_SUBMISSIONS"});var s=u["default"].getState().combatants,p=Object.keys(s).filter(function(e){return s[e].hp>0});Object.keys(s).filter(function(e){return s[e].hp<=0});u["default"].getState().battle.isAutoplayMode&&(p.length>1?setTimeout(function(){u["default"].dispatch({type:"SET_ROLLOUT",payload:{rollout:[]}}),(0,m.autoSubmitTurns)()},4):(u["default"].dispatch({type:"ADD_BATTLE_WINNER",payload:p[0]||null}),console.warn("WINNER IS",p)))},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(52);t["default"]=function(e){var t=[].concat(r(e));return t.sort(function(e,t){var n=e.speedRoll,r=t.speedRoll;return n==r&&(n=(0,a.coinToss)()?n+1:n-1),r>n?-1:n>r?1:0}).reverse()},e.exports=t["default"]},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){void 0===e&&(e=[]);var r=arguments.length<=2||void 0===arguments[2]?1:arguments[2];if(1>r)return console.warn("turnsToWait must be 1 or more "),[];for(var a=[],o=0;r-1>=o;o++)e[o]&&e[o].length?a.push([].concat(n(e[o]))):a.push([]);var i=[].concat(a);return i[r-1]=[].concat(n(i[r-1]),[t]),i}function a(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return e.length?e[0]:[]}function o(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return e.filter(function(e,t){return t>0})}Object.defineProperty(t,"__esModule",{value:!0}),t.addQueuedSubmissions=r,t.extractQueuedSubmissions=a,t.removeQueueSlot=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(27),u=r(i),s=n(116),l=r(s),c=n(115),p=r(c),f=n(52),d=n(122),v=n(85),h=r(v),y=n(120);t["default"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.caster_id?new p["default"](u["default"].getState().combatProcessor[e.caster_id]):null,r=e.target_id?new p["default"](u["default"].getState().combatProcessor[e.target_id]):null,i=l["default"][e.action_id],s={didUseItem:!1,caster_id:e.caster_id,target_id:e.target_id,action_id:e.action_id},c="number"==typeof t.attackRoll?t.attackRoll:n.attackRoll,v="number"==typeof t.defenseRoll?t.defenseRoll:r?r.defenseRoll:0;if(n.isDead())return{processorActions:[],trivia:o({},s,{cancelAnimation:!0,eventExit:"dead"})};if("lag"==n.status&&!i.itemValue&&!i.isNaturalStatusEvent)return{processorActions:[],trivia:o({},s,{eventExit:"cancelled:lag",overrideAnimation:"lag-out"})};var m=u["default"].getState().combatProcessor,g=Object.keys(m).filter(function(e){return m[e].hp>0});if(1==g.length)return{processorActions:[],trivia:o({},s,{eventExit:"cancelled:everybody-else-is-dead"})};if("lag"!=n.status&&!i.itemValue&&i.isNaturalStatusEvent&&-1!=i.clearCasterStatuses.indexOf("lag"))return{processorActions:[],trivia:o({},s,{cancelAnimation:!0,eventExit:"lagexpire::irrelevant"})};var b=t.accuracyRoll||n.accuracyRoll;if(s.accuracyRoll=b,(0,f.percentChance)(100-b-i.accuracyModifier))return{processorActions:[],trivia:o({},s,{eventExit:"miss",accuracyRoll:b,cancelAnimation:!0})};if(r&&i.targetResistanceNeeded>0&&v>=i.targetResistanceNeeded)return{processorActions:[],trivia:o({},s,{cancelAnimation:!0,eventExit:"resisted",defenseRoll:v})};if(r&&"normal"!=r.status&&"normal"!=i.affectTargetStatus)return{processorActions:[],trivia:o({},s,{cancelAnimation:!0,eventExit:"resisted::irrelevant"})};if(r&&i.theftQuantity>0&&0==r.items.length)return{processorActions:[],trivia:o({},s,{cancelAnimation:!0,eventExit:"resisted::noitems"})};var _=i.repetitions.length?(0,f.getRandomInRange)(i.repetitions[0],i.repetitions[1]):1,w=0;s.repetitions=_;for(var O=1;_>=O;O++){var E=i.affectTargetHpPoints+c-v;w=E>0?w+E:w}if(i.affectTargetHpPoints>0&&0>=w)return console.log("The Turn is -> target blocked the attack"),{processorActions:[],trivia:o({},s,{cancelAnimation:!0,eventExit:"blocked"})};var S={},P={};if(i.ppCost>0&&(S.pp=n.pp-i.ppCost),i.affectTargetHpPoints>0&&(P.hp=r.hp-w>0?r.hp-w:0,s.showTargetBlinking=!0),"normal"!=i.affectTargetStatus&&(P.status=i.affectTargetStatus,s.causedStatus=i.affectTargetStatus,i.statusTurnCount.length&&"lag"==s.causedStatus)){var T=(0,f.getRandomInRange)(i.statusTurnCount[0],i.statusTurnCount[1]),k=u["default"].getState().battle.queuedSubmissions,M={caster_id:e.target_id,target_id:null,speedRoll:9999,action_id:"action_naturaleffect_lagExpire"},x=(0,y.addQueuedSubmissions)(k,M,T);u["default"].dispatch({type:"SET_BATTLE_QUEUED_SUBMISSIONS",payload:x})}if(i.theftQuantity>0){var A=(0,d.getRandomItems)(r.items,i.theftQuantity);s.stolenItems=A,P.items=(0,h["default"])(r.items,A),S.items=[].concat(a(n.items),a(A))}if(i.isNaturalStatusEvent){if(0!=i.affectCasterHpPointsByPercent){var j=Math.ceil(n.maxHp*i.affectCasterHpPointsByPercent);S.hp=n.hp+j>0?n.hp+j:0,s.submittedByStatus=i.submittedByStatus,s.hpLost=0>j?-1*j:j,0==S.hp&&console.warn(e.caster_id+" is dead by memory leak!")}i.clearCasterStatuses.length&&-1!=i.clearCasterStatuses.indexOf(n.status)&&(S.status="normal",s.submittedByStatus=n.status)}if(i.itemValue){if(s.didUseItem=!0,S.items=(0,h["default"])(n.items,[e.action_id]),i.affectCasterHpPoints>0){var C=n.hp+i.affectCasterHpPoints,I=C<n.maxHp?C:n.maxHp;S.hp=I,s.hpRecovered=I-n.hp}if(i.affectCasterPpPoints>0){var C=n.pp+i.affectCasterPpPoints,N=C<n.maxPp?C:n.maxPp;S.pp=N,s.ppRecovered=N-n.pp}if(i.clearCasterStatuses.length){if(-1==i.clearCasterStatuses.indexOf(n.status))return{processorActions:[{type:"MERGE_PROCESSED_COMBATANT",payload:{key:e.caster_id,changes:S}}],trivia:o({},s,{eventExit:"itemfail::wrongstatus",defenseRoll:v})};S.status="normal",s.statusWas=n.status}var D=function(e,t,r){if(i[e]>0){var a="affectCasterEfficiencyPoints"!=e?n.efficiencyRating:0;S[t]=n[t]+a+i[e];var o={};o.statName=r,o.increasedBy=a+i[e],s.statIncreases=[o]}};[{actionPropertyName:"affectCasterAccuracyPoints",casterModifier:"accuracyModifier",statName:"accuracy"},{actionPropertyName:"affectCasterAttackPoints",casterModifier:"attackModifier",statName:"attack"},{actionPropertyName:"affectCasterDefensePoints",casterModifier:"defenseModifier",statName:"defense"},{actionPropertyName:"affectCasterSpeedPoints",casterModifier:"speedModifier",statName:"speed"},{actionPropertyName:"affectCasterEfficiencyPoints",casterModifier:"efficiencyModifier",statName:"efficiency"}].forEach(function(e){D(e.actionPropertyName,e.casterModifier,e.statName)})}var R=[{type:"MERGE_PROCESSED_COMBATANT",payload:{key:e.caster_id,changes:S}}];return e.target_id&&R.push({type:"MERGE_PROCESSED_COMBATANT",payload:{key:e.target_id,changes:P}}),{processorActions:R,trivia:o({},s)}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=e.map(function(e){return{id:e,value:l["default"][e].itemValue}}).sort(function(e,t){return e.value-t.value}).reverse().map(function(e){return e.id});return[].concat(a(n)).slice(0,t)}function i(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=e.map(function(e){return{id:e,value:l["default"][e].itemValue}}).sort(function(e,t){return e.value-t.value}).map(function(e){return e.id});return[].concat(a(n)).slice(0,t)}function u(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=(0,p["default"])(e);return n.slice(0,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.getBestItems=o,t.getWorstItems=i,t.getRandomItems=u;var s=n(116),l=r(s),c=n(123),p=r(c)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){for(var t,n,r=e.length;r;t=Math.floor(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return e.map(function(e){return o({},e,{type:e.type.replace("_PROCESSED","")})})}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(116),u=r(i),s=n(125),l=r(s);t["default"]=function(e){var t=u["default"][e.trivia.action_id].animation;return t||console.warn("No animation available for",e.trivia.action_id),{caster_id:e.trivia.caster_id,target_id:e.trivia.target_id,animation:t,repetitions:e.trivia.repetitions||null,showTargetBlinking:e.trivia.showTargetBlinking||!1,cancelAnimation:e.trivia.cancelAnimation||!1,combatantActions:a(e.processorActions),messages:(0,l["default"])(e.trivia)}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),o=r(a),i=n(116),u=r(i),s=n(115),l=r(s),c=n(126),p=r(c);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.caster_id?new l["default"](o["default"].getState().combatProcessor[e.caster_id]):null,n=e.target_id?new l["default"](o["default"].getState().combatProcessor[e.target_id]):null,r=u["default"][e.action_id],a=[t.name+" used ","@@pause_300","[FAST]"+r.name+"!"],i=null;if(e.repetitions>1&&(a=[t.name+" used ","@@pause_400","[FAST]"+r.name+"!"],i="It hit "+e.repetitions+" times!"),"miss"==e.eventExit&&(i=["[FAST]...but it missed!"]),"blocked"==e.eventExit&&(i=n.name+" blocked the attack!"),"resisted"==e.eventExit&&(i=["...but "+n.name+" resisted!"]),"resisted::irrelevant"==e.eventExit&&(i=["...but it didn't work..."]),"cancelled:lag"==e.eventExit)return{before:t.name+" is lagging too much to attack!",after:null};if("dead"==e.eventExit)return null;if("death"==e.submittedByStatus)return{before:null,after:t.name+" is out of battery life!"};if("cancelled:everybody-else-is-dead"==e.eventExit)return null;if("lagexpire::irrelevant"==e.eventExit)return null;if("memoryLeak"==e.causedStatus&&(i=["[FAST]"+n.name+" has a memory leak!"]),"lag"==e.causedStatus&&(i=[n.name+" is lagging out!"]),"memoryLeak"==e.submittedByStatus&&(a=null,i=t.name+" is hurt by the memory leak!"),"action_naturaleffect_lagExpire"==e.action_id&&(a=null,i=t.name+"'s lagging has ended!"),e.stolenItems&&e.stolenItems.length){var s=e.stolenItems.map(function(e){return u["default"][e].name}),c=(0,p["default"])(s);i=["[FAST]"+t.name+" stole "+c+" from "+n.name+"!"]}switch(e.didUseItem&&(a=t.name+" used a "+r.name,/_sticker_/.test(e.action_id)&&(a=t.name+" slapped on a "+r.name),"itemfail::wrongstatus"==e.eventExit&&(i="...but it didn't do anything!"),e.statusWas&&("lag"==e.statusWas&&(i=t.name+" is no longer lagging!"),"memoryLeak"==e.statusWas&&(i=t.name+" fixed the memory leak!")),e.hpRecovered&&(i=t.name+" recovered "+e.hpRecovered+" hp!"),e.statIncreases&&(i="accuracy"==e.statIncreases[0].statName?t.name+"'s accuracy increased by "+e.statIncreases[0].increasedBy+"%":t.name+"'s "+e.statIncreases[0].statName+" increased!")),e.action_id){default:return{before:a,after:i}}},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=[];e.forEach(function(e,n){var r=t.filter(function(t){return t.name==e});0==r.length?t.push({name:e,quantity:1}):t.forEach(function(t){t.name==e&&(t.quantity=t.quantity+1)})});var n="";return t.map(function(e,t){var n=e.quantity>1?"s":"";return e.quantity+" "+e.name+n}).forEach(function(e,r){n+=e,r==t.length-2&&(t.length>2&&(n+=","),n+=" and "),r<t.length-2&&(n+=", ")}),n},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){e=e||"",t=t||10;for(var n="",r="0123456789",a=0;t>a;a++)n+=r.charAt(Math.floor(Math.random()*r.length));return e+"_"+n},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(27),i=r(o),u=n(49),s=r(u);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];[{name:"a"},{name:"b"}].map(function(t){var n=e?e:s["default"];return a({},n,t)}).forEach(function(e){i["default"].dispatch({type:"MERGE_COMBATANT",payload:{key:e.name,changes:e}})})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},l=n(2),c=r(l),p=n(4),f=n(130),d=n(111),v=n(131),h=r(v),y=n(92),m=new y.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/baBuhm.mp3"]}),g=function(e){function t(e){a(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.state={displayHp:e.combatant.hp,isVisible:!1}}o(t,e),u(t,[{key:"componentWillUpdate",value:function(e){var t=this;if(e.intro==this.props.intro||e.intro||setTimeout(function(){t.setState({isVisible:!0})},1100),e.combatant.hp!=this.props.combatant.hp){var n=this.props.combatant.hp-e.combatant.hp;n>0&&m.play(),this.initHPChangeSequence(n,this.props.combatant.hp)}}},{key:"setStyleOnCombatant",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:this.props.forId,style:i({},e)}})}},{key:"initHPChangeSequence",value:function(e,t){var n=this,r=100,a=0,o=function i(){r>a?(a+=1,n.setState({displayHp:(0,f.easeOutQuad)(a,t,-e,r)}),window.requestAnimationFrame(i)):n.handleCompleteSequence()};n.setStyleOnCombatant({animation:"blink 0.3s steps(2, start) infinite"}),window.requestAnimationFrame(o)}},{key:"handleCompleteSequence",value:function(){this.setStyleOnCombatant({}),(0,d.incrementRolloutStation2)()}},{key:"renderPlayerSpecificUi",value:function(){return c["default"].createElement("div",{className:"player-scoreboard-stats"},c["default"].createElement("div",{className:"_ibm player-scoreboard-stat"},"HP ",Math.round(this.state.displayHp),"/",this.props.combatant.maxHp),c["default"].createElement("div",{className:"_ibm player-scoreboard-stat"},"PP ",this.props.combatant.pp,"/",this.props.combatant.maxPp),c["default"].createElement("div",{className:"_ibm player-scoreboard-stat"},"Items: ",this.props.combatant.items.length))}},{key:"renderStatusBadge",value:function(){if("normal"==this.props.combatant.status)return null;var e="memoryLeak"==this.props.combatant.status?"MEMORY LEAK":"LAGGING";return c["default"].createElement("div",{className:"_ibb scoreboard-status"},"(",e,")")}},{key:"render",value:function(){var e=this.props.isPlayer?"battle-scoreboard-player":"battle-scoreboard-enemy",t=Math.round(this.state.displayHp)/this.props.combatant.maxHp*100,n={transition:"opacity 0.3s",opacity:this.state.isVisible?1:0},r=this.props.isPlayer?this.renderPlayerSpecificUi():null;return c["default"].createElement("div",{className:e,style:n},c["default"].createElement("div",{className:"_ibb scoreboard-name"},this.props.combatant.name),c["default"].createElement("div",{className:"_ibb scoreboard-level"},"LVL ",this.props.combatant.level),this.renderStatusBadge(),c["default"].createElement(h["default"],{percent:t}),r)}}]);var n=t;return t=(0,p.connect)(function(e,t){return{combatant:e.combatants[t.forId]}})(t)||t}(c["default"].Component);t["default"]=g,e.exports=t["default"]},function(e,t){"use strict";function n(e,t,n,r){return-n*(e/=r)*(e-2)+t}Object.defineProperty(t,"__esModule",{value:!0}),t.easeOutQuad=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"getFillColor",value:function(){var e="linear-gradient(-180deg, #50E3C2 0%, #70F9DB 37%, #3ABD9F 100%)",t="linear-gradient(-180deg, #E5E200 0%, #EBE669 38%, #C7BC00 100%)",n="linear-gradient(-180deg, #E50000 0%, #EB6969 38%, #C70000 100%)";return this.props.percent<=20?n:this.props.percent<=50?t:e}},{key:"render",value:function(){var e="1.3vw",t={width:"100%",marginTop:"0.8vw",marginBottom:"0.8vw",height:e,background:"#555",position:"relative"},n={width:this.props.percent+"%",height:e,position:"absolute",top:0,bottom:0,background:this.getFillColor(),left:0};return l["default"].createElement("div",{style:t},l["default"].createElement("div",{style:n}))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{}})(t)||t}(l["default"].Component);p.propTypes={percent:l["default"].PropTypes.number.isRequired},p.defaultProps={},t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(133),f=r(p),d=n(135),v=r(d),h=n(139),y=r(h),m=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"getTerminalContent",value:function(){return this.props.introMessage?l["default"].createElement(y["default"],null):this.props.rollout.length?l["default"].createElement(v["default"],{rollout:this.props.rollout}):l["default"].createElement(f["default"],null)}},{key:"render",value:function(){var e=this.getTerminalContent();return l["default"].createElement("div",{className:"message-board"},l["default"].createElement("div",{className:"terminal-header"}),l["default"].createElement("div",{className:"terminal-body"},e))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{rollout:e.rollout,introMessage:e.battleUi.introMessage}})(t)||t}(l["default"].Component);t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(92),f=n(113),d=n(134),v=r(d),h=n(91),y=new p.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/menu-move.mp3"]}),m=new p.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/submit.mp3"]}),g=function(e){function t(e){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.terminalViewData=(0,v["default"])(e.playerId)}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.props.terminalMenuSelectedIndex>0&&(y.play(),e.props.dispatch({type:"SET_TERMINAL_MENU_INDEX",payload:{terminalMenuSelectedIndex:e.props.terminalMenuSelectedIndex-1}}))},n=function(){var t=e.terminalViewData[e.props.terminalMenuKey].items.length-1;e.props.terminalMenuSelectedIndex<t&&(y.play(),e.props.dispatch({type:"SET_TERMINAL_MENU_INDEX",payload:{terminalMenuSelectedIndex:e.props.terminalMenuSelectedIndex+1}}))},r=function(){e.handleMenuSubmit()},a=function(){if("menuRoot"!=e.props.terminalMenuKey){var t=e.props.terminalMenuKey;e.props.dispatch({type:"SET_TERMINAL_MENU_KEY",payload:{terminalMenuKey:"menuRoot"}}),e.props.dispatch({type:"SET_TERMINAL_MENU_INDEX",payload:{terminalMenuSelectedIndex:"menuItems"==t?1:0}})}};(0,h.addKeyboardSinglePress)(13,r,"submission-menu"),(0,h.addKeyboardSinglePress)(38,t,"submission-menu"),(0,h.addKeyboardSinglePress)(87,t,"submission-menu"),(0,h.addKeyboardSinglePress)(40,n,"submission-menu"),(0,h.addKeyboardSinglePress)(83,n,"submission-menu"),(0,h.addKeyboardSinglePress)(37,t,"submission-menu"),
(0,h.addKeyboardSinglePress)(65,t,"submission-menu"),(0,h.addKeyboardSinglePress)(39,n,"submission-menu"),(0,h.addKeyboardSinglePress)(68,n,"submission-menu"),(0,h.addKeyboardSinglePress)(27,a,"submission-menu")}},{key:"componentWillUnmount",value:function(){(0,h.removeKeyboardSinglePress)("submission-menu")}},{key:"handleMenuSubmit",value:function(){var e=this,t=e.terminalViewData[e.props.terminalMenuKey].items[e.props.terminalMenuSelectedIndex].nextView||null;if(!t){var n=e.terminalViewData[e.props.terminalMenuKey].items[e.props.terminalMenuSelectedIndex].actionId;return void(n?(m.play(),(0,f.makeSubmission)(n,e.props.playerId,e.props.playerTargeting)):console.warn("no actionId for enter key"))}e.props.dispatch({type:"SET_TERMINAL_MENU_KEY",payload:{terminalMenuKey:t}}),e.props.dispatch({type:"SET_TERMINAL_MENU_INDEX",payload:{terminalMenuSelectedIndex:0}})}},{key:"handleMobileTap",value:function(e){var t=this;console.log("MOBILE TAB"),this.props.dispatch({type:"SET_TERMINAL_MENU_INDEX",payload:{terminalMenuSelectedIndex:e}}),setTimeout(function(){t.handleMenuSubmit()},60)}},{key:"renderAttackMenu",value:function(){var e=this,t=this.terminalViewData.menuAttacks.items.map(function(t,n){var r=n==e.props.terminalMenuSelectedIndex?"terminal-item-active":null;return l["default"].createElement("div",{key:n,className:"battle-menu-option "+r,onClick:e.handleMobileTap.bind(e,n)},t.label)});return l["default"].createElement("div",{className:"battle-menu-list-window medium-window"},l["default"].createElement("header",{className:"terminal-window-header"},l["default"].createElement("div",{className:"header-bubble header-bubble-blue"}),l["default"].createElement("div",null,"Attacks")),l["default"].createElement("div",{className:"battle-menu-list-options"},t))}},{key:"renderItemsMenu",value:function(){var e=this,t=this.terminalViewData.menuItems.items.map(function(t,n){var r=n==e.props.terminalMenuSelectedIndex?"terminal-item-active":null;return l["default"].createElement("div",{key:n,className:"battle-menu-option "+r,onClick:e.handleMobileTap.bind(e,n)},t.label)});return l["default"].createElement("div",{className:"battle-menu-list-window medium-window"},l["default"].createElement("header",{className:"terminal-window-header"},l["default"].createElement("div",{className:"header-bubble header-bubble-green"}),l["default"].createElement("div",null,"Items")),l["default"].createElement("div",{className:"battle-menu-list-options"},t))}},{key:"renderPopupMenu",value:function(){return"menuAttacks"==this.props.terminalMenuKey?this.renderAttackMenu():"menuItems"==this.props.terminalMenuKey?this.renderItemsMenu():null}},{key:"render",value:function(){var e=this,t=this.renderPopupMenu(),n=this.terminalViewData.menuRoot.items.map(function(t,n){var r=n==e.props.terminalMenuSelectedIndex?"terminal-item-active":null;return l["default"].createElement("div",{key:n,className:"battle-menu-root-option "+r,onClick:e.handleMobileTap.bind(e,n)},t.label)});return l["default"].createElement("div",{className:"battle-menu-container"},l["default"].createElement("div",null,"Commands"),l["default"].createElement("div",{className:"battle-menu-root-items"},n),t)}}]);var n=t;return t=(0,c.connect)(function(e,t){return{terminalMenuKey:e.battleUi.terminalMenuKey,terminalMenuSelectedIndex:e.battleUi.terminalMenuSelectedIndex,playerId:e.battleUi.playerId,playerTargeting:e.battleUi.playerTargeting,combatant:e.combatants[e.battleUi.playerId]}})(t)||t}(l["default"].Component);t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=[];return e.forEach(function(n){var r=t.filter(function(e){return e.actionId==n}).length>0,a=e.filter(function(e){return e==n}).length;if(!r){var o=c["default"][n];t.push({label:o.name,description:o.description,quantity:a,actionId:n})}}),t}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(27),s=r(u),l=n(116),c=r(l),p=[{label:"Attack",description:null,nextView:"menuAttacks"},{label:"Items",description:null,nextView:"menuItems"}],f={label:"(back)",isBackControl:!0,nextView:"menuRoot"};t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=s["default"].getState().combatants[e];t||console.warn("player combatant not found in `getSubmissionMenuData`");var n=s["default"].getState().playerData.attacks.map(function(e){var t=c["default"][e];return{label:t.name,ppCost:t.ppCost,description:t.description,actionId:e}}),r=o(t.items);return{menuRoot:{title:"Commands",items:p},menuAttacks:{title:"Commands > Attacks",items:[].concat(a(n),[i({},f)])},menuItems:{title:"Commands > Items",items:[].concat(a(r),[i({},f)])}}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(27),p=r(c),f=n(4),d=n(111),v=n(136),h=r(v),y=n(137),m=r(y),g=n(138),b=r(g),_=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=p["default"].getState().rollout[p["default"].getState().battleUi.rolloutIndex];(0,d.incrementRolloutStation2)(e)}},{key:"render",value:function(){var e=this.props.textMessage,t=Array.isArray(e)?e:[e],n=e?l["default"].createElement(h["default"],{content:(0,m["default"])(t)}):null;return l["default"].createElement("div",null,n,l["default"].createElement(b["default"],null))}}]);var n=t;return t=(0,f.connect)(function(e,t){return{textMessage:e.battleUi.textMessage}})(t)||t}(l["default"].Component);_.propTypes={rollout:l["default"].PropTypes.array.isRequired},t["default"]=_,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(92),f=n(111),d=new p.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/Blip_0.ogg"],volume:.5}),v=function(e){function t(e){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.timeout=null,this.state={characterIndex:0}}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch({type:"SET_TEXT_MESSAGE_DONE_ROLLING",payload:{textMessageDoneRolling:!1}}),this.initTimeout=setTimeout(function(){e.initMessaging()},100)}},{key:"handleDone",value:function(){this.props.dispatch({type:"SET_TEXT_MESSAGE_DONE_ROLLING",payload:{textMessageDoneRolling:!0}}),this.props.onDone?this.props.onDone():(0,f.incrementRolloutStation2)()}},{key:"initMessaging",value:function(){function e(){d.play(),t.setState({characterIndex:t.state.characterIndex+1},function(){var n=t.props.content[t.state.characterIndex]||{delayBefore:0};t.state.characterIndex<t.props.content.length?t.timeout=setTimeout(e,n.delayBefore):t.handleDone()})}var t=this;e()}},{key:"render",value:function(){var e=this,t=this.props.content.map(function(t,n){var r={visibility:n<e.state.characterIndex?"visible":"hidden"};return l["default"].createElement("span",{style:r,key:n},t.content)});return l["default"].createElement("div",null,t)}}]);var n=t;return t=(0,c.connect)(function(e,t){return{}})(t)||t}(l["default"].Component);t["default"]=v,e.exports=t["default"]},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=[];return e.forEach(function(e,r){if(e.match(/@@pause_/)){var a=e.match(/\d+/g)[0];t=[].concat(n(t),[{content:" ",delayBefore:a}])}else!function(){var r=70;e.match(/^\[LIGHTNING\]/i)&&(e=e.replace("[LIGHTNING]",""),r=10),e.match(/^\[FAST\]/i)&&(e=e.replace("[FAST]",""),r=35),e.match(/^\[SLOW\]/i)&&(e=e.replace("[SLOW]",""),r=140),e.match(/^\[CRAWL\]/i)&&(e=e.replace("[CRAWL]",""),r=360);var a=e.split("").map(function(e){return{content:e,delayBefore:" "!=e?r:0}});t=[].concat(n(t),n(a))}()}),t},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"render",value:function(){if(0==/Confirmation/.test(this.props.rolloutEventStation))return null;var e={position:"absolute",width:10,height:10,background:"#fff",right:10,bottom:10,animation:"blink 0.7s steps(2, start) infinite"};return l["default"].createElement("div",{style:e})}}]);var n=t;return t=(0,c.connect)(function(e,t){return{rolloutEventStation:e.battleUi.rolloutEventStation}})(t)||t}(l["default"].Component);t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(136),f=r(p),d=n(137),v=r(d),h=n(138),y=r(h),m=n(91),g=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.state={show:!1}}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({show:!0})},900)}},{key:"introDoneCallback",value:function(){this.props.dispatch({type:"SET_ROLLOUT_EVENT_STATION",payload:{rolloutEventStation:"introConfirmation"}});var e=this,t=function(){e.props.dispatch({type:"SET_BATTLE_INTRO_MESSAGE",payload:{introMessage:null}}),e.props.dispatch({type:"SET_ROLLOUT_EVENT_STATION",payload:{rolloutEventStation:"init"}}),(0,m.removeKeyboardSinglePress)("introMessage")};(0,m.addKeyboardSinglePress)(13,t,"introMessage"),$(".message-board").on("click.introMessage",function(e){console.log("intro click"),t()})}},{key:"render",value:function(){return this.state.show&&this.props.introMessage?l["default"].createElement("div",null,l["default"].createElement(f["default"],{onDone:this.introDoneCallback.bind(this),content:(0,v["default"])(this.props.introMessage)}),l["default"].createElement(y["default"],null)):null}}]);var n=t;return t=(0,c.connect)(function(e,t){return{introMessage:e.battleUi.introMessage}})(t)||t}(l["default"].Component);t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(141),u=r(i),s=n(142),l=r(s),c=n(143),p=r(c),f=n(144),d=r(f);t["default"]={tada:function(e){return o["default"].createElement(u["default"],{event:e})},slideOutDown:function(e){return o["default"].createElement(l["default"],{event:e})},shootingStar:function(e){return o["default"].createElement(p["default"],{event:e})},forEach1:function(e){return o["default"].createElement(d["default"],{event:e})}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(111),f=function(e){function t(e){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.caster_id=this.props.event.caster_id||null}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:this.caster_id,style:{animation:"tada 1s infinite"}}}),setTimeout(function(){e.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:e.caster_id,style:{}}}),setTimeout(function(){(0,p.incrementRolloutStation2)()},200)},1002)}},{key:"render",value:function(){return l["default"].createElement("div",{style:{position:"absolute"}})}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerId:e.battleUi.playerId}})(t)||t}(l["default"].Component);f.propTypes={},f.defaultProps={},t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(111),f=function(e){function t(e){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.caster_id=this.props.event.caster_id||null}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:this.caster_id,style:{animation:"slideOutDown 1s infinite"}}}),setTimeout(function(){(0,p.incrementRolloutStation2)(),e.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:e.caster_id,style:{}}})},1002)}},{key:"render",value:function(){return null}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerId:e.battleUi.playerId}})(t)||t}(l["default"].Component);f.propTypes={},f.defaultProps={},t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(111),f=function(e){function t(e){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.useReverse=this.props.event.caster_id!=this.props.playerId,this.target_id=this.props.event.target_id||null,this.state={isDone:!1}}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;console.warn("shootingStar - set to shake"),this.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:this.target_id,style:{animation:"shake 1s infinite linear"}}}),setTimeout(function(){e.setState({isDone:!0}),(0,p.incrementRolloutStation2)(),console.warn("shootingStar - remove shake")},990)}},{key:"render",value:function(){if(this.state.isDone)return null;var e=this.useReverse?"reverse":"",t={position:"absolute",animation:"projectile 1s ease-in "+e+", rise 1s ease-in "+e+", spin 1s linear infinite"};return l["default"].createElement("div",{style:t},l["default"].createElement("img",{style:d,src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/star.png"}))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerId:e.battleUi.playerId}})(t)||t}(l["default"].Component),d={display:"block",width:"100%"};f.propTypes={},f.defaultProps={},t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(111),f=n(92),d=new f.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/iterator.mp3"]}),v=function(e){function t(e){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.caster_id=this.props.event.caster_id||null}o(t,e),i(t,[{key:"componentDidMount",value:function(){function e(){d.play(),n-=1,t.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:t.caster_id,style:{animation:"tada 0.5s infinite"}}}),setTimeout(function(){t.props.dispatch({type:"ADD_STYLE_TO_COMBATANT",payload:{key:t.caster_id,style:{}}}),n>0?e():(0,p.incrementRolloutStation2)()},500)}var t=this,n=t.props.event.repetitions;e()}},{key:"render",value:function(){return l["default"].createElement("div",{style:{position:"absolute"}})}}]);var n=t;return t=(0,c.connect)(function(e,t){return{playerId:e.battleUi.playerId}})(t)||t}(l["default"].Component);t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),o=r(a);t["default"]=function(){var e=o["default"].getState().combatants,t=Object.keys(e).filter(function(t){return e[t].isChallenger})[0],n=Object.keys(e).filter(function(t){return!e[t].isChallenger})[0];return"[FAST]"+e[t].name+" challenges "+e[n].name+" to a HACK BATTLE"},e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92),a={currentTrack:null,tracks:{battle:{url:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/player-vs-computer.mp3",volume:.25},"battle-intro":{url:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/player-vs-computer-intro.mp3",volume:.25,callback:function(){a.playTrack("battle")}},coffeeShop:{url:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/fibonacci5.ogg",volume:.3},walkingOutside:{url:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/walking_outside2.mp3",volume:.2},dangerWaltz:{url:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/DangerWaltz8.ogg",volume:.3}},stopTrack:function(){this.currentTrack&&this.currentTrack.stop()},playTrack:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];this.stopTrack();var t=this.tracks[e];return t?(this.currentTrack=new r.Howl({urls:[t.url],volume:t.volume||1,loop:!t.callback,onend:function(){t.callback&&t.callback()}}),void this.currentTrack.play()):(console.warn("Track key not found in music player",e),!1)}};t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(92),f=new p.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/bell_down.ogg"],volume:.4}),d=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.state={isShowing:!1}}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;this.props.showOnboardingPopup&&setTimeout(function(){f.play(),e.setState({isShowing:!0},function(){setTimeout(function(){e.props.dispatch({type:"SET_ONBOARDING_POPUP",payload:{showOnboardingPopup:!1}})},5e3)})},3e3)}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"SET_ONBOARDING_POPUP",payload:{showOnboardingPopup:!1}})}},{key:"render",value:function(){return this.state.isShowing&&this.props.showOnboardingPopup?l["default"].createElement("div",{className:"onboarding-controls-box"},l["default"].createElement("div",{className:"box-title"},"CONTROLS"),l["default"].createElement("div",{className:"control-group"},l["default"].createElement("div",{className:"control-title"},"WALK"),l["default"].createElement("div",{className:"control-key"},"Arrow keys")),l["default"].createElement("div",{className:"control-group"},l["default"].createElement("div",{className:"control-title"},"TALK"),l["default"].createElement("div",{className:"control-key"},"Spacebar")),l["default"].createElement("div",{className:"control-group"},l["default"].createElement("div",{className:"control-title"},"ACTION"),l["default"].createElement("div",{className:"control-key"},"Enter")),l["default"].createElement("div",{className:"control-group"},l["default"].createElement("div",{className:"control-title"},"PAUSE"),l["default"].createElement("div",{className:"control-key"},"Esc key"))):null}}]);var n=t;return t=(0,c.connect)(function(e,t){return{showOnboardingPopup:e.game.showOnboardingPopup}})(t)||t}(l["default"].Component);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(102),f=r(p),d=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"handleClick",value:function(){return"pause"==this.props.gameArea?void this.props.dispatch({type:"SET_GAME_AREA",payload:{gameArea:"map"}}):void(0,f["default"])()}},{key:"render",value:function(){var e={fontFamily:"'Source Code Pro', monospace",background:"rgba(255,255,255,0.2)",color:"#fff",border:"2px solid #fff",borderRadius:6,padding:"8px 0",width:84,textAlign:"center",position:"absolute",left:"5px",bottom:"5px"},t="pause"==this.props.gameArea?"CLOSE":"MENU";return l["default"].createElement("div",{style:e,className:"js-no-dpad-on-touch",onClick:this.handleClick.bind(this)},t)}}]);var n=t;return t=(0,c.connect)(function(e,t){return{gameArea:e.game.gameArea}})(t)||t}(l["default"].Component);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(91),f=n(150),d=r(f),v=n(92),h=new v.Howl({urls:["https://s3-us-west-2.amazonaws.com/s.cdpn.io/163669/speedup6.ogg"],volume:.7}),y=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.state={isPromptBlinking:!0,isMobileWarning:!1}}o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;(0,d["default"])()&&e.setState({isMobileWarning:!0});var t=function(){h.play(),e.setState({isPromptBlinking:!1}),setTimeout(function(){e.props.dispatch({type:"SET_GAME_AREA",payload:{gameArea:"map"}}),setTimeout(function(){e.props.dispatch({type:"SET_TRANSITION_OVERLAY_OPACITY",payload:{transitionOverlayOpacity:0}})},1e3)},2e3)};(0,p.addKeyboardSinglePress)(13,t,"title-screen")}},{key:"componentWillUnmount",value:function(){(0,p.removeKeyboardSinglePress)("title-screen")}},{key:"renderText",value:function(){if(this.state.isMobileWarning){var e={fontFamily:'"Source Code Pro", monospace',textAlign:"center",fontSize:"2vw",maxWidth:"40vw",margin:"0 auto",position:"relative",top:"1vw",lineHeight:"2.5vw"};return l["default"].createElement("div",{style:e},l["default"].createElement("div",null,"Uh oh!"),l["default"].createElement("div",null,'This game is "desktop only" for the moment. Check back soon!'));
}var t={fontFamily:'"Source Code Pro", monospace',textAlign:"center",fontSize:"3vw",position:"relative",top:"-1vw",animation:this.state.isPromptBlinking?"blink 1s steps(2, start) infinite":"none"};return l["default"].createElement("div",{style:t},"Press ENTER")}},{key:"render",value:function(){var e={width:"100%",color:"#fff",position:"relative"},t={width:"60vw",animation:"fade-in 1s",display:"block",margin:"7vw auto 0 auto"};return l["default"].createElement("div",{style:e},l["default"].createElement("div",null,l["default"].createElement("img",{style:t,src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/logo.min.svg"}),this.renderText()),l["default"].createElement("div",{className:"title-jacob"}))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{}})(t)||t}(l["default"].Component);t["default"]=y,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){var e=this;e.btnSafe=!0;var t=13;(0,i["default"])(document).on("keydown",function(n){n.which==t&&e.btnSafe&&(e.btnSafe=!1)}).on("keyup",function(n){n.which==t&&(e.btnSafe=!0)}),e.handlePauseButton=function(){return s["default"].getState().game.isShowingTextbox?void 0:(console.log("pause button"),s["default"].getState().game.isPaused?void s["default"].dispatch({type:"UNPAUSE_GAME"}):void s["default"].dispatch({type:"PAUSE_GAME"}))}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var o=n(94),i=r(o),u=n(27),s=r(u);e.exports=t["default"]},function(e,t){"use strict";function n(e){for(var t=window.location.search.substring(1),n=t.split("&"),r=0;r<n.length;r++){var a=n[r].split("=");if(a[0]==e)return a[1]}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryVariable=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,u=l=void 0}},s=n(2),l=r(s),c=n(4),p=n(154),f=function(e){function t(){a(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}o(t,e),i(t,[{key:"handleSwitch",value:function(e){e.preventDefault();var t=!this.props.isAllowingMusic;return this.props.dispatch({type:"SET_GAME_VALUE",payload:{changes:{isAllowingMusic:t}}}),1==t?(window.Howler.unmute(),void this.refs.link.blur()):(window.Howler.mute(),void this.refs.link.blur())}},{key:"render",value:function(){var e={position:"absolute",right:0,bottom:0,fontFamily:'"Source Code Pro", monospace'},t=this.props.isAllowingMusic?(0,p.soundOnIcon)():(0,p.soundMutedIcon)(),n={width:20,margin:"2px 2px 0 2px",display:"block"};return l["default"].createElement("div",{style:e},l["default"].createElement("a",{ref:"link",href:"#",onClick:this.handleSwitch.bind(this),style:n},t))}}]);var n=t;return t=(0,c.connect)(function(e,t){return{isAllowingMusic:e.game.isAllowingMusic}})(t)||t}(l["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){return u["default"].createElement("svg",{viewBox:"0 0 32 32"},u["default"].createElement("path",{fill:"#3498db",d:"M22.485 25.985c-0.384 0-0.768-0.146-1.061-0.439-0.586-0.586-0.586-1.535 0-2.121 4.094-4.094 4.094-10.755 0-14.849-0.586-0.586-0.586-1.536 0-2.121s1.536-0.586 2.121 0c2.55 2.55 3.954 5.94 3.954 9.546s-1.404 6.996-3.954 9.546c-0.293 0.293-0.677 0.439-1.061 0.439v0zM17.157 23.157c-0.384 0-0.768-0.146-1.061-0.439-0.586-0.586-0.586-1.535 0-2.121 2.534-2.534 2.534-6.658 0-9.192-0.586-0.586-0.586-1.536 0-2.121s1.535-0.586 2.121 0c3.704 3.704 3.704 9.731 0 13.435-0.293 0.293-0.677 0.439-1.061 0.439z"}),u["default"].createElement("path",{fill:"#3498db",d:"M13 30c-0.26 0-0.516-0.102-0.707-0.293l-7.707-7.707h-3.586c-0.552 0-1-0.448-1-1v-10c0-0.552 0.448-1 1-1h3.586l7.707-7.707c0.286-0.286 0.716-0.372 1.090-0.217s0.617 0.519 0.617 0.924v26c0 0.404-0.244 0.769-0.617 0.924-0.124 0.051-0.254 0.076-0.383 0.076z"}))}function o(){return u["default"].createElement("svg",{viewBox:"0 0 32 32"},u["default"].createElement("path",{fill:"#bdc3c7",d:"M30 19.348v2.652h-2.652l-3.348-3.348-3.348 3.348h-2.652v-2.652l3.348-3.348-3.348-3.348v-2.652h2.652l3.348 3.348 3.348-3.348h2.652v2.652l-3.348 3.348 3.348 3.348z"}),u["default"].createElement("path",{fill:"#bdc3c7",d:"M13 30c-0.26 0-0.516-0.102-0.707-0.293l-7.707-7.707h-3.586c-0.552 0-1-0.448-1-1v-10c0-0.552 0.448-1 1-1h3.586l7.707-7.707c0.286-0.286 0.716-0.372 1.090-0.217s0.617 0.519 0.617 0.924v26c0 0.404-0.244 0.769-0.617 0.924-0.124 0.051-0.254 0.076-0.383 0.076z"}))}Object.defineProperty(t,"__esModule",{value:!0}),t.soundOnIcon=a,t.soundMutedIcon=o;var i=n(2),u=r(i)}]);